[
{
	"uri": "https://lczen.github.io/en/showcase/hugo/hugo-theme-zzo/",
	"title": "Hugo Zzo Theme",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "Make a blog with hugo zzo theme!",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/showcase/hugo/hugo-theme-zdoc/",
	"title": "Hugo zDoc Theme",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "Make a documentation with hugo zdoc theme!",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/",
	"title": "",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/categories/",
	"title": "Categories",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/tags/pandas%E5%8F%AF%E8%A7%86%E5%8C%96/",
	"title": "pandaså¯è§†åŒ–",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/posts/pandasview/",
	"title": "pandaså¯è§†åŒ–",
	"tags": ["pandaså¯è§†åŒ–"],
	"categories": [],
	"series": [],
	"description": "",
	"content": "åŸºäºpandasçš„å†…ç½®å¯è§†åŒ– åŸºæœ¬ç»˜å›¾ Serieså’ŒDataFrameä¸Šçš„è¿™ä¸ªåŠŸèƒ½åªæ˜¯ä½¿ç”¨matplotlibåº“çš„plot()æ–¹æ³•çš„ç®€å•åŒ…è£…å®ç°ã€‚\n1 2 3 4 5 6 7  %matplotlib inline import pandas as pd import numpy as np df = pd.DataFrame(np.random.randn(10,4),index=pd.date_range(\u0026#39;2019/04/15\u0026#39;, periods=10), columns=list(\u0026#39;ABCD\u0026#39;)) df.plot()   å¦‚æœç´¢å¼•ç”±æ—¥æœŸç»„æˆï¼Œåˆ™è°ƒç”¨gct().autofmt_xdate()æ¥æ ¼å¼åŒ–xè½´ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨xå’Œyå…³é”®å­—ç»˜åˆ¶ä¸€åˆ—ä¸å¦ä¸€åˆ—ã€‚\nç»˜å›¾æ–¹æ³•å…è®¸é™¤é»˜è®¤çº¿å›¾ä¹‹å¤–çš„å°‘æ•°ç»˜å›¾æ ·å¼ã€‚ è¿™äº›æ–¹æ³•å¯ä»¥ä½œä¸ºplot()çš„kindå…³é”®å­—å‚æ•°æä¾›ã€‚è¿™äº›åŒ…æ‹¬ -\n baræˆ–barhä¸ºæ¡å½¢ histä¸ºç›´æ–¹å›¾ boxplotä¸ºç›’å‹å›¾ areaä¸ºâ€œé¢ç§¯â€ scatterä¸ºæ•£ç‚¹å›¾  æ¡å½¢å›¾ 1 2 3 4  import pandas as pd import numpy as np df = pd.DataFrame(np.random.rand(10,4),columns=[\u0026#39;a\u0026#39;,\u0026#39;b\u0026#39;,\u0026#39;c\u0026#39;,\u0026#39;d\u0026#39;]) df.plot.bar()   è¦ç”Ÿæˆä¸€ä¸ªå †ç§¯æ¡å½¢å›¾ï¼Œé€šè¿‡æŒ‡å®šï¼špass stacked=True\n1 2 3  import pandas as pd df = pd.DataFrame(np.random.rand(10,4),columns=[\u0026#39;a\u0026#39;,\u0026#39;b\u0026#39;,\u0026#39;c\u0026#39;,\u0026#39;d\u0026#39;]) df.plot.bar(stacked=True)   è¦è·å¾—æ°´å¹³æ¡å½¢å›¾ï¼Œä½¿ç”¨barh()æ–¹æ³•\n1 2 3 4  import pandas as pd import numpy as np df = pd.DataFrame(np.random.rand(10,4),columns=[\u0026#39;a\u0026#39;,\u0026#39;b\u0026#39;,\u0026#39;c\u0026#39;,\u0026#39;d\u0026#39;]) df.plot.barh(stacked=True)   ç›´æ–¹å›¾ å¯ä»¥ä½¿ç”¨plot.hist()æ–¹æ³•ç»˜åˆ¶ç›´æ–¹å›¾ã€‚æˆ‘ä»¬å¯ä»¥æŒ‡å®šbinsçš„æ•°é‡å€¼ã€‚\n1 2 3 4 5  import pandas as pd import numpy as np df = pd.DataFrame({\u0026#39;a\u0026#39;:np.random.randn(1000)+1,\u0026#39;b\u0026#39;:np.random.randn(1000),\u0026#39;c\u0026#39;: np.random.randn(1000) - 1}, columns=[\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;]) df.plot.hist(bins=20)   è¦ä¸ºæ¯åˆ—ç»˜åˆ¶ä¸åŒçš„ç›´æ–¹å›¾ï¼Œè¦ç”¨df.plot()\n1 2 3 4 5  import pandas as pd import numpy as np df=pd.DataFrame({\u0026#39;a\u0026#39;:np.random.randn(1000)+1,\u0026#39;b\u0026#39;:np.random.randn(1000),\u0026#39;c\u0026#39;: np.random.randn(1000) - 1}, columns=[\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;]) df.hist(bins=20)   ç®±å½¢å›¾ Boxplotå¯ä»¥ç»˜åˆ¶è°ƒç”¨Series.box.plot()å’ŒDataFrame.box.plot()æˆ–DataFrame.boxplot()æ¥å¯è§†åŒ–æ¯åˆ—ä¸­å€¼çš„åˆ†å¸ƒã€‚\nä¾‹å¦‚ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªç®±å½¢å›¾ï¼Œè¡¨ç¤ºå¯¹[0,1)ä¸Šçš„ç»Ÿä¸€éšæœºå˜é‡çš„10æ¬¡è§‚å¯Ÿçš„äº”æ¬¡è¯•éªŒã€‚\n1 2 3 4  import pandas as pd import numpy as np df = pd.DataFrame(np.random.rand(10, 5), columns=[\u0026#39;A\u0026#39;, \u0026#39;B\u0026#39;, \u0026#39;C\u0026#39;, \u0026#39;D\u0026#39;, \u0026#39;E\u0026#39;]) df.plot.box()   75%åˆ†ä½æ•°,ä¸­ä½æ•°,25%åˆ†ä½æ•°;(75%-25%)*1.5ä½œä¸ºè¾¹ç•Œå€¼\nåŒºåŸŸå—å›¾ å¯ä»¥ä½¿ç”¨Series.plot.area()æˆ–DataFrame.plot.area()æ–¹æ³•åˆ›å»ºåŒºåŸŸå›¾å½¢\n1 2 3 4  import pandas as pd import numpy as np df = pd.DataFrame(np.random.rand(10, 4), columns=[\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;d\u0026#39;]) df.plot.area()   æ•£ç‚¹å›¾ å¯ä»¥ä½¿ç”¨DataFrame.plot.scatter()æ–¹æ³•åˆ›å»ºæ•£ç‚¹å›¾\n1 2 3 4  import pandas as pd import numpy as np df = pd.DataFrame(np.random.rand(50, 4), columns=[\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;d\u0026#39;]) df.plot.scatter(x=\u0026#39;a\u0026#39;, y=\u0026#39;b\u0026#39;)   é¥¼çŠ¶å›¾ é¥¼çŠ¶å›¾å¯ä»¥ä½¿ç”¨DataFrame.plot.pie()æ–¹æ³•åˆ›å»º\n1 2 3 4  import pandas as pd import numpy as np df = pd.DataFrame(3 * np.random.rand(4), index=[\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;d\u0026#39;], columns=[\u0026#39;x\u0026#39;]) df.plot.pie(subplots=True)   "
},
{
	"uri": "https://lczen.github.io/en/posts/",
	"title": "Posts",
	"tags": ["index"],
	"categories": [],
	"series": [],
	"description": "Post page",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/tags/",
	"title": "Tags",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/categories/%E7%BB%98%E5%9B%BE/",
	"title": "ç»˜å›¾",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/posts/seaborn/",
	"title": "Seaborn",
	"tags": ["seaborn"],
	"categories": [],
	"series": [],
	"description": "",
	"content": "seaborn seabornå•ç»´åº¦ä¸å…³è”ç»´åº¦åˆ†æ å•å˜é‡åˆ†å¸ƒ 1 2 3 4 5 6 7 8  %matplotlib inline import numpy as np import pandas as pd from scipy import stats, integrate import matplotlib.pyplot as plt import seaborn as sns sns.set(color_codes=True) np.random.seed(sum(map(ord, \u0026#34;distributions\u0026#34;)))   1 2 3 4 5 6 7 8 9 10 11 12 13  import datetime import matplotlib.dates as mpd import matplotlib.pyplot as plt import matplotlib.ticker as ticker import numpy as np import pandas as pd import time from matplotlib import gridspec from pandas import DataFrame from pandas import Series import warnings warnings.filterwarnings(\u0026#34;ignore\u0026#34;) %matplotlib inline   ç°åº¦å›¾ æœ€æ–¹ä¾¿å¿«æ·çš„æ–¹å¼~\n1 2  x = np.random.normal(size=100) sns.distplot(x, kde=True)   æƒ³å¾—åˆ°æ›´ç²¾ç»†çš„åˆ»ç”»ï¼Ÿè°ƒèŠ‚bins~\n1  sns.distplot(x, kde=True, bins=20)   æƒ³é…åˆç€å®ä¾‹ä¸€èµ·çœ‹ï¼Ÿ\n1  sns.distplot(x, kde=False, bins=20, rug=True)   é…åˆç€å®ä¾‹ä¸€èµ·çœ‹æœ‰ä»€ä¹ˆå¥½å¤„ï¼ŸæŒ‡å¯¼ä½ è®¾ç½®åˆé€‚çš„binsã€‚\næ ¸å¯†åº¦ä¼°è®¡ é€šè¿‡è§‚æµ‹ä¼°è®¡æ¦‚ç‡å¯†åº¦å‡½æ•°çš„å½¢çŠ¶ã€‚\næœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿå¾…å®šç³»æ•°æ³•æ±‚æ¦‚ç‡å¯†åº¦å‡½æ•°~\næ ¸å¯†åº¦ä¼°è®¡çš„æ­¥éª¤ï¼š\n æ¯ä¸€ä¸ªè§‚æµ‹é™„è¿‘ç”¨ä¸€ä¸ªæ­£æ€åˆ†å¸ƒæ›²çº¿è¿‘ä¼¼ å åŠ æ‰€æœ‰è§‚æµ‹çš„æ­£å¤ªåˆ†å¸ƒæ›²çº¿ å½’ä¸€åŒ–\nåœ¨seabornä¸­æ€ä¹ˆç”»å‘¢ï¼Ÿ  1  sns.kdeplot(x)#ä½“ç°æ•°æ®çš„å¯†é›†ç¨‹åº¦   bandwidthçš„æ¦‚å¿µï¼šç”¨äºè¿‘ä¼¼çš„æ­£æ€åˆ†å¸ƒæ›²çº¿çš„å®½åº¦ã€‚\n1 2 3 4  sns.kdeplot(x) sns.kdeplot(x, bw=.2, label=\u0026#34;bw: 0.2\u0026#34;) sns.kdeplot(x, bw=2, label=\u0026#34;bw: 2\u0026#34;) plt.legend()   æ¨¡å‹å‚æ•°æ‹Ÿåˆ 1 2  x = np.random.gamma(6, size=200) sns.distplot(x, kde=False, fit=stats.gamma)   åŒå˜é‡åˆ†å¸ƒ 1 2 3  mean, cov = [0, 1], [(1, .5), (.5, 1)] data = np.random.multivariate_normal(mean, cov, 200) df = pd.DataFrame(data, columns=[\u0026#34;x\u0026#34;, \u0026#34;y\u0026#34;])   ä¸¤ä¸ªç›¸å…³çš„æ­£æ€åˆ†å¸ƒ~\næ•£ç‚¹å›¾ 1  sns.jointplot(x=\u0026#34;x\u0026#34;, y=\u0026#34;y\u0026#34;, data=df)   å…­è§’ç®±å›¾ 1 2 3  x, y = np.random.multivariate_normal(mean, cov, 1000).T with sns.axes_style(\u0026#34;ticks\u0026#34;): sns.jointplot(x=x, y=y, kind=\u0026#34;hex\u0026#34;)   æ ¸å¯†åº¦ä¼°è®¡ 1  sns.jointplot(x=\u0026#34;x\u0026#34;, y=\u0026#34;y\u0026#34;, data=df, kind=\u0026#34;kde\u0026#34;)   1 2 3 4  f, ax = plt.subplots(figsize=(6, 6)) sns.kdeplot(df.x, df.y, ax=ax) sns.rugplot(df.x, color=\u0026#34;g\u0026#34;, ax=ax) sns.rugplot(df.y, vertical=True, ax=ax)   æƒ³çœ‹åˆ°æ›´è¿ç»­æ¢¦å¹»çš„æ•ˆæœ~\n1 2 3  f, ax = plt.subplots(figsize=(6, 6)) cmap = sns.cubehelix_palette(as_cmap=True, dark=1, light=0) sns.kdeplot(df.x, df.y, cmap=cmap, n_levels=60, shade=True)   1 2 3 4  g = sns.jointplot(x=\u0026#34;x\u0026#34;, y=\u0026#34;y\u0026#34;, data=df, kind=\u0026#34;kde\u0026#34;, color=\u0026#34;m\u0026#34;) # g.plot_joint(plt.scatter, c=\u0026#34;w\u0026#34;, s=30, linewidth=1, marker=\u0026#34;+\u0026#34;) # g.ax_joint.collections[0].set_alpha(0) # g.set_axis_labels(\u0026#34;$X$\u0026#34;, \u0026#34;$Y$\u0026#34;)   æ•°æ®é›†ä¸­çš„ä¸¤ä¸¤å…³ç³» 1 2  iris = sns.load_dataset(\u0026#34;iris\u0026#34;) iris.head()   \tsepal_length\tsepal_width\tpetal_length\tpetal_width\tspecies 0\t5.1\t3.5\t1.4\t0.2\tsetosa 1\t4.9\t3.0\t1.4\t0.2\tsetosa 2\t4.7\t3.2\t1.3\t0.2\tsetosa 3\t4.6\t3.1\t1.5\t0.2\tsetosa 4\t5.0\t3.6\t1.4\t0.2\tsetosa 1  sns.pairplot(iris);   å±æ€§ä¸¤ä¸¤é—´çš„å…³ç³» + å±æ€§çš„ç°åº¦å›¾\n1 2 3  g = sns.PairGrid(iris) g.map_diag(sns.kdeplot) g.map_offdiag(sns.kdeplot, cmap=\u0026#34;Blues_d\u0026#34;, n_levels=20)   seaborné«˜çº§åˆ†æ-è¿ç»­å˜é‡å…³è”åˆ†æ 1 2 3 4 5 6 7 8 9 10 11 12  %matplotlib inline import numpy as np import pandas as pd import matplotlib as mpl import matplotlib.pyplot as plt import seaborn as sns sns.set(color_codes=True) np.random.seed(sum(map(ord, \u0026#34;regression\u0026#34;))) import warnings warnings.filterwarnings(\u0026#34;ignore\u0026#34;) tips = sns.load_dataset(\u0026#34;tips\u0026#34;) tips.head()   \ttotal_bill\ttip\tsex\tsmoker\tday\ttime\tsize 0\t16.99\t1.01\tFemale\tNo\tSun\tDinner\t2 1\t10.34\t1.66\tMale\tNo\tSun\tDinner\t3 2\t21.01\t3.50\tMale\tNo\tSun\tDinner\t3 3\t23.68\t3.31\tMale\tNo\tSun\tDinner\t2 4\t24.59\t3.61\tFemale\tNo\tSun\tDinner\t4 1  tips[tips[\u0026#39;size\u0026#39;]==1]   \ttotal_bill\ttip\tsex\tsmoker\tday\ttime\tsize 67\t3.07\t1.00\tFemale\tYes\tSat\tDinner\t1 82\t10.07\t1.83\tFemale\tNo\tThur\tLunch\t1 111\t7.25\t1.00\tFemale\tNo\tSat\tDinner\t1 222\t8.58\t1.92\tMale\tYes\tFri\tLunch\t1 ç»˜åˆ¶çº¿æ€§å›å½’æ¨¡å‹ æœ€ç®€å•çš„æ–¹å¼ï¼šæ•£ç‚¹å›¾ + çº¿æ€§å›å½’ + 95%ç½®ä¿¡åŒºé—´\n1  sns.lmplot(x=\u0026#34;total_bill\u0026#34;, y=\u0026#34;tip\u0026#34;, data=tips)   å¯¹äºå˜é‡ç¦»çº¿å–å€¼ï¼Œæ•£ç‚¹å›¾å°±æ˜¾å¾—æœ‰äº›å°´å°¬\n1  sns.lmplot(x=\u0026#34;size\u0026#34;, y=\u0026#34;tip\u0026#34;, data=tips)   æ–¹æ³•1ï¼šåŠ ä¸ªå°çš„jitter\n1  sns.lmplot(x=\u0026#34;size\u0026#34;, y=\u0026#34;tip\u0026#34;, data=tips, x_jitter=.08)   æ–¹æ³•2ï¼šç¦»æ•£å–å€¼ä¸Šç”¨å‡å€¼å’Œç½®ä¿¡åŒºé—´ä»£æ›¿æ•£ç‚¹\n1  sns.lmplot(x=\u0026#34;size\u0026#34;, y=\u0026#34;tip\u0026#34;, data=tips, x_estimator=np.mean,ci=95)   æ‹Ÿåˆä¸åŒæ¨¡å‹ æœ‰äº›æ—¶å€™çº¿æ€§æ‹Ÿåˆæ•ˆæœä¸é”™ï¼Œæœ‰äº›æ—¶å€™å·®å¼ºäººæ„~\n1 2  anscombe = sns.load_dataset(\u0026#34;anscombe\u0026#34;) sns.lmplot(x=\u0026#34;x\u0026#34;, y=\u0026#34;y\u0026#34;, data=anscombe.query(\u0026#34;dataset == \u0026#39;I\u0026#39;\u0026#34;), ci=None, scatter_kws={\u0026#34;s\u0026#34;: 80})   1  sns.lmplot(x=\u0026#34;x\u0026#34;, y=\u0026#34;y\u0026#34;, data=anscombe.query(\u0026#34;dataset == \u0026#39;II\u0026#39;\u0026#34;), ci=None, scatter_kws={\u0026#34;s\u0026#34;: 80})   é«˜é˜¶æ‹Ÿåˆ\n1 2  #order=2ä»£è¡¨x2 sns.lmplot(x=\u0026#34;x\u0026#34;, y=\u0026#34;y\u0026#34;, data=anscombe.query(\u0026#34;dataset == \u0026#39;II\u0026#39;\u0026#34;), order=2, ci=None, scatter_kws={\u0026#34;s\u0026#34;: 80})   å¤„ç†å¼‚å¸¸å€¼\n1  sns.lmplot(x=\u0026#34;x\u0026#34;, y=\u0026#34;y\u0026#34;, data=anscombe.query(\u0026#34;dataset == \u0026#39;III\u0026#39;\u0026#34;), robust=True, ci=None, scatter_kws={\u0026#34;s\u0026#34;: 80})   äºŒå€¼å˜é‡æ‹Ÿåˆ\n1 2  tips[\u0026#34;big_tip\u0026#34;] = (tips.tip / tips.total_bill) \u0026gt; .15 sns.lmplot(x=\u0026#34;total_bill\u0026#34;, y=\u0026#34;big_tip\u0026#34;, data=tips, y_jitter=.05)   äºŒå€¼å˜é‡ç”¨ç›´çº¿æ¨¡æ‹Ÿä¸äº†\n1  sns.lmplot(x=\u0026#34;total_bill\u0026#34;, y=\u0026#34;big_tip\u0026#34;, data=tips, logistic=True, y_jitter=.03, ci=None)   å¦‚ä½•è¯„ä»·æ‹Ÿåˆæ•ˆæœï¼Ÿæ®‹å·®æ›²çº¿~\n1  sns.residplot(x=\u0026#34;x\u0026#34;, y=\u0026#34;y\u0026#34;, data=anscombe.query(\u0026#34;dataset == \u0026#39;I\u0026#39;\u0026#34;), scatter_kws={\u0026#34;s\u0026#34;: 80})   æ‹Ÿåˆçš„å¥½ï¼Œå°±æ˜¯ç™½å™ªå£°çš„åˆ†å¸ƒ ğ‘(0,ğœ2) æ‹Ÿåˆçš„å·®ï¼Œå°±èƒ½çœ‹å‡ºä¸€äº›æ¨¡å¼\n1  sns.residplot(x=\u0026#34;x\u0026#34;, y=\u0026#34;y\u0026#34;, data=anscombe.query(\u0026#34;dataset == \u0026#39;II\u0026#39;\u0026#34;), scatter_kws={\u0026#34;s\u0026#34;: 80})   å˜é‡é—´çš„æ¡ä»¶å…³ç³»æ‘¸ç´¢ 1  sns.lmplot(x=\u0026#34;total_bill\u0026#34;, y=\u0026#34;tip\u0026#34;, hue=\u0026#34;day\u0026#34;, data=tips)   1  sns.lmplot(x=\u0026#34;total_bill\u0026#34;, y=\u0026#34;tip\u0026#34;, hue=\u0026#34;smoker\u0026#34;, data=tips, markers=[\u0026#34;o\u0026#34;, \u0026#34;x\u0026#34;])   å¢åŠ æ›´å¤šçš„åˆ†ç±»æ¡ä»¶\n1  sns.lmplot(x=\u0026#34;total_bill\u0026#34;, y=\u0026#34;tip\u0026#34;, hue=\u0026#34;smoker\u0026#34;, col=\u0026#34;time\u0026#34;, data=tips)   1  sns.lmplot(x=\u0026#34;total_bill\u0026#34;, y=\u0026#34;tip\u0026#34;, hue=\u0026#34;smoker\u0026#34;, col=\u0026#34;time\u0026#34;, row=\u0026#34;sex\u0026#34;, data=tips)   æ§åˆ¶å›¾ç‰‡çš„å¤§å°å’Œå½¢çŠ¶ 1  sns.lmplot(x=\u0026#34;total_bill\u0026#34;, y=\u0026#34;tip\u0026#34;, col=\u0026#34;day\u0026#34;, data=tips, col_wrap=2, size=5)   1  sns.lmplot(x=\u0026#34;total_bill\u0026#34;, y=\u0026#34;tip\u0026#34;, col=\u0026#34;day\u0026#34;, data=tips, aspect=0.5)   "
},
{
	"uri": "https://lczen.github.io/en/tags/seaborn/",
	"title": "seaborn",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/",
	"title": "æœºå™¨å­¦ä¹ ",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/",
	"title": "æœºå™¨å­¦ä¹ ",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/posts/ml/",
	"title": "æœºå™¨å­¦ä¹ ",
	"tags": ["æœºå™¨å­¦ä¹ "],
	"categories": [],
	"series": [],
	"description": "",
	"content": "å¯¹æ•°æŸå¤±/äºŒå…ƒäº¤å‰ç†µæŸå¤± ç†µ "
},
{
	"uri": "https://lczen.github.io/en/tags/hadoop/",
	"title": "hadoop",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/posts/hadoop/",
	"title": "hadoop",
	"tags": ["hadoop"],
	"categories": [],
	"series": [],
	"description": "",
	"content": "HDFSç®€ä»‹ä¸å¸¸è§å‘½ä»¤ HDFS å…¨ç§°Hadoop distributed file systemï¼Œç®€ç§°HDFSï¼Œæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿã€‚å®ƒæ˜¯è°·æ­Œçš„GFSæå‡ºä¹‹åå‡ºç°çš„å¦å¤–ä¸€ç§æ–‡ä»¶ç³»ç»Ÿã€‚å®ƒæœ‰ä¸€å®šé«˜åº¦çš„å®¹é”™æ€§ï¼Œè€Œä¸”æä¾›äº†é«˜ååé‡çš„æ•°æ®è®¿é—®ï¼Œéå¸¸é€‚åˆå¤§è§„æ¨¡æ•°æ®é›†ä¸Šçš„åº”ç”¨ã€‚HDFS æä¾›äº†ä¸€ä¸ªé«˜åº¦å®¹é”™æ€§å’Œé«˜ååé‡çš„æµ·é‡æ•°æ®å­˜å‚¨è§£å†³æ–¹æ¡ˆã€‚\nåœ¨æœ€åˆï¼ŒHADOOPæ˜¯ä½œä¸ºApache Nutchæœç´¢å¼•æ“é¡¹ç›®çš„åŸºç¡€æ¶æ„è€Œå¼€å‘çš„ï¼Œåæ¥ç”±äºå®ƒç‹¬æœ‰çš„ç‰¹æ€§ï¼Œè®©å®ƒæˆä¸ºHADOOP COREé¡¹ç›®çš„ä¸€éƒ¨åˆ†ã€‚\nHDFSçš„è®¾è®¡æ€è·¯ ç®€å•è¯´ä¸€ä¸‹å®ƒçš„è®¾è®¡æ€è·¯ï¼Œå¤§å®¶å°±å¯ä»¥ç†è§£ä¸ºä»€ä¹ˆå®ƒå¯ä»¥æä¾›é«˜ååé‡çš„æ•°æ®è®¿é—®å’Œé€‚åˆå¤§è§„æ¨¡æ•°æ®é›†çš„åº”ç”¨çš„ç‰¹æ€§ã€‚\né¦–å…ˆHDFSçš„è®¾è®¡ä¹‹åˆå°±æ˜¯é’ˆå¯¹è¶…å¤§æ–‡ä»¶çš„å­˜å‚¨çš„ï¼Œå°æ–‡ä»¶ä¸ä¼šæé«˜è®¿é—®å’Œå­˜å‚¨é€Ÿåº¦ï¼Œåè€Œä¼šé™ä½ï¼›å…¶æ¬¡å®ƒé‡‡ç”¨äº†æœ€é«˜æ•ˆçš„è®¿é—®æ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯ç»å¸¸æ‰€è¯´çš„æµå¼æ•°æ®è®¿é—®ï¼Œç‰¹ç‚¹å°±æ˜¯ä¸€æ¬¡å†™å…¥å¤šæ¬¡è¯»å–ï¼›å†æœ‰å°±æ˜¯å®ƒè¿è¡Œåœ¨æ™®é€šçš„ç¡¬ä»¶ä¹‹ä¸Šçš„ï¼Œå³ä½¿ç¡¬ä»¶æ•…éšœï¼Œä¹Ÿå°±é€šè¿‡å®¹é”™æ¥ä¿è¯æ•°æ®çš„é«˜å¯ç”¨ã€‚\nHDFSæ ¸å¿ƒæ¦‚å¿µ  Blockï¼šå¤§æ–‡ä»¶çš„å­˜å‚¨ä¼šè¢«åˆ†å‰²ä¸ºå¤šä¸ªblockè¿›è¡Œå­˜å‚¨ã€‚é»˜è®¤ä¸º64MBï¼Œæ¯ä¸€ä¸ªblokä¼šåœ¨å¤šä¸ªdatanodeä¸Šå­˜å‚¨å¤šä»½å‰¯æœ¬ï¼Œé»˜è®¤ä¸º3ä»½ã€‚è¿™äº›è®¾ç½®éƒ½èƒ½å¤Ÿé€šè¿‡é…ç½®æ–‡ä»¶è¿›è¡Œæ›´æ”¹ã€‚ Namenodeï¼šä¸»è¦è´Ÿè´£å­˜å‚¨ä¸€äº›metadataä¿¡æ¯ï¼Œä¸»è¦åŒ…æ‹¬æ–‡ä»¶ç›®å½•ã€blockå’Œæ–‡ä»¶å¯¹åº”å…³ç³»ï¼Œä»¥åŠblockå’Œdatanodeçš„å¯¹åº”å…³ç³» Datanodeï¼šè´Ÿè´£å­˜å‚¨æ•°æ®ï¼Œä¸Šé¢æˆ‘ä»¬æ‰€è¯´çš„é«˜åº¦çš„å®¹é”™æ€§å¤§éƒ¨åˆ†åœ¨datanodeä¸Šå®ç°çš„ï¼Œè¿˜æœ‰ä¸€éƒ¨åˆ†å®¹é”™æ€§æ˜¯ä½“ç°åœ¨namenodeå’Œsecondnameï¼Œè¿˜æœ‰jobtrackerçš„å®¹é”™ç­‰ã€‚  HDFSçš„åŸºç¡€æ¶æ„å›¾ HDFSä¼˜ç‚¹ï¼š  é«˜ååé‡è®¿é—®ï¼šHDFSçš„æ¯ä¸ªblockåˆ†å¸ƒåœ¨ä¸åŒçš„rackä¸Šï¼Œåœ¨ç”¨æˆ·è®¿é—®æ—¶ï¼ŒHDFSä¼šè®¡ç®—ä½¿ç”¨æœ€è¿‘å’Œè®¿é—®é‡æœ€å°çš„æœåŠ¡å™¨ç»™ç”¨æˆ·æä¾›ã€‚ç”±äºblockåœ¨ä¸åŒçš„rackä¸Šéƒ½æœ‰å¤‡ä»½ï¼Œæ‰€ä»¥ä¸å†æ˜¯å•æ•°æ®è®¿é—®ï¼Œæ‰€ä»¥é€Ÿåº¦å’Œæ•ˆç‡æ˜¯éå¸¸å¿«çš„ã€‚å¦å¤–HDFSå¯ä»¥å¹¶è¡Œä»æœåŠ¡å™¨é›†ç¾¤ä¸­è¯»å†™ï¼Œå¢åŠ äº†æ–‡ä»¶è¯»å†™çš„è®¿é—®å¸¦å®½ã€‚ é«˜å®¹é”™æ€§ï¼šä¸Šé¢ç®€å•çš„ä»‹ç»äº†ä¸€ä¸‹é«˜åº¦å®¹é”™ã€‚ç³»ç»Ÿæ•…éšœæ˜¯ä¸å¯é¿å…çš„ï¼Œå¦‚ä½•åšåˆ°æ•…éšœä¹‹åçš„æ•°æ®æ¢å¤å’Œå®¹é”™å¤„ç†æ˜¯è‡³å…³é‡è¦çš„ã€‚HDFSé€šè¿‡å¤šæ–¹é¢ä¿è¯æ•°æ®çš„å¯é æ€§ï¼Œå¤šåˆ†å¤åˆ¶å¹¶ä¸”åˆ†å¸ƒåˆ°ç‰©ç†ä½ç½®çš„ä¸åŒæœåŠ¡å™¨ä¸Šï¼Œæ•°æ®æ ¡éªŒåŠŸèƒ½ã€åå°çš„è¿ç»­è‡ªæ£€æ•°æ®ä¸€è‡´æ€§åŠŸèƒ½ï¼Œéƒ½ä¸ºé«˜å®¹é”™æä¾›äº†å¯èƒ½ã€‚ å®¹é‡æ‰©å……ï¼šå› ä¸ºHDFSçš„blockä¿¡æ¯å­˜æ”¾åˆ°namenodeä¸Šï¼Œæ–‡ä»¶çš„blockåˆ†å¸ƒåˆ°datanodeä¸Šï¼Œå½“æ‰©å……çš„æ—¶å€™ï¼Œä»…ä»…æ·»åŠ datanodeæ•°é‡ï¼Œç³»ç»Ÿå¯ä»¥åœ¨ä¸åœæ­¢æœåŠ¡çš„æƒ…å†µä¸‹åšæ‰©å……ï¼Œä¸éœ€è¦äººå·¥å¹²é¢„ã€‚\n3ä¸ªä¸åŒçš„ä½ç½®ï¼š æœ¬åœ°ç”µè„‘ æœåŠ¡å™¨(Mac:terminal/ç»ˆç«¯ Windows:Xshell scureCRT) é›†ç¾¤\nHDFSä¸Šçš„æ•°æ®ï¼Œåˆ†å¸ƒåœ¨ä¸åŒçš„åœ°æ–¹ï¼Œæˆ‘ä»¬æœ‰ä¸€äº›å‘½ä»¤å¯ä»¥ç”¨äº å¢åŠ /æŸ¥çœ‹/åˆ é™¤ ç­‰æ•°æ®æ“ä½œã€‚  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35  #æ˜¾ç¤º/ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤¹ä¿¡æ¯ hadoop fs -ls / #é€’å½’æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶å¤¹å’Œå­æ–‡ä»¶(å¤¹) hadoop fs -lsr #åˆ›å»º/user/hadoopç›®å½• hadoop fs -mkdir /user/hadoop #æŠŠa.txtæ”¾åˆ°é›†ç¾¤/user/hadoop/æ–‡ä»¶å¤¹ä¸‹ hadoop fs -put a.txt /user/hadoop/ #æŠŠé›†ç¾¤ä¸Šçš„/user/hadoop/a.txtæ‹‰åˆ°æœ¬åœ°/ç›®å½•ä¸‹ hadoop fs -get /user/hadoop/a.txt / #é›†ç¾¤ä¸Šå¤åˆ¶æ–‡ä»¶ hadoop fs -cp src dst #é›†ç¾¤ä¸Šç§»åŠ¨æ–‡ä»¶ hadoop fs -mv src dst #æŸ¥çœ‹é›†ç¾¤ä¸Šæ–‡ä»¶/user/hadoop/a.txtçš„å†…å®¹ hadoop fs -cat /user/hadoop/a.txt #åˆ é™¤é›†ç¾¤ä¸Š/user/hadoop/a.txtæ–‡ä»¶ hadoop fs -rm /user/hadoop/a.txt #åˆ é™¤ç›®å½•å’Œç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ hadoop fs -rmr /user/hadoop/a.txt #ä¸hadoop fs -putåŠŸèƒ½ç±»ä¼¼ hadoop fs -copyFromLocal localsrc dst #å°†æœ¬åœ°æ–‡ä»¶ä¸Šä¼ åˆ°hdfsï¼ŒåŒæ—¶åˆ é™¤æœ¬åœ°æ–‡ä»¶ hadoop fs -moveFromLocal localsrc dst   Hadoopç»å…¸æ¡ˆä¾‹\u0026ndash;è¯é¢‘ç»Ÿè®¡ æˆ‘ä»¬å‰é¢æå®Œäº†ç”¨hadoopå®Œæˆå¤§æ•°æ®å¤„ç†çš„ä¸€äº›åŸºæœ¬çŸ¥è¯†ï¼Œè¿™æ¬¡å®éªŒå’±ä»¬ä¸€èµ·æ¥å­¦ä¹ ä¸€ä¸‹ï¼Œå¦‚ä½•ç¼–å†™Hadoopçš„map/reduceä»»åŠ¡ï¼Œå®Œæˆå¤§æ•°æ®çš„å¤„ç†ã€‚\nè¿™æ˜¯ä¸€ä¸ªéå¸¸ç»å…¸çš„ä¾‹å­ï¼Œå‡ ä¹åœ¨ä»»ä½•çš„hadoopæ•™æä¸Šéƒ½ä¼šçœ‹åˆ°å®ƒï¼Œå³ä½¿å¦‚æ­¤ï¼Œå®ƒä¾æ—§æ˜¯æœ€ç»å…¸æœ€æœ‰ä»£è¡¨æ€§çš„æ¡ˆä¾‹ï¼Œå­¦ä¹ å¤§æ•°æ®å¤„ç†ï¼Œå¯ä»¥ä»å…ˆç†è§£æ¸…æ¥šå®ƒå…¥æ‰‹ã€‚\næ€»ä½“æµç¨‹ å’±ä»¬æ¥çœ‹çœ‹å¯¹ç‰¹åˆ«å¤§çš„æ–‡ä»¶ç»Ÿè®¡ï¼Œæ•´ä¸ªè¿‡ç¨‹æ˜¯å¦‚ä½•åˆ†æ‹†çš„ã€‚\nå¤§å®¶æƒ³æƒ³è¯é¢‘ç»Ÿè®¡çš„è¿‡ç¨‹ï¼Œå¦‚æœæ˜¯å•æœºå®Œæˆï¼Œæˆ‘ä»¬éœ€è¦åšçš„äº‹æƒ…æ˜¯ç»´æŠ¤ä¸€ä¸ªè®¡æ•°å™¨å­—å…¸ï¼Œå¯¹æ¯æ¬¡å‡ºç°çš„è¯ï¼Œè¯é¢‘+1.ä½†æ˜¯å½“æ•°æ®é‡éå¸¸å¤§çš„æ—¶å€™ï¼Œæ²¡åŠæ³•åœ¨å†…å­˜ä¸­ç»´æŠ¤è¿™ä¹ˆå¤§çš„ä¸€ä¸ªå­—å…¸ï¼Œæˆ‘ä»¬å°±è¦æ¢ä¸€ç§æ€è·¯æ¥å®Œæˆè¿™ä¸ªä»»åŠ¡äº†ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€è°“çš„map-reduceè¿‡ç¨‹ã€‚\nå¤§ä½“çš„è¿‡ç¨‹ç”»æˆå›¾æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­ï¼š\nå¤§æ¦‚æ˜¯åˆ†æˆä¸‹é¢å‡ ä¸ªç¯èŠ‚ï¼š\n Mapé˜¶æ®µ  ä¸»è¦å®Œæˆkey-valueå¯¹ç”Ÿæˆï¼Œè¿™é‡Œæ˜¯æ¯çœ‹åˆ°ä¸€ä¸ªå•è¯ï¼Œå°±è¾“å‡º(å•è¯ï¼Œ1)çš„kvå¯¹   æ’åºé˜¶æ®µ  å¯¹åˆšæ‰çš„kvå¯¹è¿›è¡Œæ’åºï¼Œè¿™æ ·ç›¸åŒå•è¯å°±åœ¨ä¸€å—å„¿äº†   Reduceé˜¶æ®µ  å¯¹åŒä¸€ä¸ªå•è¯çš„æ¬¡æ•°è¿›è¡Œæ±‡æ€»ï¼Œå¾—åˆ°(è¯ï¼Œé¢‘æ¬¡)å¯¹    Mapé˜¶æ®µä»£ç  æµç¨‹å¤§å®¶éƒ½çœ‹æ¸…æ¥šå•¦ï¼Œå’±ä»¬æ¥çœ‹çœ‹ç”¨ä»£ç å¦‚ä½•å®ç°ï¼Œä½ çŒœæ€ä¹ˆç€ï¼Œæœ‰äº†hadoop streamingï¼Œå’±ä»¬å¯ä»¥ç”¨pythonè„šæœ¬å®Œæˆmapå’Œreduceçš„è¿‡ç¨‹ï¼Œç„¶åæŠŠæ•´ä¸ªæµç¨‹è·‘èµ·æ¥ï¼\næ¯”å¦‚å’±ä»¬mapé˜¶æ®µè¦åšçš„å°±æ˜¯æŠŠæ¯ä¸€ä¸ªå•è¯å’Œå‡ºç°1æ¬¡çš„ä¿¡æ¯è¾“å‡ºæ¥ï¼æ‰€ä»¥æˆ‘ä»¬å†™ä¸€ä¸ªmapper.pyæ–‡ä»¶ï¼Œå…·ä½“å†…å®¹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  #coding: utf-8 #!/usr/bin/env python import sys # ä»æ ‡å‡†è¾“å…¥è¿‡æ¥çš„æ•°æ® for line in sys.stdin: # æŠŠé¦–ä½çš„ç©ºæ ¼å»æ‰ line = line.strip() # æŠŠè¿™ä¸€è¡Œæ–‡æœ¬åˆ‡åˆ†æˆå•è¯(æŒ‰ç…§ç©ºæ ¼) words = line.split(\u0026#34;\u0026#34;) # å¯¹è§åˆ°çš„å•è¯è¿›è¡Œæ¬¡æ•°æ ‡æ³¨(å‡ºç°1æ¬¡) for word in words: print \u0026#39;%s\\t%s\u0026#39; % (word, 1)   å¯¹ï¼Œå°±è¿™ä¹ˆç®€å•ï¼Œä½ çœ‹åˆ°äº†ï¼Œå¯¹äºè¾“å…¥è¿›æ¥çš„æ¯ä¸€è¡Œï¼Œæˆ‘ä»¬åšå®Œåˆ‡åˆ†ä¹‹åï¼Œéƒ½ä¼šè¾“å‡º(å•è¯ï¼Œ1)è¿™æ ·ä¸€ä¸ªkvå¯¹ï¼Œè¡¨æ˜è¿™ä¸ªå•è¯å‡ºç°è¿‡ã€‚\næ’åºé˜¶æ®µ ä¸­é—´ä¼šæœ‰ä¸€ä¸ªå¯¹ä¸Šè¿°ç»“æœè¿›è¡Œæ’åºçš„è¿‡ç¨‹ï¼Œä»¥ä¿è¯æ‰€æœ‰ç›¸åŒçš„å•è¯éƒ½åœ¨ä¸€èµ·ï¼Œä¸è¿‡ä¸ç”¨æ‹…å¿ƒï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯ç³»ç»Ÿä¼šè‡ªåŠ¨å®Œæˆçš„ï¼Œå› æ­¤ä¸ç”¨æˆ‘ä»¬ç¼–å†™é¢å¤–çš„ä»£ç ã€‚\nReduceé˜¶æ®µ æ¥ä¸‹æ¥å°±æ˜¯å¯¹mapæ’åºåçš„ç»“æœè¿›è¡Œæ±‡æ€»äº†ï¼Œè¿™ä¸ªé˜¶æ®µæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªreducer.pyçš„pythonè„šæœ¬æ¥å®Œæˆï¼Œå…·ä½“å®Œæˆçš„ä»»åŠ¡ï¼Œå°±æ˜¯ï¼š\nå¯¹äºè¯»å…¥çš„(å•è¯ï¼Œ1)å¯¹\n å¦‚æœè¿™ä¸ªå•è¯è¿˜æ²¡æœ‰ç»“æŸï¼ˆæ’åºåæ‰€æœ‰ç›¸åŒçš„å•è¯éƒ½åœ¨ä¸€èµ·äº†ï¼‰ï¼Œæˆ‘ä»¬å°±å¯¹å•è¯çš„æ¬¡æ•°+1 å¦‚æœé‡åˆ°æ–°å•è¯äº†ï¼Œé‚£é‡æ–°å¼€å§‹å¯¹æ–°å•è¯è®¡æ•°  åŸºäºä¸Šé¢çš„æƒ³æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å®Œæˆä»¥ä¸‹çš„reducer.pyè„šæœ¬ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38  #coding: utf-8 #!/usr/bin/env python from operator import itemgetter import sys current_word = None current_count = 0 word = None # ä¾æ—§æ˜¯æ ‡å‡†è¾“å…¥è¿‡æ¥çš„æ•°æ® for line in sys.stdin: # å»é™¤å·¦å³ç©ºæ ¼ line = line.strip() # æŒ‰ç…§tabé”®å¯¹è¡Œåˆ‡åˆ†ï¼Œå¾—åˆ°wordå’Œæ¬¡æ•°1 word, count = line.split(\u0026#39;\\t\u0026#39;, 1) # ä½ å¾—åˆ°çš„1æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œéœ€è¦å¯¹å®ƒè¿›è¡Œç±»å‹è½¬åŒ– try: count = int(count) except ValueError: #å¦‚æœä¸èƒ½è½¬æˆæ•°å­—ï¼Œè¾“å…¥æœ‰é—®é¢˜ï¼Œè°ƒåˆ°ä¸‹ä¸€è¡Œ continue # å¦‚æœæœ¬æ¬¡è¯»å–çš„å•è¯å’Œä¸Šä¸€æ¬¡ä¸€æ ·ï¼Œå¯¹æ¬¡æ•°åŠ 1 if current_word == word: current_count += count else: if current_word: # è¾“å‡ºç»Ÿè®¡ç»“æœ print \u0026#39;%s\\t%s\u0026#39; % (current_word, current_count) current_count = count current_word = word # ä¸è¦å¿˜äº†æœ€åä¸€ä¸ªè¯å“¦ï¼Œä¹Ÿå¾—è¾“å‡ºç»“æœ if current_word == word: print \u0026#39;%s\\t%s\u0026#39; % (current_word, current_count)   æ€ä¹ˆæ ·ï¼Œ2ä¸ªè„šæœ¬æ˜¯ä¸æ˜¯å¾ˆå¥½æ‡‚ï¼Ÿ\næœ¬åœ°æ¨¡æ‹Ÿæµ‹è¯•ä»£ç  ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸ä¼šä¸€ééç”¨hadoop streamingæ‰§è¡Œä»»åŠ¡ï¼Œå»æµ‹è¯•è„šæœ¬å†™å¾—å¯¹ä¸å¯¹ï¼Œè¿™ä¸ªè¿‡ç¨‹å¤ªéº»çƒ¦äº†ã€‚\næœ‰æ²¡æœ‰æœ¬åœ°å¯ä»¥æµ‹è¯•çš„åŠæ³•ï¼Ÿæœ‰ï¼\næˆ‘ä»¬å¯ä»¥åˆ©ç”¨linuxç®¡é“æ¨¡æ‹Ÿmap-reduceçš„è¿‡ç¨‹ï¼æ¯”å¦‚æˆ‘ä»¬å¯ä»¥ä¸‹é¢è¿™æ ·æµ‹è¯•ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  # very basic test user@ubuntu:~$ echo \u0026#34;foo foo quux labs foo bar quux\u0026#34; | /home/hduser/mapper.py foo 1 foo 1 quux 1 labs 1 foo 1 bar 1 quux 1 user@ubuntu:~$ echo \u0026#34;foo foo quux labs foo bar quux\u0026#34; | /home/hduser/mapper.py | sort -k1,1 | /home/hduser/reducer.py bar 1 foo 3 labs 1 quux 2 # ç”¨ä¸€æœ¬è‹±æ–‡ç”µå­ä¹¦ä½œä¸ºè¾“å…¥æµ‹è¯•ä¸€ä¸‹ï¼æ¯”å¦‚å¯ä»¥åœ¨http://www.gutenberg.org/etext/20417ä¸‹è½½åˆ°ï¼ user@ubuntu:~$ cat /tmp/gutenberg/20417-8.txt | /home/hduser/mapper.py The 1 Project 1 Gutenberg 1 EBook 1 of 1 # åé¢çš„sortå’Œreducerè¿‡ç¨‹æ˜¯ä¸€æ ·çš„ï¼Œè‡ªå·±è¯•ä¸€ä¸‹ï¼   Hadoopé›†ç¾¤è¿è¡Œæ¡ˆä¾‹ å¦‚æœæµ‹è¯•é€šè¿‡äº†ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨é›†ç¾¤ä¸Šè¿è¡Œæˆ‘ä»¬çš„æ¡ˆä¾‹äº†ï¼Œæˆ‘ä»¬å…ˆä»ä¸‹é¢3ä¸ªé“¾æ¥æ‹‰å–3æœ¬ç”µå­ä¹¦ã€‚\nThe Outline of Science, Vol. 1 (of 4) by J. Arthur Thomson\nThe Notebooks of Leonardo Da Vinci\nUlysses by James Joyce\næˆ‘ä»¬æŠŠå®ƒä»¬ä¸‹è½½åˆ°ä¸€ä¸ªæœ¬åœ°è·¯å¾„ä¸‹ï¼Œæ¯”å¦‚/tmp/gutenberg\nuser@ubuntu:~$ ls -l /tmp/gutenberg/ total 3604 -rw-r--r-- 1 hduser hadoop 674566 Feb 3 10:17 pg20417.txt -rw-r--r-- 1 hduser hadoop 1573112 Feb 3 10:18 pg4300.txt -rw-r--r-- 1 hduser hadoop 1423801 Feb 3 10:18 pg5000.txt user@ubuntu:~$ æ‹·è´æ–‡ä»¶åˆ°HDFSä¸Š æˆ‘ä»¬å‰é¢ç»™å¤§å®¶å‡†å¤‡å¥½çš„HDFSå‘½ä»¤å°æŠ„åœ¨è¿™é‡Œæ´¾ä¸Šç”¨åœºäº†ï¼æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š\nuser@ubuntu:/usr/local/hadoop$ bin/hadoop dfs -copyFromLocal /tmp/gutenberg /user/hduser/gutenberg hduser@ubuntu:/usr/local/hadoop$ bin/hadoop dfs -ls Found 1 items drwxr-xr-x - user supergroup 0 2016-05-08 17:40 /user/hduser/gutenberg user@ubuntu:/usr/local/hadoop$ bin/hadoop dfs -ls /user/hduser/gutenberg Found 3 items -rw-r--r-- 3 hduser supergroup 674566 2016-05-10 11:38 /user/hduser/gutenberg/pg20417.txt -rw-r--r-- 3 hduser supergroup 1573112 2016-05-10 11:38 /user/hduser/gutenberg/pg4300.txt -rw-r--r-- 3 hduser supergroup 1423801 2016-05-10 11:38 /user/hduser/gutenberg/pg5000.txt user@ubuntu:/usr/local/hadoop$ æ‰§è¡Œmap-reduceä»»åŠ¡ ä¸‹é¢æˆ‘ä»¬å°±å¯ä»¥ç”¨hadoop streamingæ‰§è¡Œmap-reduceä»»åŠ¡äº†ï¼Œå‘½ä»¤è¡Œæ‰§è¡Œ\nuser@ubuntu:/usr/local/hadoop$ bin/hadoop jar contrib/streaming/hadoop-*streaming*.jar \\ -file /home/hduser/mapper.py -mapper /home/hduser/mapper.py \\ -file /home/hduser/reducer.py -reducer /home/hduser/reducer.py \\ -input /user/hduser/gutenberg/* -output /user/hduser/gutenberg-output ä½ ç”šè‡³å¯ä»¥ç”¨-Då»æŒ‡å®šreducerçš„ä¸ªæ•°ï¼š\nuser@ubuntu:/usr/local/hadoop$ bin/hadoop jar contrib/streaming/hadoop-*streaming*.jar -D mapred.reduce.tasks=16 ... è¿è¡Œçš„ç»“æœè¿‡ç¨‹è¾“å‡ºçš„ä¿¡æ¯å¤§æ¦‚æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­ï¼š\nuser@ubuntu:/usr/local/hadoop$ bin/hadoop jar contrib/streaming/hadoop-*streaming*.jar -mapper /home/hduser/mapper.py -reducer /home/hduser/reducer.py -input /user/hduser/gutenberg/* -output /user/hduser/gutenberg-output additionalConfSpec_:null null=@@@userJobConfProps_.get(stream.shipped.hadoopstreaming packageJobJar: [/app/hadoop/tmp/hadoop-unjar54543/] [] /tmp/streamjob54544.jar tmpDir=null [...] INFO mapred.FileInputFormat: Total input paths to process : 7 [...] INFO streaming.StreamJob: getLocalDirs(): [/app/hadoop/tmp/mapred/local] [...] INFO streaming.StreamJob: Running job: job_200803031615_0021 [...] [...] INFO streaming.StreamJob: map 0% reduce 0% [...] INFO streaming.StreamJob: map 43% reduce 0% [...] INFO streaming.StreamJob: map 86% reduce 0% [...] INFO streaming.StreamJob: map 100% reduce 0% [...] INFO streaming.StreamJob: map 100% reduce 33% [...] INFO streaming.StreamJob: map 100% reduce 70% [...] INFO streaming.StreamJob: map 100% reduce 77% [...] INFO streaming.StreamJob: map 100% reduce 100% [...] INFO streaming.StreamJob: Job complete: job_200803031615_0021 [...] INFO streaming.StreamJob: Output: /user/hduser/gutenberg-output user@ubuntu:/usr/local/hadoop$ æŸ¥çœ‹æ‰§è¡Œç»“æœ ä¸Šé¢çš„ä¿¡æ¯å‘Šè¯‰æˆ‘ä»¬ä»»åŠ¡æ‰§è¡ŒæˆåŠŸäº†ï¼Œç»“æœæ–‡ä»¶å­˜å‚¨åœ¨hdfsä¸Šçš„/user/hduser/gutenberg-outputç›®å½•ä¸‹ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€çœ¼(æ˜¯çš„ï¼ŒHDFSå°æŠ„åˆå¯ä»¥ç”¨ä¸Šäº†)ã€‚\nuser@ubuntu:/usr/local/hadoop$ bin/hadoop dfs -ls /user/hduser/gutenberg-output Found 1 items /user/hduser/gutenberg-output/part-00000 \u0026amp;lt;r 1\u0026amp;gt; 903193 2017-03-21 13:00 user@ubuntu:/usr/local/hadoop$ è¿˜å¯ä»¥ç›´æ¥æŸ¥çœ‹ç»“æœçš„å†…å®¹ï¼š\nuser@ubuntu:/usr/local/hadoop$ bin/hadoop dfs -cat /user/hduser/gutenberg-output/part-00000 \u0026quot;(Lo)cra\u0026quot; 1 \u0026quot;1490 1 \u0026quot;1498,\u0026quot; 1 \u0026quot;35\u0026quot; 1 \u0026quot;40,\u0026quot; 1 \u0026quot;A 2 \u0026quot;AS-IS\u0026quot;. 2 \u0026quot;A_ 1 \u0026quot;Absoluti 1 [...] user@ubuntu:/usr/local/hadoop$ "
},
{
	"uri": "https://lczen.github.io/en/posts/spark/",
	"title": "Spark",
	"tags": ["spark"],
	"categories": [],
	"series": [],
	"description": "",
	"content": "Spark æ ¸å¿ƒæ¦‚å¿µä¸æ“ä½œ sparkç®€ä»‹ Apache Sparkæ˜¯æ–°å…´çš„ä¸€ç§å¿«é€Ÿé€šç”¨çš„å¤§è§„æ¨¡æ•°æ®å¤„ç†å¼•æ“ã€‚å®ƒçš„ä¼˜åŠ¿æœ‰ä¸‰ä¸ªæ–¹é¢ï¼š\n é€šç”¨è®¡ç®—å¼•æ“ èƒ½å¤Ÿè¿è¡ŒMapReduceã€æ•°æ®æŒ–æ˜ã€å›¾è¿ç®—ã€æµå¼è®¡ç®—ã€SQLç­‰å¤šç§æ¡†æ¶ï¼› åŸºäºå†…å­˜ æ•°æ®å¯ç¼“å­˜åœ¨å†…å­˜ä¸­ï¼Œç‰¹åˆ«é€‚ç”¨äºéœ€è¦è¿­ä»£å¤šæ¬¡è¿ç®—çš„åœºæ™¯ï¼› ä¸Hadoopé›†æˆ èƒ½å¤Ÿç›´æ¥è¯»å†™HDFSä¸­çš„æ•°æ®ï¼Œå¹¶èƒ½è¿è¡Œåœ¨YARNä¹‹ä¸Šã€‚  Sparkæ˜¯ç”¨Scalaè¯­è¨€ç¼–å†™çš„ï¼Œæ‰€æä¾›çš„APIä¹Ÿå¾ˆå¥½åœ°åˆ©ç”¨äº†è¿™é—¨è¯­è¨€çš„ç‰¹æ€§ï¼Œå½“ç„¶ä½œä¸ºæ•°æ®ç§‘å­¦çš„ä¸€ç¯ï¼Œå®ƒä¹Ÿå¯ä»¥ä½¿ç”¨Javaå’ŒPythonç¼–å†™åº”ç”¨ã€‚è¿™é‡Œæˆ‘ä»¬å°†ç”¨Pythonç»™å¤§å®¶åšè®²è§£ã€‚\nsparkæ ¸å¿ƒ Sparkæ”¯æŒå¤šç§è¿è¡Œæ¨¡å¼ã€‚å•æœºéƒ¨ç½²ä¸‹ï¼Œæ—¢å¯ä»¥ç”¨æœ¬åœ°ï¼ˆLocalï¼‰æ¨¡å¼è¿è¡Œï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¼ªåˆ†å¸ƒå¼æ¨¡å¼æ¥è¿è¡Œï¼›å½“ä»¥åˆ†å¸ƒå¼é›†ç¾¤éƒ¨ç½²çš„æ—¶å€™ï¼Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©Sparkè‡ªå¸¦çš„ç‹¬ç«‹ï¼ˆStandaloneï¼‰è¿è¡Œæ¨¡å¼ã€YARNè¿è¡Œæ¨¡å¼æˆ–è€…Mesosæ¨¡å¼ã€‚è™½ç„¶æ¨¡å¼å¤šï¼Œä½†æ˜¯Sparkçš„è¿è¡Œæ¶æ„åŸºæœ¬ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼ŒåŒ…æ‹¬SparkContextï¼ˆé©±åŠ¨ç¨‹åºï¼‰ã€ClusterManagerï¼ˆé›†ç¾¤èµ„æºç®¡ç†å™¨ï¼‰å’ŒExecutorï¼ˆä»»åŠ¡æ‰§è¡Œè¿›ç¨‹ï¼‰ã€‚ã€€ SparkContextæäº¤ä½œä¸šï¼Œå‘ClusterManagerç”³è¯·èµ„æºï¼› ClusterManagerä¼šæ ¹æ®å½“å‰é›†ç¾¤çš„èµ„æºä½¿ç”¨æƒ…å†µï¼Œè¿›è¡Œæœ‰æ¡ä»¶çš„FIFOç­–ç•¥ï¼šå…ˆåˆ†é…çš„åº”ç”¨ç¨‹åºå°½å¯èƒ½å¤šåœ°è·å–èµ„æºï¼Œååˆ†é…çš„åº”ç”¨ç¨‹åºåˆ™åœ¨å‰©ä½™èµ„æºä¸­ç­›é€‰ï¼Œæ²¡æœ‰åˆé€‚èµ„æºçš„åº”ç”¨ç¨‹åºåªèƒ½ç­‰å¾…å…¶ä»–åº”ç”¨ç¨‹åºé‡Šæ”¾èµ„æºï¼› ClusterManageré»˜è®¤æƒ…å†µä¸‹ä¼šå°†åº”ç”¨ç¨‹åºåˆ†å¸ƒåœ¨å°½å¯èƒ½å¤šçš„Workerä¸Šï¼Œè¿™ç§åˆ†é…ç®—æ³•æœ‰åˆ©äºå……åˆ†åˆ©ç”¨é›†ç¾¤èµ„æºï¼Œé€‚åˆå†…å­˜ä½¿ç”¨å¤šçš„åœºæ™¯ï¼Œä»¥ä¾¿æ›´å¥½åœ°åšåˆ°æ•°æ®å¤„ç†çš„æœ¬åœ°æ€§ï¼›å¦ä¸€ç§åˆ™æ˜¯åˆ†å¸ƒåœ¨å°½å¯èƒ½å°‘çš„Workerä¸Šï¼Œè¿™ç§é€‚åˆCPUå¯†é›†å‹ä¸”å†…å­˜ä½¿ç”¨è¾ƒå°‘çš„åœºæ™¯ï¼› Excutoråˆ›å»ºåä¸SparkContextä¿æŒé€šè®¯ï¼ŒSparkContextåˆ†é…ä»»åŠ¡é›†ç»™Excutorï¼ŒExcutoræŒ‰ç…§ä¸€å®šçš„è°ƒåº¦ç­–ç•¥æ‰§è¡Œä»»åŠ¡é›†ã€‚  SparkåŒ…å«1ä¸ªdriver(ç¬”è®°æœ¬ç”µè„‘æˆ–è€…é›†ç¾¤ç½‘å…³æœºå™¨ä¸Š)å’Œè‹¥å¹²ä¸ªexecutor(åœ¨å„ä¸ªèŠ‚ç‚¹ä¸Š)ï¼Œé€šè¿‡**SparkContext(ç®€ç§°sc)**è¿æ¥Sparké›†ç¾¤ã€åˆ›å»ºRDDã€ç´¯åŠ å™¨ï¼ˆaccumlatorï¼‰ã€å¹¿æ’­å˜é‡ï¼ˆbroadcast variablesï¼‰ï¼Œç®€å•å¯ä»¥è®¤ä¸ºSparkContextï¼ˆé©±åŠ¨ç¨‹åºï¼‰æ˜¯Sparkç¨‹åºçš„æ ¹æœ¬ã€‚\nDriverä¼šæŠŠè®¡ç®—ä»»åŠ¡åˆ†æˆä¸€ç³»åˆ—å°çš„taskï¼Œç„¶åé€åˆ°executoræ‰§è¡Œã€‚executorä¹‹é—´å¯ä»¥é€šä¿¡ï¼Œåœ¨æ¯ä¸ªexecutorå®Œæˆè‡ªå·±çš„taskä»¥åï¼Œæ‰€æœ‰çš„ä¿¡æ¯ä¼šè¢«ä¼ å›ã€‚\nRDD(å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†)ä»‹ç» åœ¨Sparké‡Œï¼Œæ‰€æœ‰çš„å¤„ç†å’Œè®¡ç®—ä»»åŠ¡éƒ½ä¼šè¢«ç»„ç»‡æˆä¸€ç³»åˆ—Resilient Distributed Dataset(å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†ï¼Œç®€ç§°RDD)ä¸Šçš„transformations(è½¬æ¢) å’Œ actions(åŠ¨ä½œ)ã€‚\nRDDæ˜¯ä¸€ä¸ªåŒ…å«è¯¸å¤šå…ƒç´ ã€è¢«åˆ’åˆ†åˆ°ä¸åŒèŠ‚ç‚¹ä¸Šè¿›è¡Œå¹¶è¡Œå¤„ç†çš„æ•°æ®é›†åˆï¼Œå¯ä»¥å°†RDDæŒä¹…åŒ–åˆ°å†…å­˜ä¸­ï¼Œè¿™æ ·å°±å¯ä»¥æœ‰æ•ˆåœ°åœ¨å¹¶è¡Œæ“ä½œä¸­å¤ç”¨ï¼ˆåœ¨æœºå™¨å­¦ä¹ è¿™ç§éœ€è¦åå¤è¿­ä»£çš„ä»»åŠ¡ä¸­éå¸¸æœ‰æ•ˆï¼‰ã€‚åœ¨èŠ‚ç‚¹å‘ç”Ÿé”™è¯¯æ—¶RDDä¹Ÿå¯ä»¥è‡ªåŠ¨æ¢å¤ã€‚\nè¯´èµ·æ¥ï¼ŒRDDå°±åƒä¸€ä¸ªNumPy arrayæˆ–è€…ä¸€ä¸ªPandas Seriesï¼Œå¯ä»¥è§†ä½œä¸€ä¸ªæœ‰åºçš„itemé›†åˆã€‚\nåªä¸è¿‡è¿™äº›itemå¹¶ä¸å­˜åœ¨driverç«¯çš„å†…å­˜é‡Œï¼Œè€Œæ˜¯è¢«åˆ†å‰²æˆå¾ˆå¤šä¸ªpartitionsï¼Œæ¯ä¸ªpartitionçš„æ•°æ®å­˜åœ¨é›†ç¾¤çš„executorçš„å†…å­˜ä¸­ã€‚\nRDDæ˜¯æœ€é‡è¦çš„è½½ä½“ï¼Œæˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åˆå§‹åŒ–è¿™ä¹ˆä¸€ä¸ªå¯¹è±¡:\nåˆå§‹åŒ–RDDæ–¹æ³•1 å¦‚æœä½ æœ¬åœ°å†…å­˜ä¸­å·²ç»æœ‰ä¸€ä»½åºåˆ—æ•°æ®(æ¯”å¦‚pythonçš„list)ï¼Œä½ å¯ä»¥é€šè¿‡sc.parallelizeå»åˆå§‹åŒ–ä¸€ä¸ªRDD\nå½“ä½ æ‰§è¡Œè¿™ä¸ªæ“ä½œä»¥åï¼Œlistä¸­çš„å…ƒç´ å°†è¢«è‡ªåŠ¨åˆ†å—(partitioned)ï¼Œå¹¶ä¸”æŠŠæ¯ä¸€å—é€åˆ°é›†ç¾¤ä¸Šçš„ä¸åŒæœºå™¨ä¸Šã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  import\tfindspark findspark.init() import pyspark from pyspark import SparkContext from pyspark import SparkConf conf=SparkConf().setAppName(\u0026#34;miniProject\u0026#34;).setMaster(\u0026#34;local[*]\u0026#34;) sc=SparkContext.getOrCreate(conf) my_list = [1,2,3,4,5] #å­˜æ”¾åœ¨å½“å‰ç¯å¢ƒå†…å­˜å½“ä¸­çš„list rdd = sc.parallelize(my_list) rdd rdd.getNumPartitions()   å¦‚æœä½ æƒ³çœ‹çœ‹åˆ†åŒºçŠ¶å†µæ€ä¹ˆåŠ\n1  rdd.glom().collect()#[[], [1], [], [2], [3], [], [4], [5]]   åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ˜¯ä¸€ä¸ª4-coreçš„CPUç¬”è®°æœ¬\nSparkåˆ›å»ºäº†4ä¸ªexecutorï¼Œç„¶åæŠŠæ•°æ®åˆ†æˆ4ä¸ªå—ã€‚\nTipsï¼šä½¿ç”¨sc.parallelizeï¼Œä½ å¯ä»¥æŠŠPython listï¼ŒNumPy arrayæˆ–è€…Pandas Seriesã€Pandas DataFrameè½¬æˆSpark RDDã€‚\nåˆå§‹åŒ–RDDæ–¹æ³•2 ç¬¬2ç§æ–¹å¼å½“ç„¶æ˜¯ç›´æ¥æŠŠæ–‡æœ¬è¯»åˆ°RDDäº†\nä½ çš„æ¯ä¸€è¡Œéƒ½ä¼šè¢«å½“åšä¸€ä¸ªitemï¼Œä¸è¿‡éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼ŒSparkä¸€èˆ¬é»˜è®¤ä½ çš„è·¯å¾„æ˜¯æŒ‡å‘HDFSçš„ï¼Œå¦‚æœä½ è¦ä»æœ¬åœ°è¯»å–æ–‡ä»¶çš„è¯ï¼Œç»™ä¸€ä¸ªfile://å¼€å¤´çš„å…¨å±€è·¯å¾„ã€‚\n!head -5 ../data/yob1880.txt\n1 2 3 4  # Record current path for future use import os cwd = os.getcwd() cwd#\u0026#39;D:\\\\æ–°å»ºæ–‡ä»¶å¤¹ (3)\\\\sparkåœ¨çº¿ç¯å¢ƒ\\\\course2\\\\lab\u0026#39;   1 2 3 4  # File from Pandas exercises rdd = sc.textFile(\u0026#34;../data/yob1880.txt\u0026#34;) rdd.first() rdd = sc.wholeTextFiles(\u0026#34;../data/yob1880.txt\u0026#34;)   å…¶ä½™åˆå§‹åŒ–RDDçš„æ–¹æ³• RDDè¿˜å¯ä»¥é€šè¿‡å…¶ä»–çš„æ–¹å¼åˆå§‹åŒ–ï¼ŒåŒ…æ‹¬\n HDFSä¸Šçš„æ–‡ä»¶ Hiveä¸­çš„æ•°æ®åº“ä¸è¡¨ Spark SQLå¾—åˆ°çš„ç»“æœ  åé¢ä¼šæåˆ°è¿™ä¸ªéƒ¨åˆ†\nRDD transformationså’Œactions å¤§å®¶è¿˜å¯¹pythonçš„list comprehensionæœ‰å°è±¡å—ï¼ŒRDDså¯ä»¥è¿›è¡Œä¸€ç³»åˆ—çš„å˜æ¢å¾—åˆ°æ–°çš„RDDï¼Œæœ‰ç‚¹ç±»ä¼¼é‚£ä¸ªè¿‡ç¨‹ï¼Œæˆ‘ä»¬å…ˆç»™å¤§å®¶æä¸€ä¸‹RDDä¸Šæœ€æœ€å¸¸ç”¨åˆ°çš„transformation:\n map() å¯¹RDDçš„æ¯ä¸€ä¸ªiteméƒ½æ‰§è¡ŒåŒä¸€ä¸ªæ“ä½œ flatMap() å¯¹RDDä¸­çš„itemæ‰§è¡ŒåŒä¸€ä¸ªæ“ä½œä»¥åå¾—åˆ°ä¸€ä¸ªlistï¼Œç„¶åä»¥å¹³é“ºçš„æ–¹å¼æŠŠè¿™äº›listé‡Œæ‰€æœ‰çš„ç»“æœç»„æˆæ–°çš„list filter() ç­›é€‰å‡ºæ¥æ»¡è¶³æ¡ä»¶çš„item distinct() å¯¹RDDä¸­çš„itemå»é‡ sample() ä»RDDä¸­çš„itemä¸­é‡‡æ ·ä¸€éƒ¨åˆ†å‡ºæ¥ï¼Œæœ‰æ”¾å›æˆ–è€…æ— æ”¾å› sortBy() å¯¹RDDä¸­çš„itemè¿›è¡Œæ’åº\nå¦‚æœä½ æƒ³çœ‹æ“ä½œåçš„ç»“æœï¼Œå¯ä»¥ç”¨ä¸€ä¸ªå«åšcollect()çš„actionæŠŠæ‰€æœ‰çš„itemè½¬æˆä¸€ä¸ªPython listã€‚\nç®€å•çš„ä¾‹å­å¦‚ä¸‹:  1 2 3 4 5 6 7 8  numbersRDD = sc.parallelize(range(1,10+1)) print(numbersRDD.collect()) squaresRDD = numbersRDD.map(lambda x: x**2) # 1è¿›1å‡º print(squaresRDD.collect()) filteredRDD = numbersRDD.filter(lambda x: x % 2 == 0) # Only the evens print(filteredRDD.collect())   ç„¶åå’±ä»¬çœ‹çœ‹flatMap()çš„å¹³å±•åŠŸèƒ½:\n1 2 3 4  sentencesRDD = sc.parallelize([\u0026#39;Hello world\u0026#39;, \u0026#39;My name is Patrick\u0026#39;]) wordsRDD = sentencesRDD.flatMap(lambda sentence: sentence.split(\u0026#34;\u0026#34;)) print(wordsRDD.collect()) print(wordsRDD.count())   [\u0026lsquo;Hello\u0026rsquo;, \u0026lsquo;world\u0026rsquo;, \u0026lsquo;My\u0026rsquo;, \u0026lsquo;name\u0026rsquo;, \u0026lsquo;is\u0026rsquo;, \u0026lsquo;Patrick\u0026rsquo;]\n6\nä¸ºäº†åšä¸€ä¸ªå°å°çš„å¯¹åº”ï¼Œå’±ä»¬çœ‹çœ‹pythoné‡Œå¯¹åº”çš„æ“ä½œå¤§æ¦‚æ˜¯ä»€ä¹ˆæ ·çš„:\n1 2 3 4 5  l = [\u0026#39;Hello world\u0026#39;, \u0026#39;My name is Patrick\u0026#39;] ll = [] for sentence in l: ll = ll + sentence.split(\u0026#34;\u0026#34;) ll   [\u0026lsquo;Hello\u0026rsquo;, \u0026lsquo;world\u0026rsquo;, \u0026lsquo;My\u0026rsquo;, \u0026lsquo;name\u0026rsquo;, \u0026lsquo;is\u0026rsquo;, \u0026lsquo;Patrick\u0026rsquo;]\næ¯”è¾ƒç‚«é…·çš„æ˜¯ï¼Œå‰é¢æåˆ°çš„Transformationï¼Œå¯ä»¥ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°ä¸²è”ï¼Œæ¯”å¦‚:\n1 2 3 4 5 6 7 8 9 10 11 12 13  # [1, 2, 3, 4, 5, 6, 7, 8, 9, 10] def doubleIfOdd(x): if x % 2 == 1: return 2 * x else: return x resultRDD = (numbersRDD # In parentheses so we can write each .map(doubleIfOdd) # transformation in one line .filter(lambda x: x \u0026gt; 6) .distinct()) resultRDD.collect()   [8, 10, 18, 14]\nRDDé—´çš„æ“ä½œ å¦‚æœä½ æ‰‹å¤´ä¸Šæœ‰2ä¸ªRDDäº†ï¼Œä¸‹é¢çš„è¿™äº›æ“ä½œèƒ½å¤Ÿå¸®ä½ å¯¹ä»–ä»¬ä»¥ä¸ªç§æ–¹å¼ç»„åˆå¾—åˆ°1ä¸ªRDD:\n rdd1.union(rdd2): æ‰€æœ‰rdd1å’Œrdd2ä¸­çš„itemç»„åˆ rdd1.intersection(rdd2): rdd1 å’Œ rdd2çš„äº¤é›† rdd1.substract(rdd2): æ‰€æœ‰åœ¨rdd1ä¸­ä½†ä¸åœ¨rdd2ä¸­çš„itemï¼ˆå·®é›†ï¼‰ **rdd1.cartesian(rdd2): rdd1 å’Œ rdd2ä¸­æ‰€æœ‰çš„å…ƒç´ ç¬›å¡å°”ä¹˜ç§¯ **\nç®€å•çš„ä¾‹å­å¦‚ä¸‹:  1 2 3  numbersRDD = sc.parallelize([1,2,3]) moreNumbersRDD = sc.parallelize([2,3,4]) numbersRDD.union(moreNumbersRDD).collect()   [1, 2, 3, 2, 3, 4]\n1 2 3  numbersRDD.intersection(moreNumbersRDD).collect() numbersRDD.subtract(moreNumbersRDD).collect() numbersRDD.cartesian(moreNumbersRDD).collect()   ç‰¹åˆ«æ³¨æ„ï¼šSparkçš„ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µæ˜¯æƒ°æ€§è®¡ç®—ã€‚å½“ä½ æŠŠä¸€ä¸ªRDDè½¬æ¢æˆå¦ä¸€ä¸ªçš„æ—¶å€™ï¼Œè¿™ä¸ªè½¬æ¢ä¸ä¼šç«‹å³ç”Ÿæ•ˆæ‰§è¡Œï¼ï¼ï¼\nSparkä¼šæŠŠå®ƒå…ˆè®°åœ¨å¿ƒé‡Œï¼Œç­‰åˆ°çœŸçš„éœ€è¦æ‹¿åˆ°è½¬æ¢ç»“æœçš„æ—¶å€™ï¼Œæ‰ä¼šé‡æ–°ç»„ç»‡ä½ çš„transformations(å› ä¸ºå¯èƒ½æœ‰ä¸€è¿ä¸²çš„å˜æ¢)\nè¿™æ ·å¯ä»¥é¿å…ä¸å¿…è¦çš„ä¸­é—´ç»“æœå­˜å‚¨å’Œé€šä¿¡ã€‚\nåˆšæ‰æåˆ°äº†æƒ°æ€§è®¡ç®—ï¼Œé‚£ä¹ˆä»€ä¹ˆä¸œè¥¿èƒ½è®©å®ƒçœŸçš„æ‰§è¡Œè½¬æ¢ä¸è¿ç®—å‘¢ï¼Ÿ\næ˜¯çš„ï¼Œå°±æ˜¯æˆ‘ä»¬é©¬ä¸Šæåˆ°çš„Actionsï¼Œä¸‹é¢æ˜¯å¸¸è§çš„actionï¼Œå½“ä»–ä»¬å‡ºç°çš„æ—¶å€™ï¼Œè¡¨æ˜æˆ‘ä»¬éœ€è¦æ‰§è¡Œåˆšæ‰å®šä¹‰çš„transformäº†:\n collect(): è®¡ç®—æ‰€æœ‰çš„itemså¹¶è¿”å›æ‰€æœ‰çš„ç»“æœåˆ°driverç«¯ï¼Œæ¥ç€ collect()ä¼šä»¥Python listçš„å½¢å¼è¿”å›ç»“æœ first(): å’Œä¸Šé¢æ˜¯ç±»ä¼¼çš„ï¼Œä¸è¿‡åªè¿”å›ç¬¬1ä¸ªitem take(n): ç±»ä¼¼ï¼Œä½†æ˜¯è¿”å›nä¸ªitem count(): è®¡ç®—RDDä¸­itemçš„ä¸ªæ•° top(n): è¿”å›å¤´nä¸ªitemsï¼ŒæŒ‰ç…§è‡ªç„¶ç»“æœæ’åº reduce(): å¯¹RDDä¸­çš„itemsåšèšåˆ\næˆ‘ä»¬ä¹‹å‰å·²ç»çœ‹è¿‡ collect(), first() å’Œ count() çš„ä¾‹å­äº†ã€‚ å’±ä»¬çœ‹çœ‹ reduce() å¦‚ä½•ä½¿ç”¨ã€‚æ¯”å¦‚Sparké‡Œä»1åŠ åˆ°10ä½ å¯ä»¥è¿™ä¹ˆåšã€‚  1 2 3  # [1, 2, 3, 4, 5, 6, 7, 8, 9, 10] rdd = sc.parallelize(range(1,10+1)) rdd.reduce(lambda x, y: x + y)   å¦‚æœä½ æƒ³äº†è§£ä¸€ä¸‹reduceçš„ç»†èŠ‚çš„è¯ï¼Œå…¶å®å¯èƒ½ä¼šå…ˆåœ¨æ¯ä¸ªåˆ†åŒº(partition)é‡Œå®Œæˆreduceæ“ä½œï¼Œç„¶åå†å…¨å±€åœ°è¿›è¡Œreduceã€‚\nè¿™ä¸ªè¿‡ç¨‹ä½ å¯ä»¥ä»å¦‚ä¸‹çš„ä»£ç å¤§è‡´ç†è§£ã€‚\n1 2 3 4 5  def f(x,y): return x + y l = [1,2,3,4] f(f(f(l[0],l[1]), l[2]), l[3])   æœ‰ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„æ“ä½œï¼Œæˆ‘ä»¬è¯•æƒ³ä¸€ä¸‹ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦é‡å¤ç”¨åˆ°æŸä¸ªtransformåºåˆ—å¾—åˆ°çš„RDDç»“æœã€‚ä½†æ˜¯ä¸€ééé‡å¤è®¡ç®—æ˜¾ç„¶æ˜¯è¦å¼€é”€çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªå«åšcache()çš„æ“ä½œæŠŠå®ƒæš‚æ—¶åœ°å­˜å‚¨åœ¨å†…å­˜ä¸­:\n1 2 3 4 5 6 7 8 9  # Calculate the average of all the squares from 1 to 10 import numpy as np numbersRDD = sc.parallelize(np.linspace(1.0, 10.0, 10)) squaresRDD = numbersRDD.map(lambda x: x**2) squaresRDD.cache() # Preserve the actual items of this RDD in memory avg = squaresRDD.reduce(lambda x, y: x + y) / squaresRDD.count() print(avg)   ç¼“å­˜RDDç»“æœå¯¹äºé‡å¤è¿­ä»£çš„æ“ä½œéå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚å¾ˆå¤šæœºå™¨å­¦ä¹ çš„ç®—æ³•ï¼Œè®­ç»ƒè¿‡ç¨‹éœ€è¦é‡å¤è¿­ä»£ã€‚\n1 2 3 4 5 6 7 8 9  ## é’ˆå¯¹æ›´å¤æ‚ç»“æ„çš„transformationså’Œactions å’±ä»¬åˆšæ‰å·²ç»è§è¯†åˆ°äº†`Spark`ä¸­æœ€å¸¸è§çš„transformå’Œactionï¼Œä½†æ˜¯æœ‰æ—¶å€™æˆ‘ä»¬ä¼šé‡åˆ°æ›´å¤æ‚çš„ç»“æ„ï¼Œæ¯”å¦‚éå¸¸éå¸¸ç»å…¸çš„æ˜¯ä»¥å…ƒç»„å½¢å¼ç»„ç»‡çš„k-vå¯¹ï¼ˆkey, valueï¼‰\u0026lt;br\u0026gt; æˆ‘ä»¬æŠŠå®ƒå«åš**pair RDDs**ï¼Œè€ŒSarkä¸­é’ˆå¯¹è¿™ç§itemç»“æ„çš„æ•°æ®ï¼Œå®šä¹‰äº†ä¸€äº›transformationå’Œaction: * `reduceByKey()`: å¯¹æ‰€æœ‰æœ‰ç€ç›¸åŒkeyçš„itemsæ‰§è¡Œreduceæ“ä½œ * `groupByKey()`: è¿”å›ç±»ä¼¼(key, listOfValues)å…ƒç»„çš„RDDï¼Œåé¢çš„value List æ˜¯åŒä¸€ä¸ªkeyä¸‹é¢çš„ * `sortByKey()`: æŒ‰ç…§keyæ’åº * `countByKey()`: æŒ‰ç…§keyå»å¯¹itemä¸ªæ•°è¿›è¡Œç»Ÿè®¡ * `collectAsMap()`: å’Œcollectæœ‰äº›ç±»ä¼¼ï¼Œä½†æ˜¯è¿”å›çš„æ˜¯k-vçš„å­—å…¸   ä»¥ä¸‹æ˜¯Sparkä¸­çš„ä¸€äº›ä¾‹å­\næ€ä¹ˆè¯´å‘¢ï¼Œç»Ÿè®¡è¿™ä¸ªæ¡ˆä¾‹ç®—æ˜¯åˆ†å¸ƒå¼ï¼ˆhadoop/sparkï¼‰ç›¸å…³çŸ¥è¯†ä¸­çš„â€œHello Worldâ€\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  rdd = sc.parallelize([\u0026#34;Hello hello\u0026#34;, \u0026#34;Hello New York\u0026#34;, \u0026#34;York says hello\u0026#34;]) resultRDD = ( rdd .flatMap(lambda sentence: sentence.split(\u0026#34;\u0026#34;)) # split into words .map(lambda word: word.lower()) # lowercase .map(lambda word: (word, 1)) # count each appearance .reduceByKey(lambda x, y: x + y) # add counts for each word ) resultRDD.collect() [(\u0026#39;hello\u0026#39;, 4), (\u0026#39;york\u0026#39;, 2), (\u0026#39;new\u0026#39;, 1), (\u0026#39;says\u0026#39;, 1)] æˆ‘ä»¬å°†ç»“æœä»¥k-vå­—å…¸çš„å½¢å¼è¿”å› ```pythonresult = resultRDD.collectAsMap() result {\u0026#39;hello\u0026#39;: 4, \u0026#39;york\u0026#39;: 2, \u0026#39;new\u0026#39;: 1, \u0026#39;says\u0026#39;: 1}   å¦‚æœä½ æƒ³è¦å‡ºç°é¢‘æ¬¡æœ€é«˜çš„2ä¸ªè¯ï¼Œå¯ä»¥è¿™ä¹ˆåš:\n1 2 3 4  print(resultRDD .sortBy(keyfunc=lambda x: x[1], ascending=False) .take(2)) [(\u0026#39;hello\u0026#39;, 4), (\u0026#39;york\u0026#39;, 2)]   è¿˜æœ‰ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„æ“ä½œæ˜¯ï¼Œåœ¨ç»™å®š2ä¸ªpairRDDåï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªç±»ä¼¼SQLçš„æ–¹å¼å»joinä»–ä»¬ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  # Home of different people homesRDD = sc.parallelize([ (\u0026#39;Brussels\u0026#39;, \u0026#39;John\u0026#39;), (\u0026#39;Brussels\u0026#39;, \u0026#39;Jack\u0026#39;), (\u0026#39;Leuven\u0026#39;, \u0026#39;Jane\u0026#39;), (\u0026#39;Antwerp\u0026#39;, \u0026#39;Jill\u0026#39;), ]) # Quality of life index for various cities lifeQualityRDD = sc.parallelize([ (\u0026#39;Brussels\u0026#39;, 10), (\u0026#39;Antwerp\u0026#39;, 7), (\u0026#39;RestOfFlanders\u0026#39;, 5), ]) homesRDD.join(lifeQualityRDD).collect() [(\u0026#39;Brussels\u0026#39;, (\u0026#39;John\u0026#39;, 10)), (\u0026#39;Brussels\u0026#39;, (\u0026#39;Jack\u0026#39;, 10)), (\u0026#39;Antwerp\u0026#39;, (\u0026#39;Jill\u0026#39;, 7))]   1 2 3 4 5  homesRDD.leftOuterJoin(lifeQualityRDD).collect() [(\u0026#39;Brussels\u0026#39;, (\u0026#39;John\u0026#39;, 10)), (\u0026#39;Brussels\u0026#39;, (\u0026#39;Jack\u0026#39;, 10)), (\u0026#39;Antwerp\u0026#39;, (\u0026#39;Jill\u0026#39;, 7)), (\u0026#39;Leuven\u0026#39;, (\u0026#39;Jane\u0026#39;, None))]   1 2 3 4 5  homesRDD.rightOuterJoin(lifeQualityRDD).collect() [(\u0026#39;Brussels\u0026#39;, (\u0026#39;John\u0026#39;, 10)), (\u0026#39;Brussels\u0026#39;, (\u0026#39;Jack\u0026#39;, 10)), (\u0026#39;Antwerp\u0026#39;, (\u0026#39;Jill\u0026#39;, 7)), (\u0026#39;RestOfFlanders\u0026#39;, (None, 5))]   1 2 3 4 5 6 7 8 9 10 11 12 13 14  homesRDD.cogroup(lifeQualityRDD).collect() [(\u0026#39;Brussels\u0026#39;, (\u0026lt;pyspark.resultiterable.ResultIterable at 0x13ff8a30358\u0026gt;, \u0026lt;pyspark.resultiterable.ResultIterable at 0x13ff8a309e8\u0026gt;)), (\u0026#39;Antwerp\u0026#39;, (\u0026lt;pyspark.resultiterable.ResultIterable at 0x13ff8a30e80\u0026gt;, \u0026lt;pyspark.resultiterable.ResultIterable at 0x13ff8a30ac8\u0026gt;)), (\u0026#39;RestOfFlanders\u0026#39;, (\u0026lt;pyspark.resultiterable.ResultIterable at 0x13ff8a30b70\u0026gt;, \u0026lt;pyspark.resultiterable.ResultIterable at 0x13ff8a30f28\u0026gt;)), (\u0026#39;Leuven\u0026#39;, (\u0026lt;pyspark.resultiterable.ResultIterable at 0x13ff8a302b0\u0026gt;, \u0026lt;pyspark.resultiterable.ResultIterable at 0x13ff8a30fd0\u0026gt;))]   1 2 3 4 5 6 7 8 9 10 11 12 13  # Oops! Those \u0026lt;ResultIterable\u0026gt;s are Spark\u0026#39;s way of returning a list # that we can walk over, without materializing the list. # Let\u0026#39;s materialize the lists to make the above more readable: (homesRDD .cogroup(lifeQualityRDD) .map(lambda x: (x[0], (list(x[1][0]), list(x[1][1])))) .collect()) [(\u0026#39;Brussels\u0026#39;, ([\u0026#39;John\u0026#39;, \u0026#39;Jack\u0026#39;], [10])), (\u0026#39;Antwerp\u0026#39;, ([\u0026#39;Jill\u0026#39;], [7])), (\u0026#39;RestOfFlanders\u0026#39;, ([], [5])), (\u0026#39;Leuven\u0026#39;, ([\u0026#39;Jane\u0026#39;], []))]   Spark DataFrame æ€»è§ˆ Spark SQL æ˜¯ Spark å¤„ç†ç»“æ„åŒ–æ•°æ®çš„ä¸€ä¸ªæ¨¡å—, ä¸åŸºç¡€çš„ Spark RDD API ä¸åŒ, Spark SQL æä¾›äº†æŸ¥è¯¢ç»“æ„åŒ–æ•°æ®åŠè®¡ç®—ç»“æœç­‰ä¿¡æ¯çš„æ¥å£.åœ¨å†…éƒ¨, Spark SQL ä½¿ç”¨è¿™ä¸ªé¢å¤–çš„ä¿¡æ¯å»æ‰§è¡Œé¢å¤–çš„ä¼˜åŒ–.æœ‰å‡ ç§æ–¹å¼å¯ä»¥è·Ÿ Spark SQL è¿›è¡Œäº¤äº’, åŒ…æ‹¬ SQL å’Œ Dataset API.å½“ä½¿ç”¨ç›¸åŒæ‰§è¡Œå¼•æ“è¿›è¡Œè®¡ç®—æ—¶, æ— è®ºä½¿ç”¨å“ªç§ API / è¯­è¨€éƒ½å¯ä»¥å¿«é€Ÿçš„è®¡ç®—ã€‚\nSQL Spark SQL çš„åŠŸèƒ½ä¹‹ä¸€æ˜¯æ‰§è¡Œ SQL æŸ¥è¯¢ï¼ŒSpark SQL ä¹Ÿèƒ½å¤Ÿè¢«ç”¨äºä»å·²å­˜åœ¨çš„ Hive ç¯å¢ƒä¸­è¯»å–æ•°æ®ã€‚å½“ä»¥å¦å¤–çš„ç¼–ç¨‹è¯­è¨€è¿è¡ŒSQL æ—¶, æŸ¥è¯¢ç»“æœå°†ä»¥ Dataset/DataFrameçš„å½¢å¼è¿”å›ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ å‘½ä»¤è¡Œæˆ–è€…é€šè¿‡ JDBC/ODBCä¸ SQL æ¥å£äº¤äº’.\nDataFrames ä»RDDé‡Œå¯ä»¥ç”Ÿæˆç±»ä¼¼å¤§å®¶åœ¨pandasä¸­çš„DataFrameï¼ŒåŒæ—¶å¯ä»¥æ–¹ä¾¿åœ°åœ¨ä¸Šé¢å®Œæˆå„ç§æ“ä½œã€‚\næ„å»ºSparkSession Spark SQLä¸­æ‰€æœ‰åŠŸèƒ½çš„å…¥å£ç‚¹æ˜¯ SparkSession ç±». è¦åˆ›å»ºä¸€ä¸ª SparkSession, ä»…ä½¿ç”¨ SparkSession.builder()å°±å¯ä»¥äº†:\n1 2 3 4 5 6 7 8 9 10  import\tfindspark findspark.init() from pyspark.sql import SparkSession spark = SparkSession \\ .builder \\ .appName(\u0026#34;Python Spark SQL\u0026#34;) \\ .config(\u0026#34;spark.some.config.option\u0026#34;, \u0026#34;some-value\u0026#34;) \\ .getOrCreate()   åˆ›å»º DataFrames åœ¨ä¸€ä¸ª SparkSessionä¸­, åº”ç”¨ç¨‹åºå¯ä»¥ä»ä¸€ä¸ª å·²ç»å­˜åœ¨çš„ RDD æˆ–è€… hiveè¡¨, æˆ–è€…ä»Sparkæ•°æ®æºä¸­åˆ›å»ºä¸€ä¸ªDataFrames.\nä¸¾ä¸ªä¾‹å­, ä¸‹é¢å°±æ˜¯åŸºäºä¸€ä¸ªJSONæ–‡ä»¶åˆ›å»ºä¸€ä¸ªDataFrame:\n1 2 3 4 5  !cat ../data/people.json {\u0026#34;name\u0026#34;:\u0026#34;Michael\u0026#34;, \u0026#34;age\u0026#34;:33} {\u0026#34;name\u0026#34;:\u0026#34;Andy\u0026#34;, \u0026#34;age\u0026#34;:30} {\u0026#34;name\u0026#34;:\u0026#34;Justin\u0026#34;, \u0026#34;age\u0026#34;:19}   1 2 3  df = spark.read.json(\u0026#34;../data/people.json\u0026#34;) df # DataFrame[age: bigint, name: string] df.show()   +---+-------+ |age| name| +---+-------+ | 33|Michael| | 30| Andy| | 19| Justin| +---+-------+ DataFrame æ“ä½œ DataFrames æä¾›äº†ä¸€ä¸ªç‰¹å®šçš„è¯­æ³•ç”¨åœ¨ Scala, Java, Python and Rä¸­æœºæ„åŒ–æ•°æ®çš„æ“ä½œã€‚\nåœ¨Pythonä¸­ï¼Œå¯ä»¥é€šè¿‡(df.age) æˆ–è€…(df[\u0026lsquo;age\u0026rsquo;])æ¥è·å–DataFrameçš„åˆ—. è™½ç„¶å‰è€…ä¾¿äºäº¤äº’å¼æ“ä½œ, ä½†æ˜¯è¿˜æ˜¯å»ºè®®ç”¨æˆ·ä½¿ç”¨åè€…, è¿™æ ·ä¸ä¼šç ´ååˆ—åï¼Œä¹Ÿèƒ½å¼•ç”¨DataFrameçš„ç±»ã€‚\næ³¨æ„ä»¥ä¸‹æ“ä½œçš„select 1  df.printSchema()   root |-- age: long (nullable = true) |-- name: string (nullable = true) 1  df.select(\u0026#34;name\u0026#34;).show()   +-------+ | name| +-------+ |Michael| | Andy| | Justin| +-------+ 1  df.select([\u0026#34;name\u0026#34;,\u0026#39;age\u0026#39;]).show()   +-------+---+ | name|age| +-------+---+ |Michael| 33| | Andy| 30| | Justin| 19| +-------+---+ 1  df.select(df[\u0026#39;name\u0026#39;], df[\u0026#39;age\u0026#39;] + 1).show()   +-------+---------+ | name|(age + 1)| +-------+---------+ |Michael| 34| | Andy| 31| | Justin| 20| +-------+---------+ ä»¥ä¸‹æ“ä½œçš„filteråšæ•°æ®é€‰æ‹© 1  df.filter(df[\u0026#39;age\u0026#39;] \u0026gt; 21).show()   +---+-------+ |age| name| +---+-------+ | 33|Michael| | 30| Andy| +---+-------+ 1  df.groupBy(\u0026#34;age\u0026#34;).count().show()   +---+-----+ |age|count| +---+-----+ | 19| 1| | 33| 1| | 30| 1| +---+-----+ spark SQL SparkSession çš„ sql å‡½æ•°å¯ä»¥è®©åº”ç”¨ç¨‹åºä»¥ç¼–ç¨‹çš„æ–¹å¼è¿è¡Œ SQL æŸ¥è¯¢, å¹¶å°†ç»“æœä½œä¸ºä¸€ä¸ª DataFrame è¿”å›.\n1 2 3 4  df.createOrReplaceTempView(\u0026#34;people\u0026#34;) sqlDF = spark.sql(\u0026#34;SELECT * FROM people\u0026#34;) sqlDF.show()   +---+-------+ |age| name| +---+-------+ | 33|Michael| | 30| Andy| | 19| Justin| +---+-------+ spark DataFrameä¸RDDäº¤äº’ Spark SQL æ”¯æŒä¸¤ç§ä¸åŒçš„æ–¹æ³•ç”¨äºè½¬æ¢å·²å­˜åœ¨çš„ RDD æˆä¸º Dataset\nç¬¬ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨åå°„å»æ¨æ–­ä¸€ä¸ªåŒ…å«æŒ‡å®šçš„å¯¹è±¡ç±»å‹çš„ RDD çš„ Schema.åœ¨ä½ çš„ Spark åº”ç”¨ç¨‹åºä¸­å½“ä½ å·²çŸ¥ Schema æ—¶è¿™ä¸ªåŸºäºæ–¹æ³•çš„åå°„å¯ä»¥è®©ä½ çš„ä»£ç æ›´ç®€æ´.\nç¬¬äºŒç§ç”¨äºåˆ›å»º Dataset çš„æ–¹æ³•æ˜¯é€šè¿‡ä¸€ä¸ªå…è®¸ä½ æ„é€ ä¸€ä¸ª Schema ç„¶åæŠŠå®ƒåº”ç”¨åˆ°ä¸€ä¸ªå·²å­˜åœ¨çš„ RDD çš„ç¼–ç¨‹æ¥å£.ç„¶è€Œè¿™ç§æ–¹æ³•æ›´ç¹ç, å½“åˆ—å’Œå®ƒä»¬çš„ç±»å‹çŸ¥é“è¿è¡Œæ—¶éƒ½æ˜¯æœªçŸ¥æ—¶å®ƒå…è®¸ä½ å»æ„é€  Dataset.\n!cat ../data/people.txt\nåå°„æ¨æ–­ 1 2 3 4 5 6 7 8 9 10  from pyspark.sql import Row sc = spark.sparkContext lines = sc.textFile(\u0026#34;../data/people.txt\u0026#34;) parts = lines.map(lambda l: l.split(\u0026#34;,\u0026#34;)) people = parts.map(lambda p: Row(name=p[0], age=int(p[1]))) # Infer the schema, and register the DataFrame as a table. schemaPeople = spark.createDataFrame(people) schemaPeople.createOrReplaceTempView(\u0026#34;people\u0026#34;)   1  teenagers = spark.sql(\u0026#34;SELECT name FROM people WHERE age \u0026gt;= 13 AND age \u0026lt;= 19\u0026#34;)   1  type(teenagers)   pyspark.sql.dataframe.DataFrame\n1  type(teenagers.rdd)   pyspark.rdd.RDD\n1  teenagers.rdd.first()   Row(name='Justin\u0026rsquo;)\n1 2 3  teenNames = teenagers.rdd.map(lambda p: \u0026#34;Name: \u0026#34; + p.name).collect() for name in teenNames: print(name)   Name: Justin\nä»¥ç¼–ç¨‹çš„æ–¹å¼æŒ‡å®šSchema ä¹Ÿå¯ä»¥é€šè¿‡ä»¥ä¸‹çš„æ–¹å¼å»åˆå§‹åŒ–ä¸€ä¸ª DataFrameã€‚\n RDDä»åŸå§‹çš„RDDç©¿ä»¶ä¸€ä¸ªRDDçš„toplesæˆ–è€…ä¸€ä¸ªåˆ—è¡¨; Step 1 è¢«åˆ›å»ºå, åˆ›å»º Schema è¡¨ç¤ºä¸€ä¸ª StructType åŒ¹é… RDD ä¸­çš„ç»“æ„. é€šè¿‡ SparkSession æä¾›çš„ createDataFrame æ–¹æ³•åº”ç”¨ Schema åˆ° RDD .  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  from pyspark.sql.types import * sc = spark.sparkContext # Load a text file and convert each line to a Row. lines = sc.textFile(\u0026#34;../data/people.txt\u0026#34;) parts = lines.map(lambda l: l.split(\u0026#34;,\u0026#34;)) # Each line is converted to a tuple. people = parts.map(lambda p: (p[0], p[1].strip())) # The schema is encoded in a string. schemaString = \u0026#34;name age\u0026#34; fields = [StructField(field_name, StringType(), True) for field_name in schemaString.split()] schema = StructType(fields) # Apply the schema to the RDD. schemaPeople = spark.createDataFrame(people, schema)   1 2 3  schemaPeople.createOrReplaceTempView(\u0026#34;people\u0026#34;) results = spark.sql(\u0026#34;SELECT name FROM people\u0026#34;) results.show()   +-------+ | name| +-------+ |Michael| | Andy| | Justin| +-------+ Spark DataFrame vs SQL Spark DataFrame vs SQL çš„å°ç»ƒä¹  a.åˆå§‹åŒ–Spark Session 1 2  import\tfindspark findspark.init()   1 2 3 4 5 6 7  from pyspark.sql import SparkSession spark = SparkSession \\ .builder \\ .appName(\u0026#34;Python Spark SQL\u0026#34;) \\ .config(\u0026#34;spark.some.config.option\u0026#34;, \u0026#34;some-value\u0026#34;) \\ .getOrCreate()   b.æ„å»ºæ•°æ®é›†ä¸åºåˆ—åŒ– 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  stringJSONRDD = spark.sparkContext.parallelize((\u0026#34;\u0026#34;\u0026#34;{ \u0026#34;id\u0026#34;: \u0026#34;123\u0026#34;,\u0026#34;name\u0026#34;: \u0026#34;Katie\u0026#34;,\u0026#34;age\u0026#34;: 19,\u0026#34;eyeColor\u0026#34;: \u0026#34;brown\u0026#34;}\u0026#34;\u0026#34;\u0026#34;, \u0026#34;\u0026#34;\u0026#34;{\u0026#34;id\u0026#34;: \u0026#34;234\u0026#34;,\u0026#34;name\u0026#34;: \u0026#34;Michael\u0026#34;,\u0026#34;age\u0026#34;: 22,\u0026#34;eyeColor\u0026#34;: \u0026#34;green\u0026#34;}\u0026#34;\u0026#34;\u0026#34;, \u0026#34;\u0026#34;\u0026#34;{\u0026#34;id\u0026#34;: \u0026#34;345\u0026#34;,\u0026#34;name\u0026#34;: \u0026#34;Simone\u0026#34;,\u0026#34;age\u0026#34;: 23,\u0026#34;eyeColor\u0026#34;: \u0026#34;blue\u0026#34;}\u0026#34;\u0026#34;\u0026#34;) )   1 2  # æ„å»ºDataFrame swimmersJSON = spark.read.json(stringJSONRDD)   1 2  # åˆ›å»ºä¸´æ—¶è¡¨ swimmersJSON.createOrReplaceTempView(\u0026#34;swimmersJSON\u0026#34;)   1 2  # DataFrameä¿¡æ¯ swimmersJSON.show()   +---+--------+---+-------+ |age|eyeColor| id| name| +---+--------+---+-------+ | 19| brown|123| Katie| | 22| green|234|Michael| | 23| blue|345| Simone| +---+--------+---+-------+ 1  spark.sql(\u0026#34;select * from swimmersJSON\u0026#34;).show()   +---+--------+---+-------+ |age|eyeColor| id| name| +---+--------+---+-------+ | 19| brown|123| Katie| | 22| green|234|Michael| | 23| blue|345| Simone| +---+--------+---+-------+ 1 2  # æ‰§è¡ŒSQLè¯·æ±‚ spark.sql(\u0026#34;select * from swimmersJSON\u0026#34;).collect()   [Row(age=19, eyeColor='brown', id='123', name='Katie'), Row(age=22, eyeColor='green', id='234', name='Michael'), Row(age=23, eyeColor='blue', id='345', name='Simone')] 1 2  # è¾“å‡ºæ•°æ®è¡¨çš„æ ¼å¼ swimmersJSON.printSchema()   |-- age: long (nullable = true) |-- eyeColor: string (nullable = true) |-- id: string (nullable = true) |-- name: string (nullable = true) 1 2  # æ‰§è¡ŒSQL spark.sql(\u0026#34;select count(1) from swimmersJSON\u0026#34;)   DataFrame[count(1): bigint]\n1  spark.sql(\u0026#34;select count(1) from swimmersJSON\u0026#34;).show()   +\u0026mdash;\u0026mdash;\u0026ndash;+\n|count(1)|\n+\u0026mdash;\u0026mdash;\u0026ndash;+\n| 3|\n+\u0026mdash;\u0026mdash;\u0026ndash;+\nc.DataFrameçš„è¯·æ±‚æ–¹å¼ vs SQLçš„å†™æ³• 1 2  # DataFrameçš„å†™æ³• swimmersJSON.select(\u0026#34;id\u0026#34;, \u0026#34;age\u0026#34;).filter(\u0026#34;age = 22\u0026#34;).show()   +\u0026mdash;+\u0026mdash;+\n| id|age|\n+\u0026mdash;+\u0026mdash;+\n|234| 22|\n+\u0026mdash;+\u0026mdash;+\n1 2  # SQLçš„å†™æ³• spark.sql(\u0026#34;select id, age from swimmersJSON where age = 22\u0026#34;).show()   +\u0026mdash;+\u0026mdash;+\n| id|age|\n+\u0026mdash;+\u0026mdash;+\n|234| 22|\n+\u0026mdash;+\u0026mdash;+\n1 2  # DataFrameçš„å†™æ³• swimmersJSON.select(\u0026#34;name\u0026#34;, \u0026#34;eyeColor\u0026#34;).filter(\u0026#34;eyeColor like \u0026#39;b%\u0026#39;\u0026#34;).show()   +\u0026mdash;\u0026mdash;+\u0026mdash;\u0026mdash;\u0026ndash;+\n| name|eyeColor|\n+\u0026mdash;\u0026mdash;+\u0026mdash;\u0026mdash;\u0026ndash;+\n| Katie| brown|\n|Simone| blue|\n+\u0026mdash;\u0026mdash;+\u0026mdash;\u0026mdash;\u0026ndash;+\n1 2  # SQLçš„å†™æ³• spark.sql(\u0026#34;select name, eyeColor from swimmersJSON where eyeColor like \u0026#39;b%\u0026#39;\u0026#34;).show()   +\u0026mdash;\u0026mdash;+\u0026mdash;\u0026mdash;\u0026ndash;+\n| name|eyeColor|\n+\u0026mdash;\u0026mdash;+\u0026mdash;\u0026mdash;\u0026ndash;+\n| Katie| brown|\n|Simone| blue|\n+\u0026mdash;\u0026mdash;+\u0026mdash;\u0026mdash;\u0026ndash;+\n"
},
{
	"uri": "https://lczen.github.io/en/tags/spark/",
	"title": "spark",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/",
	"title": "å¤§æ•°æ®å¤„ç†",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/posts/plotfigure/",
	"title": "Matplotlib",
	"tags": ["matplotlib"],
	"categories": [],
	"series": [],
	"description": "",
	"content": "Matplotlibå¯è§†åŒ–æ‰‹å†Œ 1.matplotlib å®‰è£…é…ç½® sudo pip install numpy sudo pip install scipy sudo pip install matplotlib 2.ä¸€å¹…å¯è§†åŒ–å›¾çš„åŸºæœ¬ç»“æ„ é€šå¸¸ï¼Œä½¿ç”¨ numpy ç»„ç»‡æ•°æ®, ä½¿ç”¨ matplotlib API è¿›è¡Œæ•°æ®å›¾åƒç»˜åˆ¶ã€‚ ä¸€å¹…æ•°æ®å›¾åŸºæœ¬ä¸ŠåŒ…æ‹¬å¦‚ä¸‹ç»“æ„ï¼š\n Data: æ•°æ®åŒºï¼ŒåŒ…æ‹¬æ•°æ®ç‚¹ã€æç»˜å½¢çŠ¶ Axis: åæ ‡è½´ï¼ŒåŒ…æ‹¬ X è½´ã€ Y è½´åŠå…¶æ ‡ç­¾ã€åˆ»åº¦å°ºåŠå…¶æ ‡ç­¾ Title: æ ‡é¢˜ï¼Œæ•°æ®å›¾çš„æè¿° Legend: å›¾ä¾‹ï¼ŒåŒºåˆ†å›¾ä¸­åŒ…å«çš„å¤šç§æ›²çº¿æˆ–ä¸åŒåˆ†ç±»çš„æ•°æ®\nå…¶ä»–çš„è¿˜æœ‰å›¾å½¢æ–‡æœ¬ (Text)ã€æ³¨è§£ (Annotate)ç­‰å…¶ä»–æè¿°\n  3.ç”»æ³• ä¸‹é¢ä»¥å¸¸è§„å›¾ä¸ºä¾‹ï¼Œè¯¦ç»†è®°å½•ä½œå›¾æµç¨‹åŠæŠ€å·§ã€‚æŒ‰ç…§ç»˜å›¾ç»“æ„ï¼Œå¯å°†æ•°æ®å›¾çš„ç»˜åˆ¶åˆ†ä¸ºå¦‚ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š\n å¯¼å…¥ matplotlib åŒ…ç›¸å…³å·¥å…·åŒ… å‡†å¤‡æ•°æ®ï¼Œnumpy æ•°ç»„å­˜å‚¨ ç»˜åˆ¶åŸå§‹æ›²çº¿ é…ç½®æ ‡é¢˜ã€åæ ‡è½´ã€åˆ»åº¦ã€å›¾ä¾‹ æ·»åŠ æ–‡å­—è¯´æ˜ã€æ³¨è§£ æ˜¾ç¤ºã€ä¿å­˜ç»˜å›¾ç»“æœ  3.1å¯¼åŒ… ä¼šç”¨åˆ° matplotlib.pyplotã€pylab å’Œ numpy\n1 2 3 4 5  #coding:utf-8 %matplotlib inline import numpy as np import matplotlib.pyplot as plt from pylab import *   3.2å‡†å¤‡æ•°æ® numpy å¸¸ç”¨æ¥ç»„ç»‡æºæ•°æ®:\n# å®šä¹‰æ•°æ®éƒ¨åˆ† x = np.arange(0., 10, 0.2) y1 = np.cos(x) y2 = np.sin(x) y3 = np.sqrt(x) #x = all_df['house_age'] #y = all_df['house_price'] 3.3ç»˜åˆ¶åŸºæœ¬æ›²çº¿ ä½¿ç”¨ plot å‡½æ•°ç›´æ¥ç»˜åˆ¶ä¸Šè¿°å‡½æ•°æ›²çº¿ï¼Œå¯ä»¥é€šè¿‡é…ç½® plot å‡½æ•°å‚æ•°è°ƒæ•´æ›²çº¿çš„æ ·å¼ã€ç²—ç»†ã€é¢œè‰²ã€æ ‡è®°ç­‰ï¼š\n2.3.1 å…³äºé¢œè‰²çš„è¡¥å…… ä¸»è¦æ˜¯colorå‚æ•°ï¼š\n r çº¢è‰² g ç»¿è‰² b è“è‰² c cyan m ç´«è‰² y åœŸé»„è‰² k é»‘è‰² w ç™½è‰²  3.3.3 marker å‚æ•° markerå‚æ•°è®¾å®šåœ¨æ›²çº¿ä¸Šæ ‡è®°çš„ç‰¹æ®Šç¬¦å·ï¼Œä»¥åŒºåˆ†ä¸åŒçš„çº¿æ®µã€‚å¸¸è§çš„å½¢çŠ¶åŠè¡¨ç¤ºç¬¦å·å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n3.4 è®¾ç½®åæ ‡è½´ å¯é€šè¿‡å¦‚ä¸‹ä»£ç ï¼Œç§»åŠ¨åæ ‡è½´ spines\n1 2 3 4 5 6 7 8 9 10 11  # åæ ‡è½´ä¸Šç§» ax = plt.subplot(111) #ax = plt.subplot(2,2,1) ax.spines[\u0026#39;right\u0026#39;].set_color(\u0026#39;none\u0026#39;) # å»æ‰å³è¾¹çš„è¾¹æ¡†çº¿ ax.spines[\u0026#39;top\u0026#39;].set_color(\u0026#39;none\u0026#39;) # å»æ‰ä¸Šè¾¹çš„è¾¹æ¡†çº¿ # ç§»åŠ¨ä¸‹è¾¹è¾¹æ¡†çº¿ï¼Œç›¸å½“äºç§»åŠ¨ X è½´ ax.xaxis.set_ticks_position(\u0026#39;bottom\u0026#39;) ax.spines[\u0026#39;bottom\u0026#39;].set_position((\u0026#39;data\u0026#39;, 0)) # ç§»åŠ¨å·¦è¾¹è¾¹æ¡†çº¿ï¼Œç›¸å½“äºç§»åŠ¨ y è½´ ax.yaxis.set_ticks_position(\u0026#39;left\u0026#39;) ax.spines[\u0026#39;left\u0026#39;].set_position((\u0026#39;data\u0026#39;, 0))   å¯é€šè¿‡å¦‚ä¸‹ä»£ç ï¼Œè®¾ç½®åˆ»åº¦å°ºé—´éš” limã€åˆ»åº¦æ ‡ç­¾ ticks\n1 2 3 4 5 6 7  # è®¾ç½® x, y è½´çš„åˆ»åº¦å–å€¼èŒƒå›´ plt.xlim(x.min()*1.1, x.max()*1.1) plt.ylim(-1.5, 4.0) # è®¾ç½® x, y è½´çš„åˆ»åº¦æ ‡ç­¾å€¼ plt.xticks([2, 4, 6, 8, 10], [r\u0026#39;two\u0026#39;, r\u0026#39;four\u0026#39;, r\u0026#39;six\u0026#39;, r\u0026#39;8\u0026#39;, r\u0026#39;10\u0026#39;]) plt.yticks([-1.0, 0.0, 1.0, 2.0, 3.0, 4.0], [r\u0026#39;-1.0\u0026#39;, r\u0026#39;0.0\u0026#39;, r\u0026#39;1.0\u0026#39;, r\u0026#39;2.0\u0026#39;, r\u0026#39;3.0\u0026#39;, r\u0026#39;4.0\u0026#39;])   å¯é€šè¿‡å¦‚ä¸‹ä»£ç ï¼Œè®¾ç½® Xã€Y åæ ‡è½´å’Œæ ‡é¢˜ï¼š\n1 2 3 4  # è®¾ç½®æ ‡é¢˜ã€xè½´ã€yè½´.labelpadæ§åˆ¶åˆ»åº¦æ ‡æ³¨çš„ä¸Šä¸‹ä½ç½® plt.title(r\u0026#39;$the \\function \\figure \\of \\cos(), \\sin() \\and \\sqrt()$\u0026#39;, fontsize=19) plt.xlabel(r\u0026#39;$the \\input \\value \\of \\x$\u0026#39;, fontsize=18, labelpad=88.8) plt.ylabel(r\u0026#39;$y = f(x)$\u0026#39;, fontsize=18, labelpad=12.5)   3.5 è®¾ç½®æ–‡å­—æè¿°ã€æ³¨è§£ å¯é€šè¿‡å¦‚ä¸‹ä»£ç ï¼Œåœ¨æ•°æ®å›¾ä¸­æ·»åŠ æ–‡å­—æè¿° textï¼š\n1 2 3  #0.8,0.9æ˜¯å–å€¼èŒƒå›´labelçš„åæ ‡ plt.text(0.8, 0.9, r\u0026#39;$x \\in [0.0, \\10.0]$\u0026#39;, color=\u0026#39;k\u0026#39;, fontsize=15) plt.text(0.8, 0.8, r\u0026#39;$y \\in [-1.0, \\4.0]$\u0026#39;, color=\u0026#39;k\u0026#39;, fontsize=15)   å¯é€šè¿‡å¦‚ä¸‹ä»£ç ï¼Œåœ¨æ•°æ®å›¾ä¸­ç»™ç‰¹æ®Šç‚¹æ·»åŠ æ³¨è§£ annotateï¼š\n1 2 3  # ç‰¹æ®Šç‚¹æ·»åŠ æ³¨è§£ plt.scatter([8,],[np.sqrt(8),], 50, color =\u0026#39;m\u0026#39;) # ä½¿ç”¨æ•£ç‚¹å›¾æ”¾å¤§å½“å‰ç‚¹ plt.annotate(r\u0026#39;$2\\sqrt{2}$\u0026#39;, xy=(8, np.sqrt(8)), xytext=(8.002, 2.83), fontsize=16, color=\u0026#39;#090909\u0026#39;, arrowprops=dict(arrowstyle=\u0026#39;-\u0026gt;\u0026#39;, connectionstyle=\u0026#39;arc3, rad=0.1\u0026#39;, color=\u0026#39;#090909\u0026#39;))   3.6 è®¾ç½®å›¾ä¾‹ å¯ä½¿ç”¨å¦‚ä¸‹ä¸¤ç§æ–¹å¼ï¼Œç»™ç»˜å›¾è®¾ç½®å›¾ä¾‹ï¼š\n 1: åœ¨ plt.plot å‡½æ•°ä¸­æ·»åŠ  label å‚æ•°åï¼Œä½¿ç”¨ plt.legend(loc=â€™up rightâ€™) 2: ä¸ä½¿ç”¨å‚æ•° label, ç›´æ¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š\nplt.legend([\u0026lsquo;cos(x)', \u0026lsquo;sin(x)', \u0026lsquo;sqrt(x)'], loc='upper right\u0026rsquo;)\n  3.7 ç½‘æ ¼çº¿å¼€å…³ å¯ä½¿ç”¨å¦‚ä¸‹ä»£ç ï¼Œç»™ç»˜å›¾è®¾ç½®ç½‘æ ¼çº¿ï¼š\n1 2  # æ˜¾ç¤ºç½‘æ ¼çº¿ plt.grid(True)   3.8 æ˜¾ç¤ºä¸å›¾åƒä¿å­˜ 1 2  plt.show() # æ˜¾ç¤º savefig(\u0026#39;../figures/plot3d_ex.png\u0026#39;,dpi=48) # ä¿å­˜ï¼Œå‰æç›®å½•å­˜åœ¨   4.å®Œæ•´çš„ç»˜åˆ¶ç¨‹åº 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62  #coding:utf-8 import warnings warnings.filterwarnings(\u0026#39;ignore\u0026#39;) import numpy as np import matplotlib.pyplot as plt from pylab import * # å®šä¹‰æ•°æ®éƒ¨åˆ† x = np.arange(0., 10, 0.2) y1 = np.cos(x) y2 = np.sin(x) y3 = np.sqrt(x) # ç»˜åˆ¶ 3 æ¡å‡½æ•°æ›²çº¿ plt.plot(x, y1, color=\u0026#39;blue\u0026#39;, linewidth=1.5, linestyle=\u0026#39;-\u0026#39;, marker=\u0026#39;.\u0026#39;, label=r\u0026#39;$y = cos{x}$\u0026#39;) plt.plot(x, y2, color=\u0026#39;green\u0026#39;, linewidth=1.5, linestyle=\u0026#39;-\u0026#39;, marker=\u0026#39;*\u0026#39;, label=r\u0026#39;$y = sin{x}$\u0026#39;) plt.plot(x, y3, color=\u0026#39;m\u0026#39;, linewidth=1.5, linestyle=\u0026#39;-\u0026#39;, marker=\u0026#39;x\u0026#39;, label=r\u0026#39;$y = \\sqrt{x}$\u0026#39;) # åæ ‡è½´ä¸Šç§» ax = plt.subplot(111) ax.spines[\u0026#39;right\u0026#39;].set_color(\u0026#39;none\u0026#39;) # å»æ‰å³è¾¹çš„è¾¹æ¡†çº¿ ax.spines[\u0026#39;top\u0026#39;].set_color(\u0026#39;none\u0026#39;) # å»æ‰ä¸Šè¾¹çš„è¾¹æ¡†çº¿ # ç§»åŠ¨ä¸‹è¾¹è¾¹æ¡†çº¿ï¼Œç›¸å½“äºç§»åŠ¨ X è½´ ax.xaxis.set_ticks_position(\u0026#39;bottom\u0026#39;) ax.spines[\u0026#39;bottom\u0026#39;].set_position((\u0026#39;data\u0026#39;, 0)) # ç§»åŠ¨å·¦è¾¹è¾¹æ¡†çº¿ï¼Œç›¸å½“äºç§»åŠ¨ y è½´ ax.yaxis.set_ticks_position(\u0026#39;left\u0026#39;) ax.spines[\u0026#39;left\u0026#39;].set_position((\u0026#39;data\u0026#39;, 0)) # è®¾ç½® x, y è½´çš„å–å€¼èŒƒå›´ plt.xlim(x.min()*1.1, x.max()*1.1) plt.ylim(-1.5, 4.0) # è®¾ç½® x, y è½´çš„åˆ»åº¦å€¼ plt.xticks([2, 4, 6, 8, 10], [r\u0026#39;2\u0026#39;, r\u0026#39;4\u0026#39;, r\u0026#39;6\u0026#39;, r\u0026#39;8\u0026#39;, r\u0026#39;10\u0026#39;]) plt.yticks([-1.0, 0.0, 1.0, 2.0, 3.0, 4.0], [r\u0026#39;-1.0\u0026#39;, r\u0026#39;0.0\u0026#39;, r\u0026#39;1.0\u0026#39;, r\u0026#39;2.0\u0026#39;, r\u0026#39;3.0\u0026#39;, r\u0026#39;4.0\u0026#39;]) # æ·»åŠ æ–‡å­— plt.text(8, 1.5, r\u0026#39;$x \\in [0.0, \\10.0]$\u0026#39;, color=\u0026#39;k\u0026#39;, fontsize=15) plt.text(8, 1.8, r\u0026#39;$y \\in [-1.0, \\4.0]$\u0026#39;, color=\u0026#39;k\u0026#39;, fontsize=15) # ç‰¹æ®Šç‚¹æ·»åŠ æ³¨è§£ plt.scatter([8,],[np.sqrt(8),], 50, color =\u0026#39;m\u0026#39;) # ä½¿ç”¨æ•£ç‚¹å›¾æ”¾å¤§å½“å‰ç‚¹ plt.annotate(r\u0026#39;$2\\sqrt{2}$\u0026#39;, xy=(8, np.sqrt(8)), xytext=(8.5, 2.2), fontsize=16, color=\u0026#39;#090909\u0026#39;, arrowprops=dict(arrowstyle=\u0026#39;-\u0026gt;\u0026#39;, connectionstyle=\u0026#39;arc3, rad=0.1\u0026#39;, color=\u0026#39;#090909\u0026#39;)) # è®¾ç½®æ ‡é¢˜ã€xè½´ã€yè½´ plt.title(r\u0026#39;$the \\function \\figure \\of \\cos(), \\sin() \\and \\sqrt()$\u0026#39;, fontsize=19) plt.xlabel(r\u0026#39;$the \\input \\value \\of \\x$\u0026#39;, fontsize=18, labelpad=88.8) plt.ylabel(r\u0026#39;$y = f(x)$\u0026#39;, fontsize=18, labelpad=12.5) # è®¾ç½®å›¾ä¾‹åŠä½ç½® plt.legend(loc=\u0026#39;best\u0026#39;) # plt.legend([\u0026#39;cos(x)\u0026#39;, \u0026#39;sin(x)\u0026#39;, \u0026#39;sqrt(x)\u0026#39;], loc=\u0026#39;up right\u0026#39;) # æ˜¾ç¤ºç½‘æ ¼çº¿ plt.grid(True) # æ˜¾ç¤ºç»˜å›¾ plt.show()   å¸¸ç”¨å›¾å½¢ ç»†èŠ‚çœ‹è¿™é‡Œï¼Œçœ‹è¿™é‡Œï¼Œçœ‹è¿™é‡Œ\n æ›²çº¿å›¾ï¼šmatplotlib.pyplot.plot(data) ç°åº¦/ç›´æ–¹å›¾ï¼šmatplotlib.pyplot.hist(data) æ•£ç‚¹å›¾ï¼šmatplotlib.pyplot.scatter(data) ç®±å¼/ç®±çº¿å›¾ï¼šmatplotlib.pyplot.boxplot(data)  1 2 3  x = np.arange(-5,5,0.1) y = x ** 2 plt.plot(x,y)   1 2  x = np.random.normal(size=1000) plt.hist(x, bins=10)   1 2 3 4  plt.rcParams[\u0026#34;figure.figsize\u0026#34;] = (8,8) x = np.random.normal(size=1000) y = np.random.normal(size=1000) plt.scatter(x,y)   1 2 3  plt.rcParams[\u0026#34;figure.figsize\u0026#34;] = (8,8) x = np.random.normal(size=100) plt.boxplot(x)   ç®±å¼å›¾(boxplot)ç§‘æ™®\n ä¸Šè¾¹ç¼˜ï¼ˆQ3+1.5*IQR/â€œç®±å­é«˜åº¦â€ï¼‰ã€ä¸‹è¾¹ç¼˜ï¼ˆQ1-1.5*IQR/â€œç®±å­é«˜åº¦â€ï¼‰ã€IQR=Q3-Q1 ä¸Šå››åˆ†ä½æ•°ï¼ˆQ3ï¼‰ã€ä¸‹å››åˆ†ä½æ•°ï¼ˆQ1ï¼‰ ä¸­ä½æ•° å¼‚å¸¸å€¼ å¤„ç†å¼‚å¸¸å€¼æ—¶ä¸3$\\sigma$æ ‡å‡†çš„å¼‚åŒï¼šç»Ÿè®¡è¾¹ç•Œæ˜¯å¦å—å¼‚å¸¸å€¼å½±å“ã€å®¹å¿åº¦çš„å¤§å°\nmatplotlibçš„å·¥å…·æ‰‹å†Œåœ¨è¿™é‡Œå¯ä»¥æŸ¥åˆ°  matplotlibåº”ç”¨æ¡ˆä¾‹ æ¡ˆä¾‹ï¼šè‡ªè¡Œè½¦ç§Ÿèµæ•°æ®åˆ†æä¸å¯è§†åŒ– æ­¥éª¤1ï¼šå¯¼å…¥æ•°æ®ä¸ç®€æ˜“æ•°æ®å¤„ç† 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  import pandas as pd # è¯»å–æ•°æ®åˆ°DataFrame import urllib # è·å–ç½‘ç»œæ•°æ® import shutil # æ–‡ä»¶æ“ä½œ import zipfile # å‹ç¼©è§£å‹ import os import warnings warnings.filterwarnings(\u0026#39;ignore\u0026#39;) # å»ºç«‹ä¸´æ—¶ç›®å½• try: os.system(\u0026#39;mkdir bike_data\u0026#39;) except: os.system(\u0026#39;rm -rf bike_data; mkdir bike_data\u0026#39;) data_source = \u0026#39;http://archive.ics.uci.edu/ml/machine-learning-databases/00275/Bike-Sharing-Dataset.zip\u0026#39; # ç½‘ç»œæ•°æ®åœ°å€ zipname = \u0026#39;bike_data/Bike-Sharing-Dataset.zip\u0026#39; # æ‹¼æ¥æ–‡ä»¶å’Œè·¯å¾„ urllib.request.urlretrieve(data_source, zipname) # è·å¾—æ•°æ® zip_ref = zipfile.ZipFile(zipname, \u0026#39;r\u0026#39;) # åˆ›å»ºä¸€ä¸ªZipFileå¯¹è±¡å¤„ç†å‹ç¼©æ–‡ä»¶ #zip_ref.extractall(temp_dir) # è§£å‹ zip_ref.extractall(\u0026#39;bike_data\u0026#39;) zip_ref.close() daily_path = \u0026#39;bike_data/day.csv\u0026#39; daily_data = pd.read_csv(daily_path) # è¯»å–csvæ–‡ä»¶ daily_data[\u0026#39;dteday\u0026#39;] = pd.to_datetime(daily_data[\u0026#39;dteday\u0026#39;]) # æŠŠå­—ç¬¦ä¸²æ•°æ®ä¼ æ¢æˆæ—¥æœŸæ•°æ® drop_list = [\u0026#39;instant\u0026#39;, \u0026#39;season\u0026#39;, \u0026#39;yr\u0026#39;, \u0026#39;mnth\u0026#39;, \u0026#39;holiday\u0026#39;, \u0026#39;workingday\u0026#39;, \u0026#39;weathersit\u0026#39;, \u0026#39;atemp\u0026#39;, \u0026#39;hum\u0026#39;] # ä¸å…³æ³¨çš„åˆ— daily_data.drop(drop_list, inplace = True, axis = 1) # inplace=trueåœ¨å¯¹è±¡ä¸Šç›´æ¥æ“ä½œ daily_data.head() # çœ‹ä¸€çœ‹æ•°æ®~   dteday weekday temp windspeed casual registered cnt 0 2011-01-01 6 0.344167 0.160446 331 654 985 1 2011-01-02 0 0.363478 0.248539 131 670 801 2 2011-01-03 1 0.196364 0.248309 120 1229 1349 3 2011-01-04 2 0.200000 0.160296 108 1454 1562 4 2011-01-05 3 0.226957 0.186900 82 1518 1600 æ­¥éª¤2ï¼šé…ç½®å‚æ•° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  from __future__ import division, print_function # å¼•å…¥3.xç‰ˆæœ¬çš„é™¤æ³•å’Œæ‰“å° from matplotlib import pyplot as plt import pandas as pd import numpy as np # åœ¨notebookä¸­æ˜¾ç¤ºç»˜å›¾ç»“æœ %matplotlib inline # è®¾ç½®ä¸€äº›å…¨å±€çš„èµ„æºå‚æ•°ï¼Œå¯ä»¥è¿›è¡Œä¸ªæ€§åŒ–ä¿®æ”¹ import matplotlib # è®¾ç½®å›¾ç‰‡å°ºå¯¸ 14\u0026#34; x 7\u0026#34; # rc: resource configuration matplotlib.rc(\u0026#39;figure\u0026#39;, figsize = (14, 7)) # è®¾ç½®å­—ä½“ 14 matplotlib.rc(\u0026#39;font\u0026#39;, size = 14) # ä¸æ˜¾ç¤ºé¡¶éƒ¨å’Œå³ä¾§çš„åæ ‡çº¿ matplotlib.rc(\u0026#39;axes.spines\u0026#39;, top = False, right = False) # ä¸æ˜¾ç¤ºç½‘æ ¼ matplotlib.rc(\u0026#39;axes\u0026#39;, grid = False) # è®¾ç½®èƒŒæ™¯é¢œè‰²æ˜¯ç™½è‰² matplotlib.rc(\u0026#39;axes\u0026#39;, facecolor = \u0026#39;white\u0026#39;)   æ­¥éª¤3ï¼šå…³è”åˆ†æ æ•£ç‚¹å›¾  åˆ†æå˜é‡å…³ç³»  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  from matplotlib import font_manager fontP = font_manager.FontProperties() fontP.set_family(\u0026#39;SimHei\u0026#39;) fontP.set_size(14) # åŒ…è£…ä¸€ä¸ªæ•£ç‚¹å›¾çš„å‡½æ•°ä¾¿äºå¤ç”¨ def scatterplot(x_data, y_data, x_label, y_label, title): # åˆ›å»ºä¸€ä¸ªç»˜å›¾å¯¹è±¡ fig, ax = plt.subplots() # è®¾ç½®æ•°æ®ã€ç‚¹çš„å¤§å°ã€ç‚¹çš„é¢œè‰²å’Œé€æ˜åº¦ ax.scatter(x_data, y_data, s = 10, color = \u0026#39;#539caf\u0026#39;, alpha = 0.75) # http://www.114la.com/other/rgb.htm # æ·»åŠ æ ‡é¢˜å’Œåæ ‡è¯´æ˜ ax.set_title(title) ax.set_xlabel(x_label) ax.set_ylabel(y_label) # ç»˜åˆ¶æ•£ç‚¹å›¾ #æ¸©åº¦ä¸Šå‡ï¼Œéª‘è½¦çš„æ•°é‡å¢å¤š scatterplot(x_data = daily_data[\u0026#39;temp\u0026#39;].values , y_data = daily_data[\u0026#39;cnt\u0026#39;].values , x_label = \u0026#39;Normalized temperature (C)\u0026#39; , y_label = \u0026#39;Check outs\u0026#39; , title = \u0026#39;Number of Check Outs vs Temperature\u0026#39;)   æ›²çº¿å›¾  æ‹Ÿåˆå˜é‡å…³ç³»  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  # çº¿æ€§å›å½’ import statsmodels.api as sm # æœ€å°äºŒä¹˜ from statsmodels.stats.outliers_influence import summary_table # è·å¾—æ±‡æ€»ä¿¡æ¯ x = sm.add_constant(daily_data[\u0026#39;temp\u0026#39;]) # çº¿æ€§å›å½’å¢åŠ å¸¸æ•°é¡¹ y=kx+b y = daily_data[\u0026#39;cnt\u0026#39;] regr = sm.OLS(y, x) # æ™®é€šæœ€å°äºŒä¹˜æ¨¡å‹ï¼Œordinary least square model res = regr.fit() # ä»æ¨¡å‹è·å¾—æ‹Ÿåˆæ•°æ® st, data, ss2 = summary_table(res, alpha=0.05) # ç½®ä¿¡æ°´å¹³alpha=5%ï¼Œstæ•°æ®æ±‡æ€»ï¼Œdataæ•°æ®è¯¦æƒ…ï¼Œss2æ•°æ®åˆ—å fitted_values = data[:,2] # åŒ…è£…æ›²çº¿ç»˜åˆ¶å‡½æ•° def lineplot(x_data, y_data, x_label, y_label, title): # åˆ›å»ºç»˜å›¾å¯¹è±¡ _, ax = plt.subplots() # ç»˜åˆ¶æ‹Ÿåˆæ›²çº¿ï¼Œlw=linewidthï¼Œalpha=transparancy ax.plot(x_data, y_data, lw = 2, color = \u0026#39;#539caf\u0026#39;, alpha = 1) # æ·»åŠ æ ‡é¢˜å’Œåæ ‡è¯´æ˜ ax.set_title(title) ax.set_xlabel(x_label) ax.set_ylabel(y_label) # è°ƒç”¨ç»˜å›¾å‡½æ•° lineplot(x_data = daily_data[\u0026#39;temp\u0026#39;] , y_data = fitted_values , x_label = \u0026#39;Normalized temperature (C)\u0026#39; , y_label = \u0026#39;Check outs\u0026#39; , title = \u0026#39;Line of Best Fit for Number of Check Outs vs Temperature\u0026#39;)   å¸¦ç½®ä¿¡åŒºé—´çš„æ›²çº¿å›¾  è¯„ä¼°æ›²çº¿æ‹Ÿåˆç»“æœ  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  # è·å¾—5%ç½®ä¿¡åŒºé—´çš„ä¸Šä¸‹ç•Œ predict_mean_ci_low, predict_mean_ci_upp = data[:,4:6].T # åˆ›å»ºç½®ä¿¡åŒºé—´DataFrameï¼Œä¸Šä¸‹ç•Œ CI_df = pd.DataFrame(columns = [\u0026#39;x_data\u0026#39;, \u0026#39;low_CI\u0026#39;, \u0026#39;upper_CI\u0026#39;]) CI_df[\u0026#39;x_data\u0026#39;] = daily_data[\u0026#39;temp\u0026#39;] CI_df[\u0026#39;low_CI\u0026#39;] = predict_mean_ci_low CI_df[\u0026#39;upper_CI\u0026#39;] = predict_mean_ci_upp CI_df.sort_values(\u0026#39;x_data\u0026#39;, inplace = True) # æ ¹æ®x_dataè¿›è¡Œæ’åº # ç»˜åˆ¶ç½®ä¿¡åŒºé—´ def lineplotCI(x_data, y_data, sorted_x, low_CI, upper_CI, x_label, y_label, title): # åˆ›å»ºç»˜å›¾å¯¹è±¡ _, ax = plt.subplots() # ç»˜åˆ¶é¢„æµ‹æ›²çº¿ ax.plot(x_data, y_data, lw = 1, color = \u0026#39;#539caf\u0026#39;, alpha = 1, label = \u0026#39;Fit\u0026#39;) # ç»˜åˆ¶ç½®ä¿¡åŒºé—´ï¼Œé¡ºåºå¡«å…… ax.fill_between(sorted_x, low_CI, upper_CI, color = \u0026#39;#539caf\u0026#39;, alpha = 0.4, label = \u0026#39;95%CI\u0026#39;) # æ·»åŠ æ ‡é¢˜å’Œåæ ‡è¯´æ˜ ax.set_title(title) ax.set_xlabel(x_label) ax.set_ylabel(y_label) # æ˜¾ç¤ºå›¾ä¾‹ï¼Œé…åˆlabelå‚æ•°ï¼Œloc=â€œbestâ€è‡ªé€‚åº”æ–¹å¼ ax.legend(loc = \u0026#39;best\u0026#39;) # Call the function to create plot lineplotCI(x_data = daily_data[\u0026#39;temp\u0026#39;] , y_data = fitted_values , sorted_x = CI_df[\u0026#39;x_data\u0026#39;] , low_CI = CI_df[\u0026#39;low_CI\u0026#39;] , upper_CI = CI_df[\u0026#39;upper_CI\u0026#39;] , x_label = \u0026#39;Normalized temperature (C)\u0026#39; , y_label = \u0026#39;Check outs\u0026#39; , title = \u0026#39;Line of Best Fit for Number of Check Outs vs Temperature\u0026#39;)   åŒåæ ‡æ›²çº¿å›¾  æ›²çº¿æ‹Ÿåˆä¸æ»¡è¶³ç½®ä¿¡é˜ˆå€¼æ—¶ï¼Œè€ƒè™‘å¢åŠ ç‹¬ç«‹å˜é‡ åˆ†æä¸åŒå°ºåº¦å¤šå˜é‡çš„å…³ç³»  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  # åŒçºµåæ ‡ç»˜å›¾å‡½æ•° def lineplot2y(x_data, x_label, y1_data, y1_color, y1_label, y2_data, y2_color, y2_label, title): _, ax1 = plt.subplots() ax1.plot(x_data, y1_data, color = y1_color) # æ·»åŠ æ ‡é¢˜å’Œåæ ‡è¯´æ˜ ax1.set_ylabel(y1_label, color = y1_color) ax1.set_xlabel(x_label) ax1.set_title(title) ax2 = ax1.twinx() # ä¸¤ä¸ªç»˜å›¾å¯¹è±¡å…±äº«æ¨ªåæ ‡è½´ ax2.plot(x_data, y2_data, color = y2_color) ax2.set_ylabel(y2_label, color = y2_color) # å³ä¾§åæ ‡è½´å¯è§ ax2.spines[\u0026#39;right\u0026#39;].set_visible(True) # è°ƒç”¨ç»˜å›¾å‡½æ•° lineplot2y(x_data = daily_data[\u0026#39;dteday\u0026#39;] , x_label = \u0026#39;Day\u0026#39; , y1_data = daily_data[\u0026#39;cnt\u0026#39;] , y1_color = \u0026#39;#539caf\u0026#39; , y1_label = \u0026#39;Check outs\u0026#39; , y2_data = daily_data[\u0026#39;windspeed\u0026#39;] , y2_color = \u0026#39;#7663b0\u0026#39; , y2_label = \u0026#39;Normalized windspeed\u0026#39; , title = \u0026#39;Check Outs and Windspeed Over Time\u0026#39;)   æ­¥éª¤4ï¼šåˆ†å¸ƒåˆ†æ ç°åº¦å›¾  ç²—ç•¥åŒºé—´è®¡æ•°  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  # ç»˜åˆ¶ç°åº¦å›¾çš„å‡½æ•° def histogram(data, x_label, y_label, title): _, ax = plt.subplots() res = ax.hist(data, color = \u0026#39;#539caf\u0026#39;, bins=10) # è®¾ç½®binçš„æ•°é‡ ax.set_ylabel(y_label) ax.set_xlabel(x_label) ax.set_title(title) return res # ç»˜å›¾å‡½æ•°è°ƒç”¨ res = histogram(data = daily_data[\u0026#39;registered\u0026#39;] , x_label = \u0026#39;Check outs\u0026#39; , y_label = \u0026#39;Frequency\u0026#39; , title = \u0026#39;Distribution of Registered Check Outs\u0026#39;) res[0] # value of bins res[1] # boundary of bins   å †å ç›´æ–¹å›¾  æ¯”è¾ƒä¸¤ä¸ªåˆ†å¸ƒ  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  # ç»˜åˆ¶å †å çš„ç›´æ–¹å›¾ def overlaid_histogram(data1, data1_name, data1_color, data2, data2_name, data2_color, x_label, y_label, title): # å½’ä¸€åŒ–æ•°æ®åŒºé—´ï¼Œå¯¹é½ä¸¤ä¸ªç›´æ–¹å›¾çš„bins max_nbins = 10 #è®¡ç®—è¾¹ç•Œ data_range = [min(min(data1), min(data2)), max(max(data1), max(data2))] binwidth = (data_range[1] - data_range[0]) / max_nbins bins = np.arange(data_range[0], data_range[1] + binwidth, binwidth) # ç”Ÿæˆç›´æ–¹å›¾binsåŒºé—´ # Create the plot _, ax = plt.subplots() ax.hist(data1, bins = bins, color = data1_color, alpha = 1, label = data1_name) ax.hist(data2, bins = bins, color = data2_color, alpha = 0.75, label = data2_name) ax.set_ylabel(y_label) ax.set_xlabel(x_label) ax.set_title(title) ax.legend(loc = \u0026#39;best\u0026#39;) # Call the function to create plot overlaid_histogram(data1 = daily_data[\u0026#39;registered\u0026#39;] , data1_name = \u0026#39;Registered\u0026#39; , data1_color = \u0026#39;#539caf\u0026#39; , data2 = daily_data[\u0026#39;casual\u0026#39;] , data2_name = \u0026#39;Casual\u0026#39; , data2_color = \u0026#39;#7663b0\u0026#39; , x_label = \u0026#39;Check outs\u0026#39; , y_label = \u0026#39;Frequency\u0026#39; , title = \u0026#39;Distribution of Check Outs By Type\u0026#39;)    registeredï¼šæ³¨å†Œçš„åˆ†å¸ƒï¼Œæ­£æ€åˆ†å¸ƒï¼Œwhy casualï¼šå¶ç„¶çš„åˆ†å¸ƒï¼Œç–‘ä¼¼æŒ‡æ•°åˆ†å¸ƒï¼Œwhy  å¯†åº¦å›¾  ç²¾ç»†åˆ»ç”»æ¦‚ç‡åˆ†å¸ƒ\nKDE: kernal density estimate\n  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  # è®¡ç®—æ¦‚ç‡å¯†åº¦ from scipy.stats import gaussian_kde data = daily_data[\u0026#39;registered\u0026#39;] density_est = gaussian_kde(data) # kernal density estimate: https://en.wikipedia.org/wiki/Kernel_density_estimation # æ§åˆ¶å¹³æ»‘ç¨‹åº¦ï¼Œæ•°å€¼è¶Šå¤§ï¼Œè¶Šå¹³æ»‘ density_est.covariance_factor = lambda : .3 density_est._compute_covariance() x_data = np.arange(min(data), max(data), 200) # ç»˜åˆ¶å¯†åº¦ä¼°è®¡æ›²çº¿ def densityplot(x_data, density_est, x_label, y_label, title): _, ax = plt.subplots() ax.plot(x_data, density_est(x_data), color = \u0026#39;#539caf\u0026#39;, lw = 2) ax.set_ylabel(y_label) ax.set_xlabel(x_label) ax.set_title(title) # è°ƒç”¨ç»˜å›¾å‡½æ•° densityplot(x_data = x_data , density_est = density_est , x_label = \u0026#39;Check outs\u0026#39; , y_label = \u0026#39;Frequency\u0026#39; , title = \u0026#39;Distribution of Registered Check Outs\u0026#39;)   1  type(density_est) #scipy.stats.kde.gaussian_kde   æ­¥éª¤5ï¼šç»„é—´åˆ†æ  ç»„é—´å®šé‡æ¯”è¾ƒ åˆ†ç»„ç²’åº¦ ç»„é—´èšç±»  æŸ±çŠ¶å›¾  ä¸€çº§ç±»é—´å‡å€¼æ–¹å·®æ¯”è¾ƒ  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  # åˆ†å¤©åˆ†æç»Ÿè®¡ç‰¹å¾ mean_total_co_day = daily_data[[\u0026#39;weekday\u0026#39;, \u0026#39;cnt\u0026#39;]].groupby(\u0026#39;weekday\u0026#39;).agg([np.mean, np.std]) mean_total_co_day.columns = mean_total_co_day.columns.droplevel() # å®šä¹‰ç»˜åˆ¶æŸ±çŠ¶å›¾çš„å‡½æ•° def barplot(x_data, y_data, error_data, x_label, y_label, title): _, ax = plt.subplots() # æŸ±çŠ¶å›¾ ax.bar(x_data, y_data, color = \u0026#39;#539caf\u0026#39;, align = \u0026#39;center\u0026#39;) # ç»˜åˆ¶æ–¹å·® # ls=\u0026#39;none\u0026#39;å»æ‰barä¹‹é—´çš„è¿çº¿ ax.errorbar(x_data, y_data, yerr = error_data, color = \u0026#39;#297083\u0026#39;, ls = \u0026#39;none\u0026#39;, lw = 5) ax.set_ylabel(y_label) ax.set_xlabel(x_label) ax.set_title(title) # ç»˜å›¾å‡½æ•°è°ƒç”¨ barplot(x_data = mean_total_co_day.index.values , y_data = mean_total_co_day[\u0026#39;mean\u0026#39;] , error_data = mean_total_co_day[\u0026#39;std\u0026#39;] , x_label = \u0026#39;Day of week\u0026#39; , y_label = \u0026#39;Check outs\u0026#39; , title = \u0026#39;Total Check Outs By Day of Week (0 = Sunday)\u0026#39;)   1 2  mean_total_co_day.columns daily_data[[\u0026#39;weekday\u0026#39;, \u0026#39;cnt\u0026#39;]].groupby(\u0026#39;weekday\u0026#39;).agg([np.mean, np.std])   \tcnt mean\tstd weekday\t0\t4228.828571\t1872.496629 1\t4338.123810\t1793.074013 2\t4510.663462\t1826.911642 3\t4548.538462\t2038.095884 4\t4667.259615\t1939.433317 5\t4690.288462\t1874.624870 6\t4550.542857\t2196.693009 å †ç§¯æŸ±çŠ¶å›¾  å¤šçº§ç±»é—´ç›¸å¯¹å æ¯”æ¯”è¾ƒ  1 2  mean_by_reg_co_day = daily_data[[\u0026#39;weekday\u0026#39;, \u0026#39;registered\u0026#39;, \u0026#39;casual\u0026#39;]].groupby(\u0026#39;weekday\u0026#39;).mean() mean_by_reg_co_day   \tregistered\tcasual weekday\t0\t2890.533333\t1338.295238 1\t3663.990476\t674.133333 2\t3954.480769\t556.182692 3\t3997.394231\t551.144231 4\t4076.298077\t590.961538 5\t3938.000000\t752.288462 6\t3085.285714\t1465.257143 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32  # åˆ†å¤©ç»Ÿè®¡æ³¨å†Œå’Œå¶ç„¶ä½¿ç”¨çš„æƒ…å†µ mean_by_reg_co_day = daily_data[[\u0026#39;weekday\u0026#39;, \u0026#39;registered\u0026#39;, \u0026#39;casual\u0026#39;]].groupby(\u0026#39;weekday\u0026#39;).mean() # åˆ†å¤©ç»Ÿè®¡æ³¨å†Œå’Œå¶ç„¶ä½¿ç”¨çš„å æ¯” mean_by_reg_co_day[\u0026#39;total\u0026#39;] = mean_by_reg_co_day[\u0026#39;registered\u0026#39;] + mean_by_reg_co_day[\u0026#39;casual\u0026#39;] mean_by_reg_co_day[\u0026#39;reg_prop\u0026#39;] = mean_by_reg_co_day[\u0026#39;registered\u0026#39;] / mean_by_reg_co_day[\u0026#39;total\u0026#39;] mean_by_reg_co_day[\u0026#39;casual_prop\u0026#39;] = mean_by_reg_co_day[\u0026#39;casual\u0026#39;] / mean_by_reg_co_day[\u0026#39;total\u0026#39;] # ç»˜åˆ¶å †ç§¯æŸ±çŠ¶å›¾ def stackedbarplot(x_data, y_data_list, y_data_names, colors, x_label, y_label, title): _, ax = plt.subplots() # å¾ªç¯ç»˜åˆ¶å †ç§¯æŸ±çŠ¶å›¾ for i in range(0, len(y_data_list)): if i == 0: ax.bar(x_data, y_data_list[i], color = colors[i], align = \u0026#39;center\u0026#39;, label = y_data_names[i]) else: # é‡‡ç”¨å †ç§¯çš„æ–¹å¼ï¼Œé™¤äº†ç¬¬ä¸€ä¸ªåˆ†ç±»ï¼Œåé¢çš„åˆ†ç±»éƒ½ä»å‰ä¸€ä¸ªåˆ†ç±»çš„æŸ±çŠ¶å›¾æ¥ç€ç”» # ç”¨å½’ä¸€åŒ–ä¿è¯æœ€ç»ˆç´¯ç§¯ç»“æœä¸º1 ax.bar(x_data, y_data_list[i], color = colors[i], bottom = y_data_list[i - 1], align = \u0026#39;center\u0026#39;, label = y_data_names[i]) ax.set_ylabel(y_label) ax.set_xlabel(x_label) ax.set_title(title) ax.legend(loc = \u0026#39;upper right\u0026#39;) # è®¾å®šå›¾ä¾‹ä½ç½® # è°ƒç”¨ç»˜å›¾å‡½æ•° stackedbarplot(x_data = mean_by_reg_co_day.index.values , y_data_list = [mean_by_reg_co_day[\u0026#39;reg_prop\u0026#39;], mean_by_reg_co_day[\u0026#39;casual_prop\u0026#39;]] , y_data_names = [\u0026#39;Registered\u0026#39;, \u0026#39;Casual\u0026#39;] , colors = [\u0026#39;#539caf\u0026#39;, \u0026#39;#7663b0\u0026#39;] , x_label = \u0026#39;Day of week\u0026#39; , y_label = \u0026#39;Proportion of check outs\u0026#39; , title = \u0026#39;Check Outs By Registration Status and Day of Week (0 = Sunday)\u0026#39;)    ä»è¿™å¹…å›¾ä½ çœ‹å‡ºäº†ä»€ä¹ˆï¼Ÿå·¥ä½œæ—¥ VS èŠ‚å‡æ—¥ ä¸ºä»€ä¹ˆä¼šæœ‰è¿™æ ·çš„å·®åˆ«ï¼Ÿå‘¨æœ«éšæ„  åˆ†ç»„æŸ±çŠ¶å›¾  å¤šçº§ç±»é—´ç»å¯¹æ•°å€¼æ¯”è¾ƒ  1  mean_by_reg_co_day.head()   registered\tcasual\ttotal\treg_prop\tcasual_prop weekday\t0\t2890.533333\t1338.295238\t4228.828571\t0.683531\t0.316469 1\t3663.990476\t674.133333\t4338.123810\t0.844603\t0.155397 2\t3954.480769\t556.182692\t4510.663462\t0.876696\t0.123304 3\t3997.394231\t551.144231\t4548.538462\t0.878830\t0.121170 4\t4076.298077\t590.961538\t4667.259615\t0.873381\t0.126619 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27  # ç»˜åˆ¶åˆ†ç»„æŸ±çŠ¶å›¾çš„å‡½æ•° def groupedbarplot(x_data, y_data_list, y_data_names, colors, x_label, y_label, title): _, ax = plt.subplots() # è®¾ç½®æ¯ä¸€ç»„æŸ±çŠ¶å›¾çš„å®½åº¦ total_width = 0.8 # è®¾ç½®æ¯ä¸€ä¸ªæŸ±çŠ¶å›¾çš„å®½åº¦ ind_width = total_width / len(y_data_list) # è®¡ç®—æ¯ä¸€ä¸ªæŸ±çŠ¶å›¾çš„ä¸­å¿ƒåç§» alteration = np.arange(-total_width/2+ind_width/2, total_width/2+ind_width/2, ind_width) # åˆ†åˆ«ç»˜åˆ¶æ¯ä¸€ä¸ªæŸ±çŠ¶å›¾ for i in range(0, len(y_data_list)): # æ¨ªå‘æ•£å¼€ç»˜åˆ¶ ax.bar(x_data + alteration[i], y_data_list[i], color = colors[i], label = y_data_names[i], width = ind_width) ax.set_ylabel(y_label) ax.set_xlabel(x_label) ax.set_title(title) ax.legend(loc = \u0026#39;upper right\u0026#39;) # è°ƒç”¨ç»˜å›¾å‡½æ•° groupedbarplot(x_data = mean_by_reg_co_day.index.values , y_data_list = [mean_by_reg_co_day[\u0026#39;registered\u0026#39;], mean_by_reg_co_day[\u0026#39;casual\u0026#39;]] , y_data_names = [\u0026#39;Registered\u0026#39;, \u0026#39;Casual\u0026#39;] , colors = [\u0026#39;#539caf\u0026#39;, \u0026#39;#7663b0\u0026#39;] , x_label = \u0026#39;Day of week\u0026#39; , y_label = \u0026#39;Check outs\u0026#39; , title = \u0026#39;Check Outs By Registration Status and Day of Week (0 = Sunday)\u0026#39;)    åç§»å‰ï¼šind_width/2 åç§»åï¼štotal_width/2 åç§»é‡ï¼štotal_width/2-ind_width/2  ç®±å¼å›¾  å¤šçº§ç±»é—´æ•°æ®åˆ†å¸ƒæ¯”è¾ƒ æŸ±çŠ¶å›¾ + å †å ç°åº¦å›¾  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37  # åªéœ€è¦æŒ‡å®šåˆ†ç±»çš„ä¾æ®ï¼Œå°±èƒ½è‡ªåŠ¨ç»˜åˆ¶ç®±å¼å›¾ days = np.unique(daily_data[\u0026#39;weekday\u0026#39;]) bp_data = [] for day in days: bp_data.append(daily_data[daily_data[\u0026#39;weekday\u0026#39;] == day][\u0026#39;cnt\u0026#39;].values) # å®šä¹‰ç»˜å›¾å‡½æ•° def boxplot(x_data, y_data, base_color, median_color, x_label, y_label, title): _, ax = plt.subplots() # è®¾ç½®æ ·å¼ ax.boxplot(y_data # ç®±å­æ˜¯å¦é¢œè‰²å¡«å…… , patch_artist = True # ä¸­ä½æ•°çº¿é¢œè‰² , medianprops = {\u0026#39;color\u0026#39;: base_color} # ç®±å­é¢œè‰²è®¾ç½®ï¼Œcolorï¼šè¾¹æ¡†é¢œè‰²ï¼Œfacecolorï¼šå¡«å……é¢œè‰² , boxprops = {\u0026#39;color\u0026#39;: base_color, \u0026#39;facecolor\u0026#39;: median_color} # çŒ«é¡»é¢œè‰²whisker , whiskerprops = {\u0026#39;color\u0026#39;: median_color} # çŒ«é¡»ç•Œé™é¢œè‰²whisker cap , capprops = {\u0026#39;color\u0026#39;: base_color}) # ç®±å›¾ä¸x_dataä¿æŒä¸€è‡´ ax.set_xticklabels(x_data) ax.set_ylabel(y_label) ax.set_xlabel(x_label) ax.set_title(title) # è°ƒç”¨ç»˜å›¾å‡½æ•° boxplot(x_data = days , y_data = bp_data , base_color = \u0026#39;b\u0026#39; , median_color = \u0026#39;r\u0026#39; , x_label = \u0026#39;Day of week\u0026#39; , y_label = \u0026#39;Check outs\u0026#39; , title = \u0026#39;Total Check Outs By Day of Week (0 = Sunday)\u0026#39;)   ç®€å•æ€»ç»“  å…³è”åˆ†æã€æ•°å€¼æ¯”è¾ƒï¼šæ•£ç‚¹å›¾ã€æ›²çº¿å›¾ åˆ†å¸ƒåˆ†æï¼šç°åº¦å›¾ã€å¯†åº¦å›¾ æ¶‰åŠåˆ†ç±»çš„åˆ†æï¼šæŸ±çŠ¶å›¾ã€ç®±å¼å›¾  "
},
{
	"uri": "https://lczen.github.io/en/tags/matplotlib/",
	"title": "matplotlib",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/tags/numpy/",
	"title": "numpy",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/",
	"title": "æ•°æ®åˆ†æ",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/posts/dataanalysis/",
	"title": "æ•°æ®åˆ†æåŒ…",
	"tags": ["numpy"],
	"categories": [],
	"series": [],
	"description": "",
	"content": "%config ZMQInteractiveShell.ast_node_interactivity='all' %pprint numpy ###åˆ‡ç‰‡ç´¢å¼•\n1 2 3 4  a = np.array([[1,2,3], [4,5,6]]) b= np.random.random((2,2)) # astypeåšç±»å‹è½¬æ¢ a.astype(np.float)   æ•°ç»„ç´¢å¼•ä¸åˆ‡ç‰‡/Array indexing and slicing\na[:, 1:3] array([[[4, 5, 6]], [[2, 4, 5]]]) a \u0026gt; 2 array([[[False, False, True], [ True, True, True]], [[False, False, True], [False, True, True]]]) a[a\u0026gt;2] #æ ¹æ®æ¡ä»¶é€‰æ‹© array([3, 4, 5, 6, 3, 4, 5])#ç­›é€‰å‡ºçš„æ˜¯ä¸€ç»´çš„ç»“æœ a[a\u0026gt;2] = 0 #æ ¹æ®æ¡ä»¶é€‰æ‹©æ•°æ®è¿›è¡Œèµ‹å€¼ æ•°å­¦è¿ç®— ä¸åŒç»´åº¦åŠ æ³•\na a.shape array([[[1, 2, 0], [0, 0, 0]], [[1, 2, 0], [2, 0, 0]]]) c = np.random.random((2,3)) c c.shape array([[0.57104354, 0.82210532, 0.99865874], [0.63489647, 0.51821603, 0.1772419 ]]) (2, 3) a + c array([[[1.57104354, 2.82210532, 0.99865874], [0.63489647, 0.51821603, 0.1772419 ]], [[1.57104354, 2.82210532, 0.99865874], [2.63489647, 0.51821603, 0.1772419 ]]]) å¹¿æ’­ç‰¹æ€§/boardcasting 1 2 3  a=np.random.random((8,1,6)) b=np.random.random((1,6,1)) (a+b).shape #(8, 6, 6)   ç»Ÿè®¡æ•°å­¦è¿ç®—(sum,mean) 1 2  a np.sum(a) #å…¨éƒ¨å…ƒç´ æ±‚å’Œ   array([[[0.13169241, 0.12076024, 0.94718171, 0.9868782 , 0.52460178,\n0.7050304 ]],\n[[0.75982848, 0.12849312, 0.99862352, 0.57892246, 0.93388848,\n0.27688479]],\n[[0.84861432, 0.46856831, 0.91133697, 0.43440833, 0.73288593,\n0.55042371]],\n[[0.14429995, 0.43673552, 0.39708228, 0.23377411, 0.81263233,\n0.53145192]],\n[[0.42747949, 0.99082152, 0.09460188, 0.02920687, 0.86489352,\n0.25205818]],\n[[0.15014402, 0.66933541, 0.54412228, 0.80764711, 0.09997845,\n0.73227461]],\n[[0.01941847, 0.97843217, 0.28262159, 0.27665419, 0.8822287 ,\n0.37638411]],\n[[0.35989009, 0.39787517, 0.83485582, 0.60017681, 0.86968622,\n0.18526147]]])\n25.321047407612056\n1  np.sum(a, axis=0) #æŒ‰ç…§ç¬¬1ä¸ªç»´åº¦æ±‡æ€»æ±‚å’Œ   array([[2.84136723, 4.19102145, 5.01042605, 3.94766809, 5.72079541,\n3.60976919]])\n1  np.sum(a, axis=2) #æŒ‰ç…§ç¬¬3ä¸ªç»´åº¦æ±‡æ€»æ±‚å’Œ   sumå‡½æ•°axis = 0çš„æ—¶å€™ï¼š\nsumå‡½æ•°axis = 1çš„æ—¶å€™ï¼š\nsumå‡½æ•°axis = 2çš„æ—¶å€™ï¼š\nä¹˜æ³•dot,multiply np.dotæ˜¯ç‚¹ä¹˜(çŸ©é˜µä¹˜æ³•) |A B| . |E F| = |A*E+B*G A*F+B*H| |C D| |G H| |C*E+D*G C*F+D*H| np.multiplyæ˜¯é€å…ƒç´ ä¹˜æ³• |A B| âŠ™ |E F| = |A*E B*F| |C D| |G H| |C*G D*H| è¡Œç»™å€¼æ“ä½œ 1 2 3 4 5  a=np.random.random((8,2)) a predict_mean_ci_low, predict_mean_ci_upp = a.T predict_mean_ci_low predict_mean_ci_upp   array([[0.59479112, 0.11532206], [0.66448315, 0.22538265], [0.1639891 , 0.79296798], [0.15639683, 0.18279829], [0.26906626, 0.94362871], [0.39945426, 0.06276308], [0.47098298, 0.71271548], [0.8769299 , 0.35743786]]) array([0.59479112, 0.66448315, 0.1639891 , 0.15639683, 0.26906626, 0.39945426, 0.47098298, 0.8769299 ]) array([0.11532206, 0.22538265, 0.79296798, 0.18279829, 0.94362871, 0.06276308, 0.71271548, 0.35743786]) Pandasæ•°æ®ç»“æ„Series æ„é€ å’Œåˆå§‹åŒ–Series import pandas as pd **pd.__version__ #æŸ¥çœ‹ç‰ˆæœ¬ï¼Œä¸åŒç‰ˆæœ¬çš„pandasåŠŸèƒ½æœ‰ä¸€äº›å·®å¼‚** s = pd.Series([7, 'Beijing', 2.17, -12344, 'Happy Birthday!']) s 0 7\n1 Beijing\n2 2.17\n3 -12344\n4 Happy Birthday!\ndtype: object\n1 2 3 4 5  s = pd.Series([7, \u0026#39;Beijing\u0026#39;, 2.17, -12344, \u0026#39;Happy Birthday!\u0026#39;]) #æŒ‡å®šindex s = pd.Series([7, \u0026#39;Beijing\u0026#39;, 2.17, -12344, \u0026#39;Happy Birthday!\u0026#39;], index=[\u0026#39;A\u0026#39;, \u0026#39;B\u0026#39;, \u0026#39;C\u0026#39;, \u0026#39;D\u0026#39;, \u0026#39;E\u0026#39;]) s   A 7\nB Beijing\nC 2.17\nD -12344\nE Happy Birthday!\ndtype: object\ndictionaryåˆ›å»ºSeries è¿˜å¯ä»¥ç”¨dictionaryæ¥æ„é€ ä¸€ä¸ªSeriesï¼Œå› ä¸ºSeriesæœ¬æ¥å°±æ˜¯key value pairsã€‚\n1 2 3  cities = {\u0026#39;Beijing\u0026#39;: 55000, \u0026#39;Shanghai\u0026#39;: 60000, \u0026#39;Shenzhen\u0026#39;: 50000, \u0026#39;Hangzhou\u0026#39;: 20000, \u0026#39;Guangzhou\u0026#39;: 25000, \u0026#39;Suzhou\u0026#39;: None} apts = pd.Series(cities, name=\u0026#34;price\u0026#34;) apts   Beijing 55000.0\nShanghai 60000.0\nShenzhen 50000.0\nHangzhou 20000.0\nGuangzhou 25000.0\nSuzhou NaN\nName: price, dtype: float64\nnumpy ndarrayæ„å»ºä¸€ä¸ªSeries 1  s = pd.Series(np.random.randn(5), index=[\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;d\u0026#39;, \u0026#39;e\u0026#39;])   Seriesé€‰æ‹©æ•°æ® 1 2 3 4 5 6 7 8 9 10 11 12 13  apts[1:] #åˆ‡ç‰‡ type(apts[:-1])#åˆ‡ç‰‡\u0026lt;class \u0026#39;pandas.core.series.Series\u0026#39;\u0026gt; **apts[[4,3,1]]** #è¿™ç§å†™æ³•æ˜¯Seriesç‹¬æœ‰è€Œlistä¸å…·å¤‡çš„ apts[1:] + apts[:-1] #æ³¨æ„ï¼Œåœ¨ç›¸åŠ çš„æ—¶å€™ï¼Œå…¶å®æ˜¯indexå¯¹é½çš„æ–¹å¼ç›¸åŠ çš„,å…¶ä¸­ä¸€ä¸ªæ²¡æœ‰ç»“æœæ˜¯NaN apts[\u0026#34;Hangzhou\u0026#34;]#ä¸æ˜¾ç¤ºindexï¼Œåªæ˜¾ç¤ºvalue apts[[\u0026#34;Hangzhou\u0026#34;, \u0026#34;Beijing\u0026#34;, \u0026#34;Shenzhen\u0026#34;]]#æ˜¾ç¤ºindexå’Œvalue \u0026#34;Hangzhou\u0026#34; **in** apts #åˆ¤æ–­æ˜¯å¦æœ‰è¿™ä¸ªindex apts.get(\u0026#34;Chongqing\u0026#34;, 55) #å’Œå­—å…¸ç±»ä¼¼ï¼Œé»˜è®¤å€¼æ”¾åœ¨åé¢ apts[apts \u0026lt; 50000] #æ¡ä»¶é€‰æ‹© apts.median() #ä¸­ä½æ•°ï¼Œç»Ÿè®¡è®¡ç®— less_than_50000 = apts \u0026lt; 50000 less_than_50000 #å®é™…ä¸Šæ‹¿åˆ°çš„æ˜¯ä¸€ä¸ªTrue or Falseçš„series print(apts[less_than_50000])   Serieså…ƒç´ èµ‹å€¼ 1 2  apts[\u0026#39;Shenzhen\u0026#39;] = 55000 apts[apts \u0026lt;= 50000] = 40000#æ¡ä»¶èµ‹å€¼   Seriesæ•°å­¦è¿ç®— 1 2 3 4  apts / 2 #å¹¿æ’­ç‰¹æ€§ apts ** 2 #å¹¿æ’­ç‰¹æ€§ np.square(apts) print(cars + apts * 100) #æ³¨æ„å¹¿æ’­ç‰¹æ€§ä¸indexå¯¹é½æ±‚å’Œ   æ•°æ®ç»“æ„Dataframe åˆ›å»ºä¸€ä¸ªDataFrame dataframeå¯ä»¥ç”±ä¸€ä¸ªdictionaryæ„é€ å¾—åˆ°ã€‚\n1 2 3 4 5  import pandas as pd data = {\u0026#39;city\u0026#39;: [\u0026#39;Beijing\u0026#39;, \u0026#39;Shanghai\u0026#39;, \u0026#39;Guangzhou\u0026#39;, \u0026#39;Shenzhen\u0026#39;, \u0026#39;Hangzhou\u0026#39;, \u0026#39;Chongqing\u0026#39;], \u0026#39;year\u0026#39;: [2016,2017,2016,2017,2016, 2016], \u0026#39;population\u0026#39;: [2100, 2300, 1000, 700, 500, 500]} pd.DataFrame(data)   \tcity\tyear\tpopulation 0\tBeijing\t2016\t2100 1\tShanghai\t2017\t2300 2\tGuangzhou\t2016\t1000 3\tShenzhen\t2017\t700 4\tHangzhou\t2016\t500 5\tChongqing\t2016\t500 columnsçš„åå­—å’Œé¡ºåºå¯ä»¥æŒ‡å®š\n1  pd.DataFrame(data, columns=[\u0026#39;year\u0026#39;, \u0026#39;city\u0026#39;, \u0026#39;population\u0026#39;])   indexä¹Ÿå¯ä»¥æŒ‡å®š\n1 2  frame = pd.DataFrame(data, columns = [\u0026#39;year\u0026#39;, \u0026#39;city\u0026#39;, \u0026#39;population\u0026#39;], index = [\u0026#39;one\u0026#39;, \u0026#39;two\u0026#39;, \u0026#39;three\u0026#39;, \u0026#39;four\u0026#39;, \u0026#39;five\u0026#39;, \u0026#39;six\u0026#39;])   ä¹Ÿå¯ä»¥ä»å‡ ä¸ªSeriesæ„å»ºä¸€ä¸ªDataFrame\n1 2  # indexä¼šå¯¹é½ df = pd.DataFrame({\u0026#34;apts\u0026#34;: apts, \u0026#34;cars\u0026#34;: cars})   ä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ªlist of dictsæ¥æ„å»ºDataFrame\n1 2  data = [{\u0026#34;BOSS\u0026#34;: 999999, \u0026#34;Jason\u0026#34;: 50000, \u0026#34;Han\u0026#34;: 1000}, {\u0026#34;BOSS\u0026#34;: 99999, \u0026#34;Jason\u0026#34;: 8000, \u0026#34;Han\u0026#34;: 200}] pd.DataFrame(data,columns=[\u0026#39;BOSS\u0026#39;,\u0026#39;Han\u0026#39;,\u0026#39;Jason\u0026#39;])   \tBOSS\tHan\tJason 0\t999999\t1000\t50000 1\t99999\t200\t8000 1  pd.DataFrame(data, index=[\u0026#34;salary\u0026#34;, \u0026#34;bonus\u0026#34;])   \tBOSS\tHan\tJason salary\t999999\t1000\t50000 bonus\t99999\t200\t8000 æ ¹æ®columnå–æ•°æ®\n1  df[\u0026#34;apts\u0026#34;]   ç®—æ•°è¿ç®—æ–°å»ºä¸€ä¸ªcolumn\n1  df[\u0026#34;total_cost\u0026#34;] = df[\u0026#34;apts\u0026#34;]*100 + df[\u0026#34;cars\u0026#34;]   apts\tcars\ttotal_cost Beijing\t55000.0\t300000.0\t5800000.0 Chongqing\tNaN\t150000.0\tNaN Guangzhou\t40000.0\t200000.0\t4200000.0 Hangzhou\t40000.0\tNaN\tNaN Shanghai\t60000.0\t400000.0\t6400000.0 Shenzhen\t55000.0\t300000.0\t5800000.0 Suzhou\tNaN\tNaN\tNaN Tianjin\tNaN\t200000.0\tNaN 1 2 3 4 5  # æ³¨æ„ä¸€ä¸‹Seriesä¸DataFrameçš„åŒºåˆ« frame[\u0026#39;city\u0026#39;] #Series type(frame[\u0026#39;city\u0026#39;]) frame[[\u0026#39;city\u0026#39;]] #DataFrame type(frame[[\u0026#39;city\u0026#39;]])   locæ–¹æ³•å¯ä»¥æ‹¿åˆ°è¡Œ\n1 2 3  # loc+indexå–å‡ºè¡Œ frame.loc[\u0026#39;three\u0026#39;] type(frame.loc[\u0026#39;three\u0026#39;])#Series   ilocæ–¹æ³•å¯ä»¥æ‹¿åˆ°è¡Œå’Œåˆ—ï¼ŒæŠŠpandas dataframeå½“åšnumpyçš„ndarrayæ¥æ“ä½œ\n1  frame.head()   \tyear\tcity\tpopulation one\t2016\tBeijing\t2100 two\t2017\tShanghai\t2300 three\t2016\tGuangzhou\t1000 four\t2017\tShenzhen\t700 five\t2016\tHangzhou\t500 1  frame.iloc[1:3, 2:4] #ç±»ä¼¼äºnumpyçš„åˆ‡ç‰‡   \tpopulation two\t2300 three\t1000 DataFrameæ•°æ®é€‰æ‹©ä¸èµ‹å€¼ å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„èµ‹å€¼æ“ä½œéƒ½æ˜¯åœ¨æ•°æ®é€‰æ‹©ä¹‹åè¿›è¡Œèµ‹å€¼çš„ï¼ŒDataFrameçš„æ•°æ®é€‰æ‹©æœ‰å¾ˆå¤šä¸åŒçš„å‡½æ•°ï¼Œç›¸å¯¹æ¯”è¾ƒè‡ªç”±ã€‚ä½†æ˜¯å»ºè®®å¤§å®¶ä½¿ç”¨locå‡½æ•°è¿›è¡Œæ•°æ®é€‰æ‹©ã€‚\nå…·ä½“çš„è¯­æ³•ä¸ºdf.loc[è¡Œæ¡ä»¶,åˆ—æ¡ä»¶]\n1 2 3  frame.loc[\u0026#34;one\u0026#34;,\u0026#34;population\u0026#34;] = 2200 frame.loc[:,\u0026#39;debt\u0026#39;] = 100#ç»™ä¸€æ•´åˆ—èµ‹å€¼ frame.loc[\u0026#39;six\u0026#39;,:] = 0#ç»™ä¸€æ•´è¡Œèµ‹å€¼   æˆ‘ä»¬å¯ä»¥ç»™å®šå¤šä¸ªæ¡ä»¶è¿›è¡Œç»„åˆï¼Œé€‰æ‹©å¯¹åº”çš„æ•°æ®ã€‚æ¯ä¸ªæ¡ä»¶ç”¨å°æ‹¬å·åŒ…è£¹ï¼ŒåŒæ—¶é€šè¿‡\u0026amp;(ä¸) |(æˆ–) ~(é)è¿›è¡Œç»„åˆã€‚\n1 2  frame.loc[(frame[\u0026#39;year\u0026#39;]==2016)\u0026amp;(frame[\u0026#39;city\u0026#39;]!=\u0026#39;Shanghai\u0026#39;)\u0026amp;(frame[\u0026#39;population\u0026#39;]\u0026gt;=1000),:] frame.loc[(frame[\u0026#39;year\u0026#39;]==2016)|(frame[\u0026#39;population\u0026#39;]\u0026gt;=1000),[\u0026#39;year\u0026#39;,\u0026#39;city\u0026#39;,\u0026#39;population\u0026#39;]]   \tyear\tcity\tpopulation\tdebt one\t2016\tBeijing\t2200\t100 three\t2016\tGuangzhou\t1000\t100 year\tcity\tpopulation one\t2016\tBeijing\t2200 two\t2017\tShanghai\t2300 three\t2016\tGuangzhou\t1000 five\t2016\tHangzhou\t500 è¿˜å¯ä»¥ç”¨Seriesæ¥æŒ‡å®šéœ€è¦ä¿®æ”¹çš„indexä»¥åŠç›¸å¯¹åº”çš„valueï¼Œæ²¡æœ‰æŒ‡å®šçš„é»˜è®¤ç”¨NaN.\n1 2  val = pd.Series([100, 200, 300], index=[\u0026#39;two\u0026#39;, \u0026#39;three\u0026#39;, \u0026#39;five\u0026#39;]) frame[\u0026#39;debt\u0026#39;] = val    year city population debt one 2016 Beijing 2200 NaN two 2017 Shanghai 2300 100.0 three 2016 Guangzhou 1000 200.0 four 2017 Shenzhen 700 NaN five 2016 Hangzhou 500 300.0 six 0 0 0 NaN å¦‚æœæˆ‘ä»¬æƒ³è¦çŸ¥é“æœ‰å“ªäº›åˆ—ï¼Œç›´æ¥ç”¨columns\n1 2  print(frame.columns) frame.index   ä¸€ä¸ªDataFrameå°±å’Œä¸€ä¸ªnumpy 2d arrayä¸€æ ·ï¼Œå¯ä»¥è¢«è½¬ç½®\n1 2 3  pop = {\u0026#39;Beijing\u0026#39;: {2016: 2100, 2017:2200}, \u0026#39;Shanghai\u0026#39;: {2015:2400, 2016:2500, 2017:2600}} frame.T   \tone\ttwo\tthree\tfour\tfive\tsix year\t2016\t2017\t2016\t2017\t2016\t0 city\tBeijing\tShanghai\tGuangzhou\tShenzhen\tHangzhou\t0 population\t2200\t2300\t1000\t700\t500\t0 debt\tNaN\t100\t200\tNaN\t300\tNaN csvæ–‡ä»¶è¯»å†™  read_csv to_csv  1 2 3 4 5 6  import pandas as pd pokemon = pd.read_csv(\u0026#34;../data/Pokemon.csv\u0026#34;) pokemon.head(10) #describeå¯ä»¥å¸®æˆ‘ä»¬äº†è§£æ•°æ®çš„ç»Ÿè®¡ç‰¹æ€§ pokemon.describe() pokemon.loc[:50,[\u0026#39;HP\u0026#39;,\u0026#39;Defense\u0026#39;]].to_csv(\u0026#39;../data/pokemon_tmp.csv\u0026#39;)   æ•°æ®ç¼ºå¤± reference\n1 2 3 4  #é€‰æ‹©Type 2ä¸ºç©ºçš„é‚£è¡Œæ•°æ®ï¼ŒæŠŠType 2åˆ—çš„æ•°æ®è®¾ä¸ºType 1 pokemon.loc[pokemon[\u0026#34;Type 2\u0026#34;].isnull(), \u0026#34;Type 2\u0026#34;] = pokemon.loc[pokemon[\u0026#34;Type 2\u0026#34;].isnull(), \u0026#34;Type 1\u0026#34;] print(apts[apts.isnull()]) print(apts[apts.isnull() == False]) #æ ¹æ®æ˜¯å¦ç¼ºå¤±é€‰æ‹©æ•°æ®   ç”¨to_csvæ–¹æ³•å†™å‡ºåˆ°æ–‡ä»¶\n1 2 3  import numpy as np df = pd.DataFrame(np.random.rand(10, 4), columns=list(\u0026#34;abcd\u0026#34;)) df.to_csv(\u0026#34;../data/sample.tsv\u0026#34;, sep=\u0026#34;\\t\u0026#34;)   a\tb\tc\td 0\t0.569415\t0.468089\t0.260840\t0.172120 1\t0.288680\t0.771640\t0.465192\t0.979539 2\t0.095298\t0.385866\t0.983792\t0.412143 3\t0.903898\t0.327998\t0.134250\t0.948132 4\t0.955035\t0.838292\t0.932714\t0.630797 5\t0.210932\t0.428113\t0.937603\t0.650599 6\t0.661533\t0.390347\t0.080175\t0.159178 7\t0.018230\t0.961200\t0.043113\t0.877882 8\t0.381884\t0.314338\t0.273786\t0.200851 9\t0.454861\t0.283102\t0.969393\t0.404643 1  df.add(pd.Series(np.ones(10)) * 10, axis=0)#åŠ æ³•   æ•°æ®åˆ é™¤ DataFrameä¸­çš„æ•°æ®åˆ é™¤ï¼Œå¯ä»¥ç”¨dropå®Œæˆï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼ŒDataFrameçš„å¾ˆå¤šæ“ä½œ(åŒ…æ‹¬drop)éƒ½æœ‰ä¸€ä¸ªinplaceå‚æ•°ï¼Œé»˜è®¤inplace=Falseï¼Œæˆ‘ä»¬ä¼šå¯¹æ•°æ®è¿›è¡Œå˜æ¢(æ¯”å¦‚åˆ é™¤è¡Œåˆ—)ç„¶åä»¥è¿”å›å€¼å½¢æ€è¿”å›ç»“æœï¼Œå¦‚æœinplace=Trueåˆ™ä¼šå°±åœ°å˜æ¢ã€‚\n1 2  frame.drop([\u0026#34;one\u0026#34;, \u0026#34;two\u0026#34;])#åˆ é™¤åˆ—è¡¨ä¸­çš„è¡Œ frame.drop(\u0026#39;debt\u0026#39;, axis=1)#åˆ é™¤åˆ—   pandasä¸‹ åˆ†ç»„ä¸èšåˆ åˆ†ç»„/groupby 1 2 3 4 5 6 7 8 9 10  import pandas as pd import numpy as np %matplotlib inline salaries = pd.DataFrame({ \u0026#39;Name\u0026#39;: [\u0026#39;BOSS\u0026#39;, \u0026#39;Jason\u0026#39;, \u0026#39;Jason\u0026#39;, \u0026#39;Han\u0026#39;, \u0026#39;BOSS\u0026#39;, \u0026#39;BOSS\u0026#39;, \u0026#39;Jason\u0026#39;, \u0026#39;BOSS\u0026#39;], \u0026#39;Year\u0026#39;: [2016,2016,2016,2016,2017,2017,2017,2017], \u0026#39;Salary\u0026#39;: [10000,2000,4000,5000,18000,25000,3000,4000], \u0026#39;Bonus\u0026#39;: [3000,1000,1000,1200,4000,2300,500,1000] }) salaries   \tName\tYear\tSalary\tBonus 0\tBOSS\t2016\t10000\t3000 1\tJason\t2016\t2000\t1000 2\tJason\t2016\t4000\t1000 3\tHan\t2016\t5000\t1200 4\tBOSS\t2017\t18000\t4000 5\tBOSS\t2017\t25000\t2300 6\tJason\t2017\t3000\t500 7\tBOSS\t2017\t4000\t1000 group_by_name = salaries.groupby('Name') èšåˆ/aggregates 1  group_by_name.sum()#æŒ‰ç…§åå­—å–sum   é»˜è®¤ä¼šæ’åºï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä¸æ’åº\n1 2 3  #ä¸¤å½¢å¼ç›¸åŒ salaries.groupby(\u0026#39;Name\u0026#39;, sort=False).sum() group_by_name.aggregate(sum)   group byçš„attributes\n1 2  print(group_by_name.groups) print(len(group_by_name))   {'BOSS': Int64Index([0, 4, 5, 7], dtype='int64'), 'Han': Int64Index([3], dtype='int64'), 'Jason': Int64Index([1, 2, 6], dtype='int64')} 3 å¯ä»¥ç”¨å¤šä¸ªcolumnsåšgroup by\n1 2  group_by_name_year = salaries.groupby([\u0026#39;Name\u0026#39;, \u0026#39;Year\u0026#39;]) group_by_name_year.sum()   size,mean,median\n1 2 3 4  group_by_name_year.size() group_by_name.mean() group_by_name.median() group_by_name.describe()   éå†åˆ†ç»„ 1 2 3 4 5  for name, group in group_by_name: print(name) print(\u0026#34;=====\u0026#34;) print(group) print(\u0026#39;\\n\u0026#39;)   BOSS ===== Name Year Salary Bonus 0 BOSS 2016 10000 3000 4 BOSS 2017 18000 4000 5 BOSS 2017 25000 2300 7 BOSS 2017 4000 1000 Han ===== Name Year Salary Bonus 3 Han 2016 5000 1200 Jason ===== Name Year Salary Bonus 1 Jason 2016 2000 1000 2 Jason 2016 4000 1000 6 Jason 2017 3000 500 é€‰æ‹©ä¸€ä¸ªgroup\n1  group_by_name.get_group(\u0026#34;Jason\u0026#34;)   Name\tYear\tSalary\tBonus 1\tJason\t2016\t2000\t1000 2\tJason\t2016\t4000\t1000 6\tJason\t2017\t3000\t500 aggæ˜¯aggregateçš„aliasï¼Œå¯ä»¥æ›¿ä»£ä½¿ç”¨\n1  group_by_name.agg([np.sum, np.mean, np.std])   Year\tSalary\tBonus sum\tmean\tstd\tsum\tmean\tstd\tsum\tmean\tstd Name\tBOSS\t8067\t2016.750000\t0.50000\t57000\t14250\t9178.779875\t10300\t2575.000000\t1260.621540 Han\t2016\t2016.000000\tNaN\t5000\t5000\tNaN\t1200\t1200.000000\tNaN Jason\t6049\t2016.333333\t0.57735\t9000\t3000\t1000.000000\t2500\t833.333333\t288.675135 å¯¹æ¯ä¸€åˆ—å¯ä»¥é‡‡ç”¨ä¸åŒçš„aggregateæ“ä½œ\n1  group_by_name.agg({\u0026#34;Bonus\u0026#34;: np.sum, \u0026#34;Salary\u0026#34;: np.sum, \u0026#34;Year\u0026#34;: (lambda x: list(x)[0])})   \tBonus\tSalary\tYear Name\tBOSS\t10300\t57000\t2016 Han\t1200\t5000\t2016 Jason\t2500\t9000\t2016 1  group_by_name.describe()   transform vs apply transformä¼šæŠŠgroupä¸­çš„æ¯ä¸€ä¸ªrecordéƒ½æŒ‰ç…§åŒæ ·çš„è§„åˆ™è½¬åŒ–\n1 2 3  nvda = pd.read_csv(\u0026#34;../data/NVDA.csv\u0026#34;, index_col=0, parse_dates=[0]) nvda.index nvda.groupby(nvda.index.year).mean()   transform\n1 2 3  zscore = lambda x:(x-x.mean())/x.std() transformed = nvda.groupby(nvda.index.year).transform(zscore) transformed.head()   ç”¨å¦ä¸€ä¸ªfunction apply ä¹Ÿå¯ä»¥èµ·åˆ°åŒæ ·çš„æ•ˆæœ\n1 2 3 4 5 6  def my_trans(x): return x**2 if x \u0026gt; 1.68 else x nvda.loc[:,\u0026#39;new\u0026#39;] = nvda[\u0026#39;Close\u0026#39;].apply(my_trans) nvda.head() transformed = nvda.groupby(nvda.index.year).apply(zscore) transformed.head()   æˆ‘ä»¬æ¥å°è¯•ä¸€ä¸‹æŠŠè¿™äº›æ•°æ®ç”»å‡ºæ¥\n1 2 3  compare = pd.DataFrame({\u0026#34;Original Adj Close\u0026#34;: nvda[\u0026#34;Adj Close\u0026#34;], \u0026#34;Transormed Adj Close\u0026#34;: transformed[\u0026#34;Adj Close\u0026#34;]}) compare.plot()   ç»™å®šèŒƒå›´\n1 2 3  price_range = lambda x: x.max() - x.min() nvda.groupby(nvda.index.year).transform(price_range).head() nvda.groupby(nvda.index.year).transform(\u0026#34;max\u0026#34;).head()   filter æ¯”å¦‚æˆ‘ä»¬æƒ³è¦æ‰¾å‡ºç¬¦åˆç»Ÿè®¡ç‰¹å¾çš„ä¸€äº›å†…å®¹ï¼Œå°±åƒSQLé‡Œé¢çš„having, whereè¯­å¥\n1 2 3 4 5 6 7 8 9 10  s = pd.Series([1,1,2,2,2,3,4,4,5]) s s.groupby(s).groups s.groupby(s).filter(lambda x: x.sum() \u0026gt; 4)#æ¯ä¸ªç±»åˆ«æ€»å’Œå¤§äº4 df = pd.DataFrame({\u0026#34;A\u0026#34;: np.arange(8), \u0026#34;B\u0026#34;:list(\u0026#34;aaabbbcc\u0026#34;)}) df df.groupby(\u0026#34;B\u0026#34;).filter(lambda x: len(x) \u0026gt; 2)#åˆ†ç»„ä»¥åï¼Œç»„ä¸­å…ƒç´ è‡³å°‘ä¸¤ä¸ª.è¿™é‡Œxæ˜¯é’ˆå¯¹ç»„ nvda.groupby([nvda.index.year, nvda.index.month]).filter(lambda x: x[\u0026#34;Adj Close\u0026#34;].mean() \u0026gt; 50).head() nvda.groupby([nvda.index.year, nvda.index.month,nvda.index.day]).filter(lambda x: x[\u0026#34;Adj Close\u0026#34;]\u0026gt;100).head()   å°ç»“ Group by: split-apply-combine\n é¦–å…ˆç¬¬ä¸€æ­¥æ˜¯åˆ†ç¦»æ•°æ®splitï¼ŒæŒ‰ç…§ä¸€å®šçš„è§„åˆ™æŠŠæ•°æ®åˆ†æˆå‡ ç±»ã€‚ ç¬¬äºŒæ­¥æ˜¯å¯¹æ¯ä¸€éƒ¨åˆ†æ•°æ®éƒ½åšä¸€å®šçš„æ“ä½œï¼Œè¿™ä¸ªæ“ä½œå¯ä»¥æ˜¯æ±‡æ€»æ“ä½œaggregateï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå˜æ¢transformï¼Œä¹Ÿå¯ä»¥æ˜¯è¿‡æ»¤æ•°æ®filterã€‚ æœ€åä¸€æ­¥å°±æ˜¯æŠŠå¤„ç†è¿‡çš„æ•°æ®å†åˆæˆä¸€å¼ DataFrameã€‚  å¤šè¡¨åˆå¹¶ä¸æ‹¼æ¥  concat append merge join  1 2 3 4 5 6 7 8 9 10 11  df1 = pd.DataFrame({\u0026#39;apts\u0026#39;: [55000, 60000], \u0026#39;cars\u0026#39;: [200000, 300000],}, index = [\u0026#39;Shanghai\u0026#39;, \u0026#39;Beijing\u0026#39;] ) df2 = pd.DataFrame({\u0026#39;cars\u0026#39;: [150000, 120000], \u0026#39;apts\u0026#39;: [25000, 20000], }, index = [\u0026#39;Hangzhou\u0026#39;, \u0026#39;Nanjing\u0026#39;]) df3 = pd.DataFrame({\u0026#39;apts\u0026#39;: [30000, 10000], \u0026#39;cars\u0026#39;: [180000, 100000],\u0026#39;mar\u0026#39;: [180000, 100000]}, index = [\u0026#39;Guangzhou\u0026#39;, \u0026#39;Chongqing\u0026#39;])   concat 1 2 3 4  import warnings warnings.filterwarnings(\u0026#39;ignore\u0026#39;) frames = [df1, df2, df3] result = pd.concat([df1,df2,df3])   åœ¨concatçš„æ—¶å€™å¯ä»¥æŒ‡å®škeysï¼Œè¿™æ ·å¯ä»¥ç»™æ¯ä¸€ä¸ªéƒ¨åˆ†åŠ ä¸Šä¸€ä¸ªKeyã€‚\nä»¥ä¸‹çš„ä¾‹å­å°±æ„é€ äº†ä¸€ä¸ªhierarchical indexã€‚\n1 2  result2 = pd.concat(frames, keys=[\u0026#39;x\u0026#39;, \u0026#39;y\u0026#39;, \u0026#39;z\u0026#39;], sort=False) print(result2)    apts cars mar x Shanghai 55000 200000 NaN Beijing 60000 300000 NaN y Hangzhou 25000 150000 NaN Najing 20000 120000 NaN z Guangzhou 30000 180000 180000.0 Chongqing 10000 100000 100000.0 é€‰æ‹©æ•°æ®\n1  result2.loc[\u0026#34;y\u0026#34;,\u0026#34;apts\u0026#34;]   1 2 3  df4 = pd.DataFrame({\u0026#39;salaries\u0026#39;: [10000, 30000, 30000, 20000, 15000]}, index = [\u0026#39;Suzhou\u0026#39;, \u0026#39;Beijing\u0026#39;, \u0026#39;Shanghai\u0026#39;, \u0026#39;Guangzhou\u0026#39;, \u0026#39;Tianjin\u0026#39;]) result3 = pd.concat([result, df4], axis=1, sort=False)   ç”¨innerå¯ä»¥å»æ‰NaN,ä¹Ÿå°±æ˜¯è¯´å¦‚æœå‡ºç°äº†ä¸åŒ¹é…çš„è¡Œå°±ä¼šè¢«å¿½ç•¥\n1  result3 = pd.concat([result, df4], axis=1, join=\u0026#39;inner\u0026#39;)   ç”¨appendæ¥åšconcat\n1 2  print(df1.append(df2, sort=False)) df1.join   Serieså’ŒDataFrameè¿˜å¯ä»¥è¢«ä¸€èµ·concatenateï¼Œè¿™æ—¶å€™Seriesä¼šå…ˆè¢«è½¬æˆDataFrameç„¶ååšJoinï¼Œå› ä¸ºSeriesæœ¬æ¥å°±æ˜¯ä¸€ä¸ªåªæœ‰ä¸€ç»´çš„DataFrameå¯¹å§ã€‚\n1 2 3 4  s1 = pd.Series([60, 50], index=[\u0026#39;Shanghai\u0026#39;, \u0026#39;Beijing\u0026#39;], name=\u0026#39;meal\u0026#39;) print(s1) print(df1) print(pd.concat([df1, s1], axis=1))   Shanghai 60 Beijing 50 Name: meal, dtype: int64 apts cars Shanghai 55000 200000 Beijing 60000 300000 apts cars meal Shanghai 55000 200000 60 Beijing 60000 300000 50 å¦‚ä½•appendä¸€ä¸ªrowåˆ°DataFrameé‡Œã€‚\n1 2 3  s2 = pd.Series([18000, 12000], index=[\u0026#39;apts\u0026#39;, \u0026#39;cars\u0026#39;], name=\u0026#39;Xiamen\u0026#39;) #æ³¨æ„è¿™é‡Œçš„nameæ˜¯å¿…é¡»è¦æœ‰çš„ï¼Œå› ä¸ºè¦ç”¨ä½œIndexã€‚ print(s2) print(df1.append(s2))   apts 18000 cars 12000 Name: Xiamen, dtype: int64 apts cars Shanghai 55000 200000 Beijing 60000 300000 Xiamen 18000 12000 Merge(Join) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  df1 = pd.DataFrame({\u0026#39;apts\u0026#39;: [55000, 60000, 58000], \u0026#39;cars\u0026#39;: [200000, 300000,250000], \u0026#39;city\u0026#39;: [\u0026#39;Shanghai\u0026#39;, \u0026#39;Beijing\u0026#39;,\u0026#39;Shenzhen\u0026#39;]}) df4 = pd.DataFrame({\u0026#39;salaries\u0026#39;: [10000, 30000, 30000, 20000, 15000], \u0026#39;city\u0026#39;: [\u0026#39;Suzhou\u0026#39;, \u0026#39;Beijing\u0026#39;, \u0026#39;Shanghai\u0026#39;, \u0026#39;Guangzhou\u0026#39;, \u0026#39;Tianjin\u0026#39;]}) df1 df4 result = pd.merge(df1, df4, on=\u0026#39;city\u0026#39;) result result = pd.merge(df1, df4) result result = pd.merge(df1, df4, on=\u0026#39;city\u0026#39;, how=\u0026#39;outer\u0026#39;) result result = pd.merge(df1, df4, on=\u0026#39;city\u0026#39;, how=\u0026#39;right\u0026#39;) result result = pd.merge(df1, df4, on=\u0026#39;city\u0026#39;, how=\u0026#39;left\u0026#39;) result   å¦‚æœè¦ç”¨concatåšåŒæ ·çš„äº‹æƒ…\n1  pd.concat([df1.set_index(\u0026#34;city\u0026#34;), df4.set_index(\u0026#39;city\u0026#39;)], sort=False, axis=1, join=\u0026#34;inner\u0026#34;)   lianjia projects è½½å…¥æ•°æ® 1 2 3  import pandas as pd lj_data = pd.read_csv(\u0026#39;../data/LJdata.csv\u0026#39;) lj_data.columns   å¤§å®¶è§„èŒƒä¸€ç‚¹ï¼Œç”¨è‹±æ–‡çš„column nameï¼Œè¿™æ ·å…å»äº†åç»­çš„ä¸€äº›é—®é¢˜(ä¸»è¦æ˜¯ç¼–ç é—®é¢˜)\n1  lj_data.columns = [\u0026#39;district\u0026#39;, \u0026#39;address\u0026#39;, \u0026#39;title\u0026#39;, \u0026#39;house_type\u0026#39;, \u0026#39;area\u0026#39;, \u0026#39;price\u0026#39;, \u0026#39;floor\u0026#39;, \u0026#39;build_time\u0026#39;, \u0026#39;direction\u0026#39;, \u0026#39;update_time\u0026#39;, \u0026#39;view_num\u0026#39;, \u0026#39;extra_info\u0026#39;, \u0026#39;link\u0026#39;]   æŸ¥çœ‹æ•°æ®çš„å½¢çŠ¶å’Œä¿¡æ¯ info/describe/shape\n1 2 3  lj_data.shape lj_data.info()#æŸ¥çœ‹æ˜¯å¦æœ‰ç©ºæ•°æ®ï¼Œisnull lj_data.describe(include=\u0026#39;all\u0026#39;)#all   æ‰¾åˆ°æœ€è¿‘æ›´æ–°ä¿¡æ¯çš„20å¥—æˆ¿å­ 1  lj_data.sort_values(by=\u0026#39;update_time\u0026#39;).tail(20)   å¹³å‡çœ‹æˆ¿äººæ•° 1 2  lj_data[\u0026#39;view_num\u0026#39;].mean() lj_data[\u0026#39;view_num\u0026#39;].median()#ä¸­ä½æ•°   æˆ¿é¾„æœ€å°çš„20å¥—æˆ¿å­çš„å¹³å‡çœ‹æˆ¿äººæ•°ã€å¹³å‡é¢ç§¯ 1 2 3 4 5 6 7 8 9  import numpy as np def get_age(x): try: return 2019-int(x[:4]) except: return np.NaN lj_data.loc[:,\u0026#39;age\u0026#39;] = lj_data[\u0026#39;build_time\u0026#39;].apply(get_age) lj_data.loc[:,\u0026#39;house_area\u0026#39;] = lj_data[\u0026#39;area\u0026#39;].apply(lambda x:int(x[:-2])) lj_data.nsmallest(columns=\u0026#39;age\u0026#39;, n=20)[[\u0026#39;view_num\u0026#39;, \u0026#39;house_area\u0026#39;]].mean()   æˆ¿å­ä»·æ ¼çš„åˆ†å¸ƒ(å¹³å‡ï¼Œæ–¹å·®ï¼Œä¸­ä½æ•°) 1  lj_data[\u0026#39;price\u0026#39;].describe()   æœ€å—æ¬¢è¿çš„æœå‘(å¹³å‡çœ‹æˆ¿äººæ•°) 1 2  tmp = lj_data.loc[:,[\u0026#39;direction\u0026#39;,\u0026#39;view_num\u0026#39;]].groupby(\u0026#39;direction\u0026#39;).agg(\u0026#39;mean\u0026#39;) tmp.reset_index().sort_values(by=\u0026#39;view_num\u0026#39;, ascending=False).head(1)   æˆ¿å‹æ•°é‡åˆ†å¸ƒ 1 2 3  lj_data[\u0026#39;house_type\u0026#39;].value_counts() %matplotlib inline lj_data[\u0026#39;house_type\u0026#39;].value_counts().plot(kind=\u0026#39;bar\u0026#39;)   æœ€å—æ¬¢è¿çš„æˆ¿å‹ 1 2  tmp = lj_data.loc[:,[\u0026#39;house_type\u0026#39;,\u0026#39;view_num\u0026#39;]].groupby(\u0026#39;house_type\u0026#39;).agg(\u0026#39;mean\u0026#39;) tmp.reset_index().sort_values(by=\u0026#39;view_num\u0026#39;, ascending=False).head(1)   æˆ¿å­çš„å¹³å‡ç§Ÿæˆ¿ä»·æ ¼(æŒ‰å¹³ç±³ç®—) 1 2  lj_data.loc[:,\u0026#39;price_per_m2\u0026#39;] = lj_data[\u0026#39;price\u0026#39;]/lj_data[\u0026#39;house_area\u0026#39;] lj_data.price_per_m2.mean()   æœ€å—å…³æ³¨çš„å°åŒº 1 2  tmp = lj_data.loc[:,[\u0026#39;address\u0026#39;,\u0026#39;view_num\u0026#39;]].groupby(\u0026#39;address\u0026#39;).agg(\u0026#39;sum\u0026#39;) tmp.reset_index().sort_values(by=\u0026#39;view_num\u0026#39;, ascending=False).head(1)   å‡ºç§Ÿæˆ¿æºæœ€å¤šçš„å°åŒº 1  lj_data[\u0026#39;address\u0026#39;].value_counts().head(1)   é›†ä¸­ä¾›æš–å’Œéé›†ä¸­ä¾›æš–çš„æœ‰å¤šå°‘å®¶ï¼Œå¹³å‡ä»·æ ¼æ˜¯å¤šå°‘ 1 2  lj_data.loc[:,\u0026#39;center_heating\u0026#39;] = lj_data[\u0026#39;extra_info\u0026#39;].apply(lambda x:\u0026#39;é›†ä¸­ä¾›æš–\u0026#39; in x) lj_data.loc[:,[\u0026#39;price\u0026#39;,\u0026#39;center_heating\u0026#39;]].groupby(\u0026#39;center_heating\u0026#39;).agg(\u0026#39;mean\u0026#39;)   ä¸åŒæˆ¿å‹çš„å¹³å‡/æœ€å¤§/æœ€å°é¢ç§¯ 1  lj_data.loc[:,[\u0026#39;price\u0026#39;,\u0026#39;house_type\u0026#39;]].groupby(\u0026#39;house_type\u0026#39;).agg([\u0026#39;mean\u0026#39;,\u0026#39;max\u0026#39;,\u0026#39;min\u0026#39;])   å“ªä¸ªåœ°é“å£é™„è¿‘çš„æˆ¿å­æœ€å¤š 1 2 3 4 5 6 7 8 9  import re def get_subway_info(string, pattern, n): result = re.search(pattern, string) if result: return result.group(n) return \u0026#39;\u0026#39; pattern = \u0026#39;è·ç¦»(.+çº¿(\\(.*?æ®µ\\))?)(.+ç«™)\u0026#39; lj_data.loc[:,\u0026#39;subway_station\u0026#39;] = lj_data[\u0026#39;extra_info\u0026#39;].apply(lambda x:get_subway_info(x, pattern, 3)) lj_data[\u0026#39;subway_station\u0026#39;].value_counts()   åœ°é“é™„è¿‘çš„æˆ¿å­å¹³å‡ä»·æ ¼ æ¯” éåœ°é“çš„é«˜å¤šå°‘ 1 2  lj_data.loc[:,\u0026#39;near_subway\u0026#39;] = lj_data[\u0026#39;subway_station\u0026#39;].apply(lambda x:len(x)\u0026gt;2) lj_data[[\u0026#39;price\u0026#39;,\u0026#39;near_subway\u0026#39;]].groupby(\u0026#39;near_subway\u0026#39;).agg(\u0026#39;mean\u0026#39;)   åœ°é“é™„è¿‘çš„æˆ¿æºç¦»åœ°é“å¹³å‡è·ç¦» 1 2 3  pattern = \u0026#39;(\\d+)ç±³\u0026#39; lj_data.loc[:,\u0026#39;subway_distance\u0026#39;] = lj_data[\u0026#39;extra_info\u0026#39;].apply(lambda x: get_subway_info(x, pattern, 1)) lj_data.loc[lj_data.near_subway==True,\u0026#39;subway_distance\u0026#39;].astype(int).mean()   æœ€å¤šçš„åœ¨ç§Ÿæ¥¼å±‚ 1  lj_data[\u0026#39;floor\u0026#39;].apply(lambda x:x[:3]).value_counts()   ç›´æ¥çœ‹æˆ¿çš„æˆ¿å­æ¯”ä¾‹ 1 2  lj_data.loc[:,\u0026#39;convenient\u0026#39;] = lj_data[\u0026#39;extra_info\u0026#39;].apply(lambda x:\u0026#39;éšæ—¶çœ‹æˆ¿\u0026#39; in x) lj_data[\u0026#39;convenient\u0026#39;].value_counts(normalize=True)   "
},
{
	"uri": "https://lczen.github.io/en/tags/python%E7%BB%83%E4%B9%A0%E9%A2%98/",
	"title": "pythonç»ƒä¹ é¢˜",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/posts/pythonpractice2/",
	"title": "pythonç»ƒä¹ é¢˜2",
	"tags": ["pythonç»ƒä¹ é¢˜"],
	"categories": [],
	"series": [],
	"description": "",
	"content": "1 2 3 4 5 6  def test(got, expected):#æµ‹è¯•å‡½æ•° if got == expected: prefix = \u0026#39;æ­£ç¡®!\u0026#39; else: prefix = \u0026#39;é”™è¯¯!\u0026#39; print(\u0026#39;%sä½ çš„ç»“æœ: %såº”è¯¥è¿”å›çš„ç»“æœ: %s\u0026#39; % (prefix, repr(got), repr(expected)))   æ•°æ®ç»“æ„é¢˜ ä¹ é¢˜3 è¾“å…¥ä¸€ä¸ªéç©ºçš„å…ƒç»„åˆ—è¡¨ï¼Œè¿”å›æŒ‰åˆ—è¡¨ä¸­å…ƒç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ä»å°åˆ°å¤§æ’åºåçš„å…ƒç»„åˆ—è¡¨\nä¾‹å¦‚ï¼šè¾“å…¥ï¼š[(1, 7), (1, 3), (3, 4, 5), (2, 2)]åº”è¯¥è¿”å›ï¼š[(2, 2), (1, 3), (3, 4, 5), (1, 7)]\næç¤ºï¼šä½¿ç”¨è‡ªå®šä¹‰é”®=å‡½æ•°ä»æ¯ä¸ªå…ƒç»„æå–æœ€åä¸€ä¸ªå…ƒç´ ã€‚\n1 2 3 4 5 6 7 8 9 10  def last(a): return a[-1] def sort_last(tuples): # +++your code here+++ # LAB(begin solution) return sorted(tuples, key=last) return sorted(tuples, key=lambda d: d[-1]) # å¯è¿è¡Œä»£ç è‡ªæµ‹ test(sort_last([(1, 3), (3, 2), (2, 1)]),[(2, 1), (3, 2), (1, 3)])   ä¹ é¢˜4 è¾“å…¥ä¸€ä¸ªæ•°å­—åˆ—è¡¨ï¼Œå°†æ‰€æœ‰ç›¸é‚»ä¸”ç›¸åŒçš„å…ƒç´ å»é‡ä¿ç•™ä¸€ä¸ªå…ƒç´ åè¿”å›\nä¾‹å¦‚ï¼šè¾“å…¥[1, 2, 2, 3] è¿”å› [1, 2, 3]ï¼›è¾“å…¥[1, 1, 2, 2, 3, 3, 3] è¿”å› [1, 2, 3]\næ–°å»ºä¸€ä¸ªåˆ—è¡¨æˆ–è€…ä¿®æ”¹åŸæ¥çš„åˆ—è¡¨è¿”å›å‡å¯ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12  def remove_adjacent(nums): # +++your code here+++ # LAB(begin solution) result = [] for num in nums: if len(result) == 0 or num != result[-1]: result.append(num) return result # å¯è¿è¡Œä»£ç è‡ªæµ‹ test(remove_adjacent([1, 2, 2, 3]), [1, 2, 3]) test(remove_adjacent([2, 2, 3, 3, 3]), [2, 3]) test(remove_adjacent([]), [])   ä¹ é¢˜5 ä¹ é¢˜5 ç»™å®šä¸¤ä¸ªæŒ‰é€’å¢é¡ºåºæ’åºçš„åˆ—è¡¨,åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªåˆå¹¶çš„æŒ‰æ’åºæ’åˆ—çš„æ‰€æœ‰å…ƒç´ çš„åˆ—è¡¨ã€‚\nä¾‹å¦‚è¾“å…¥ [\u0026lsquo;aa\u0026rsquo;, \u0026lsquo;xx\u0026rsquo;, \u0026lsquo;zz\u0026rsquo;], [\u0026lsquo;bb\u0026rsquo;, \u0026lsquo;cc\u0026rsquo;]ï¼Œåº”è¯¥è¿”å›[\u0026lsquo;aa\u0026rsquo;, \u0026lsquo;bb\u0026rsquo;, \u0026lsquo;cc\u0026rsquo;, \u0026lsquo;xx\u0026rsquo;, \u0026lsquo;zz\u0026rsquo;]\nå¸Œæœ›ä½ æä¾›çš„è§£å†³æ–¹æ¡ˆåœ¨â€œçº¿æ€§â€æ—¶é—´å†…å·¥ä½œï¼Œä½¿ä¸¤ä¸ªåˆ—è¡¨éƒ½å¯ä»¥ä¸€æ¬¡å®Œæˆã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  def linear_merge(list1, list2): # +++your code here+++ # LAB(begin solution) result = [] # Look at the two lists so long as both are non-empty. # Take whichever element [0] is smaller. while len(list1) and len(list2): if list1[0] \u0026lt; list2[0]: result.append(list1.pop(0)) else: result.append(list2.pop(0)) # Now tack on what\u0026#39;s left result.extend(list1) result.extend(list2) return result   ä¹ é¢˜5 è€ƒè™‘æŠŠä¸€ä¸ªå­—ç¬¦ä¸²æ‹†åˆ†æˆä¸¤ä¸ªç­‰åˆ†\n 1.å¦‚æœå­—ç¬¦ä¸²é•¿åº¦æ˜¯å¶æ•°ï¼Œå‰ä¸€åŠå’Œåä¸€åŠçš„é•¿åº¦æ˜¯ç›¸åŒçš„ 2.å¦‚æœå­—ç¬¦ä¸²é•¿åº¦æ˜¯å¥‡æ•°ï¼Œåˆ™å¤šå‡ºçš„ä¸€ä¸ªå­—ç¬¦åŠ åˆ°å‰ä¸€åŠï¼Œå¦‚ï¼š\u0026lsquo;abcde\u0026rsquo;ï¼Œå‰ä¸€åŠæ˜¯'abc\u0026rsquo;ï¼Œåä¸€åŠæ˜¯'de\u0026rsquo; 3.è¾“å…¥ä¸¤ä¸ªå­—ç¬¦ä¸², a å’Œ b,æŒ‰ä»¥ä¸‹æ ¼å¼è¿”å›ç»“æœ  a-front + b-front + a-back + b-back    1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  def front_back(a, b): # +++your code here+++ # LAB(begin solution) # Figure out the middle position of each string. a_middle = len(a) // 2 b_middle = len(b) // 2 if len(a) % 2 == 1: # add 1 if length is odd a_middle = a_middle + 1 if len(b) % 2 == 1: b_middle = b_middle + 1 return a[:a_middle] + b[:b_middle] + a[a_middle:] + b[b_middle:] # å¯è¿è¡Œä»£ç è‡ªæµ‹ test(front_back(\u0026#39;abcd\u0026#39;, \u0026#39;xy\u0026#39;), \u0026#39;abxcdy\u0026#39;) test(front_back(\u0026#39;abcde\u0026#39;, \u0026#39;xyz\u0026#39;), \u0026#39;abcxydez\u0026#39;) test(front_back(\u0026#39;Kitten\u0026#39;, \u0026#39;Donut\u0026#39;), \u0026#39;KitDontenut\u0026#39;)   ç»¼åˆç»ƒä¹ é¢˜ ç¼–å†™ç¨‹åºå®Œæˆä»¥ä¸‹ä»»åŠ¡ï¼š\nè¯»å–æŒ‡å®šçš„æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨split()å‡½æ•°ä»¥ç©ºç™½ä¸ºå­—ç¬¦ä¸²åˆ†éš”å¾—åˆ°æ–‡ä»¶ä¸­æ‰€æœ‰çš„å•è¯ã€‚\nå®Œæˆä¸€ä¸ªåä¸ºmimic_dictçš„å‡½æ•°ï¼š\n ä»¥å‡ºç°åœ¨æ–‡ä»¶ä¸­çš„å•è¯(å…¨éƒ½å°å†™åŒ–)ä¸ºé”®(key)ï¼Œæ–‡ä»¶ä¸­æ‰€æœ‰ç´§è·Ÿåœ¨å•è¯åé¢çš„ä¸€ä¸ªå•è¯ç»„æˆçš„åˆ—è¡¨ä¸ºå€¼(value)ã€‚å•è¯åˆ—è¡¨å¯ä»¥æ˜¯ä»»æ„é¡ºåºçš„ï¼Œä¹Ÿå¯ä»¥åŒ…å«é‡å¤çš„å€¼ã€‚\nä¾‹å¦‚ï¼Œé”®â€œandâ€å¯èƒ½æœ‰åˆ—è¡¨[\u0026ldquo;then\u0026rdquo;, \u0026ldquo;best\u0026rdquo;, \u0026ldquo;then\u0026rdquo;, \u0026ldquo;after\u0026rdquo;, \u0026hellip;]ï¼Œæ­¤åˆ—è¡¨åŒ…æ‹¬äº†æ‰€æœ‰çš„æ–‡ä»¶ä¸­åœ¨'and'åé¢çš„å•è¯ã€‚  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33  def mimic_dict(filename): \u0026#34;\u0026#34;\u0026#34;Returns mimic dict mapping each word to list of words which follow it.\u0026#34;\u0026#34;\u0026#34; # +++your code here+++ # LAB(begin solution) mimic_dict = {} f = open(filename, \u0026#39;r\u0026#39;, encoding=\u0026#39;utf-8\u0026#39;) text = f.read() f.close() words = text.split() prev = \u0026#39;\u0026#39; for word in words: if not prev in mimic_dict: mimic_dict[prev] = [word] else: mimic_dict[prev].append(word) # Could write as: mimic_dict[prev] = mimic_dict.get(prev, []) + [word] # It\u0026#39;s one line, but not totally satisfying. prev = word return mimic_dict def print_mimic(mimic_dict, word): \u0026#34;\u0026#34;\u0026#34;Given mimic dict and start word, prints 200 random words.\u0026#34;\u0026#34;\u0026#34; # +++your code here+++ # LAB(begin solution) for unused_i in range(200): print(word,) nexts = mimic_dict.get(word) # Returns None if not found if not nexts: nexts = mimic_dict[\u0026#39;\u0026#39;] # Fallback to \u0026#39;\u0026#39; if not found word = random.choice(nexts) filename = \u0026#39;../data/sample_text.txt\u0026#39; mimic_dict = mimic_dict(filename) print_mimic(mimic_dict, \u0026#39;\u0026#39;)   "
},
{
	"uri": "https://lczen.github.io/en/categories/%E7%BB%83%E4%B9%A0%E9%A2%98/",
	"title": "ç»ƒä¹ é¢˜",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/posts/pythonpractice3/",
	"title": "pythonç»ƒä¹ é¢˜3",
	"tags": ["pythonç»ƒä¹ é¢˜"],
	"categories": [],
	"series": [],
	"description": "",
	"content": "æ–‡ä»¶è¯»å†™ç»ƒä¹ é¢˜ è¯·å¯¹â€œShanghai.txtâ€æ–‡ä»¶è¿›è¡Œè¯»å–ï¼Œå¹¶ç»Ÿè®¡å…¶ä¸­æ¯ä¸ªå•è¯(å°å†™å)å‡ºç°çš„è¯é¢‘ï¼Œå¹¶ä»¥è¯é¢‘ä»é«˜åˆ°ä½ä»¥å¦‚ä¸‹å½¢å¼å†™å…¥\u0026quot;word_count.txt\u0026quot;ä¸­ï¼š\nå•è¯1:é¢‘æ¬¡ å•è¯2:é¢‘æ¬¡ ... æœ€åè¯·è¾“å‡º10è¡Œç»“æœ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  import re,collections def get_words(in_file, out_file): with open (in_file, encoding=\u0026#39;utf-8\u0026#39;) as f: words_box=[] for line in f: words = line.strip().strip(\u0026#34;,\u0026#34;).strip(\u0026#34;.\u0026#34;).split() words = list(map(lambda x:x.lower(), words)) words_box.extend(words) word_dic = dict(collections.Counter(words_box)) word_count = sorted(word_dic.items(), key=lambda d: d[1], reverse=True) out = open(out_file, \u0026#39;w\u0026#39;) for word in word_count: out.write(word[0]+\u0026#34;:\u0026#34;+str(word[1])+\u0026#34;\\n\u0026#34;) out.close() get_words(\u0026#34;../data/ShangHai.txt\u0026#34;, \u0026#39;../../tmp/word_count.txt\u0026#39;)   æ­£åˆ™è¡¨è¾¾å¼ç»ƒä¹ é¢˜ ç»™å‡ºä¸€æ®µXXéŸ³ä¹ä¸­çš„HTMLå†…å®¹ï¼Œç”¨æ­£åˆ™è¡¨è¾¾å¼å–å‡ºhtmlä¸­æ‰€æœ‰çš„æ­Œæ‰‹åå’Œæ­Œåã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33  # å–å‡ºhtmlä¸­çš„æ­Œæ‰‹åå’Œæ­Œå html = \u0026#39;\u0026#39;\u0026#39;\u0026lt;div id=\u0026#34;songs-list\u0026#34;\u0026gt;\u0026lt;h2 class=\u0026#34;title\u0026#34;\u0026gt;ç»å…¸è€æ­Œ\u0026lt;/h2\u0026gt;\u0026lt;p class=\u0026#34;introduction\u0026#34;\u0026gt;ç»å…¸è€æ­Œåˆ—è¡¨\u0026lt;/p\u0026gt;\u0026lt;ul id=\u0026#34;list\u0026#34;class=\u0026#34;list-group\u0026#34;\u0026gt;\u0026lt;li data-view=\u0026#34;2\u0026#34;\u0026gt;ä¸€è·¯ä¸Šæœ‰ä½ \u0026lt;/li\u0026gt;\u0026lt;li data-view=\u0026#34;7\u0026#34;\u0026gt;\u0026lt;a href=\u0026#34;/2.mp3\u0026#34;singer=\u0026#34;ä»»è´¤é½\u0026#34;\u0026gt;æ²§æµ·ä¸€å£°ç¬‘\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\u0026lt;li data-view=\u0026#34;4\u0026#34;class=\u0026#34;active\u0026#34;\u0026gt;\u0026lt;a href=\u0026#34;/3.mp3\u0026#34;singer=\u0026#34;é½ç§¦\u0026#34;\u0026gt;å¾€äº‹éšé£\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\u0026lt;li data-view=\u0026#34;6\u0026#34;\u0026gt;\u0026lt;a href=\u0026#34;/4.mp3\u0026#34;singer=\u0026#34;beyond\u0026#34;\u0026gt;å…‰è¾‰å²æœˆ\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\u0026lt;li data-view=\u0026#34;5\u0026#34;\u0026gt;\u0026lt;a href=\u0026#34;/5.mp3\u0026#34;singer=\u0026#34;é™ˆæ…§ç³\u0026#34;\u0026gt;è®°äº‹æœ¬\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\u0026lt;li data-view=\u0026#34;5\u0026#34;\u0026gt;\u0026lt;a href=\u0026#34;/6.mp3\u0026#34;singer=\u0026#34;é‚“ä¸½å›\u0026#34;\u0026gt;ä½†æ„¿äººé•¿ä¹…\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\u0026lt;/ul\u0026gt;\u0026lt;/div\u0026gt;\u0026#39;\u0026#39;\u0026#39; import re def get_singer_songs(html_content): # è¯·å®Œæˆé¢˜ç›®è¦æ±‚ # your code here result = re.search(\u0026#39;\u0026lt;li.*?singer=\u0026#34;(.*?)\u0026#34;\u0026gt;(.*?)\u0026lt;/a\u0026gt;\u0026#39;, html_content, re.S) if result: print(result.group(1), result.group(2)) return result r = get_singer_songs(html) print(r)   "
},
{
	"uri": "https://lczen.github.io/en/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/",
	"title": "è¯»ä¹¦ç¬”è®°",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/tags/%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%B2%9F%E9%80%9A/",
	"title": "éæš´åŠ›æ²Ÿé€š",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/posts/readingnotes/",
	"title": "éæš´åŠ›æ²Ÿé€š",
	"tags": ["éæš´åŠ›æ²Ÿé€š"],
	"categories": [],
	"series": [],
	"description": "",
	"content": "æå‡ºè¯·æ±‚ è¯·è®©æˆ‘æˆä¸ºæˆ‘è‡ªå·±ã€‚ 5.å¦‚æœä½ é€‰æ‹©è¿™ä¸€å¥ï¼Œæˆ‘ä»¬æ„è§ä¸ä¸€è‡´ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œâ€œè®©æˆ‘æˆä¸ºæˆ‘è‡ªå·±â€æ˜¯ä¸€ä¸ªæ¨¡ç³Šçš„è¯·æ±‚ã€‚å¦‚æœå‘è¨€è€…è¯´â€œæˆ‘å¸Œæœ›ä½ å‘Šè¯‰æˆ‘ï¼Œå³ä½¿ä½ ä¸å–œæ¬¢æˆ‘åšçš„ä¸€äº›äº‹æƒ…ï¼Œä½ ä»ç„¶ä¼šå’Œæˆ‘åœ¨ä¸€èµ·â€ï¼Œé‚£ä¹ˆï¼Œæˆ‘è®¤ä¸ºå‘è¨€è€…æå‡ºäº†æ˜ç¡®çš„è¯·æ±‚ã€‚\n6.å…³äºæ˜¨å¤©çš„ä¼šè®®ï¼Œè¯·ä¸è¦éšç’ä½ çš„çœ‹æ³•ã€‚ 6.å¦‚æœä½ é€‰æ‹©è¿™ä¸€å¥ï¼Œæˆ‘ä»¬æ„è§ä¸ä¸€è‡´ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œâ€œä¸è¦éšç’â€æ˜¯ä¸€ä¸ªæ¨¡ç³Šçš„è¯·æ±‚ã€‚å¦‚æœå‘è¨€è€…è¯´â€œè¯·å‘Šè¯‰æˆ‘ï¼Œä½ æ€ä¹ˆçœ‹æˆ‘æ˜¨å¤©åœ¨ä¼šè®®ä¸­çš„è¡¨ç°ï¼Œç»™æˆ‘ä¸€äº›å»ºè®®å¥½å—â€ï¼Œé‚£ä¹ˆï¼Œæˆ‘è®¤ä¸ºå‘è¨€è€…æå‡ºäº†æ˜ç¡®çš„è¯·æ±‚ã€‚\né©¬æ­‡å°”â€¢å¢æ£®å ¡. éæš´åŠ›æ²Ÿé€š (Kindle ä½ç½® 953-955).\n7.æˆ‘å¸Œæœ›ä½ èƒ½åœ¨è§„å®šçš„æ—¶é€Ÿå†…é©¾é©¶ã€‚ 8.æˆ‘æƒ³æ›´å¥½åœ°äº†è§£ä½ ã€‚ 8.å¦‚æœä½ é€‰æ‹©è¿™ä¸€å¥ï¼Œæˆ‘ä»¬æ„è§ä¸ä¸€è‡´ã€‚å¦‚æœå‘è¨€è€…è¯´â€œæˆ‘æƒ³å¤šä¸€äº›æ—¶é—´å’Œä½ èŠèŠï¼Œä¸çŸ¥é“ä½ æ˜¯å¦æ„¿æ„æ¯å‘¨å’Œæˆ‘åƒä¸€æ¬¡åˆé¥­â€ï¼Œé‚£ä¹ˆï¼Œæˆ‘è®¤ä¸ºå‘è¨€è€…æå‡ºäº†æ˜ç¡®çš„è¯·æ±‚ã€‚\n9.æˆ‘å¸Œæœ›ä½ å°Šé‡æˆ‘çš„ä¸ªäººéšç§ã€‚ 9.å¦‚æœä½ é€‰æ‹©è¿™ä¸€å¥ï¼Œæˆ‘ä»¬æ„è§ä¸ä¸€è‡´ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œâ€œå°Šé‡æˆ‘çš„ä¸ªäººéšç§â€è¿™ä¸ªçŸ­è¯­å¹¶ä¸èƒ½æ¸…æ¥šåœ°è¡¨è¾¾å‘è¨€è€…çš„è¯·æ±‚ã€‚å¦‚æœå‘è¨€è€…è¯´â€œåœ¨è¿›æˆ‘çš„åŠå…¬å®¤å‰ï¼Œè¯·å…ˆæ•²é—¨å¥½å—â€ï¼Œé‚£ä¹ˆï¼Œæˆ‘è®¤ä¸ºå‘è¨€è€…æå‡ºäº†æ˜ç¡®çš„è¯·æ±‚ã€‚\n10.æˆ‘å¸Œæœ›ä½ ç»å¸¸åšæ™šé¥­ã€‚ 10.å¦‚æœä½ é€‰æ‹©è¿™ä¸€å¥ï¼Œæˆ‘ä»¬æ„è§ä¸ä¸€è‡´ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œâ€œç»å¸¸â€è¿™ä¸ªè¯å¹¶ä¸èƒ½æ¸…æ¥šåœ°è¡¨è¾¾å‘è¨€è€…çš„è¯·æ±‚ã€‚å¦‚æœå‘è¨€è€…è¯´â€œæˆ‘å¸Œæœ›ä½ æ¯å‘¨ä¸€æ™šä¸Šéƒ½å¯ä»¥åšæ™šé¥­â€ï¼Œé‚£ä¹ˆï¼Œæˆ‘è®¤ä¸ºå‘è¨€è€…æå‡ºäº†æ˜ç¡®çš„è¯·æ±‚ã€‚\nå€¾å¬ å€¾å¬ä¹‹å‰çš„å‡†å¤‡ ä¸ºäº†å€¾å¬ä»–äººï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ”¾ä¸‹å·²æœ‰çš„æƒ³æ³•å’Œåˆ¤æ–­ï¼Œå…¨ç¥è´¯æ³¨åœ°ä½“ä¼šå¯¹æ–¹ã€‚ä»¥è‰²åˆ—å“²å­¦å®¶é©¬ä¸Â·å¸ƒä¼¯ï¼ˆMartinBuberï¼‰å¯¹æ­¤ä½œå‡ºäº†æè¿°ï¼šâ€œå°½ç®¡æœ‰ç§ç§ç›¸ä¼¼ä¹‹å¤„ï¼Œç”Ÿæ´»çš„æ¯æ—¶æ¯åˆ»å°±åƒä¸€ä¸ªåˆšå‡ºç”Ÿçš„å©´å„¿ï¼Œä¸€å¼ æ–°çš„é¢å­”ï¼Œæˆ‘ä»¬ä»æœªè§è¿‡ï¼Œä¹Ÿä¸å¯èƒ½å†æ¬¡è§åˆ°ã€‚æˆ‘ä»¬æ— æ³•åœç•™åœ¨è¿‡å»ï¼Œä¹Ÿæ— æ³•é¢„è§æˆ‘ä»¬çš„ååº”ã€‚æˆ‘ä»¬éœ€è¦ä¸å¸¦æˆè§åœ°æ„Ÿå—å˜åŒ–ã€‚æˆ‘ä»¬éœ€è¦ç”¨å…¨èº«å¿ƒå»å€¾å¬ã€‚â€\nå€¾å¬çš„ä½œç”¨\u0026mdash;å·¥å…·äºº\næ„Ÿå—ä¸éœ€è¦ ç”·ï¼šå’Œä½ è¯´è¯æœ‰ä»€ä¹ˆç”¨ï¼Ÿä½ ä»ä¸å¥½å¥½å¬ã€‚\né©¬æ­‡å°”ï¼šâ€œä½ ç°åœ¨å…³å¿ƒçš„æ˜¯ä»–çš„æƒ³æ³•è€Œéä»–çš„éœ€è¦ã€‚æˆ‘æƒ³ï¼Œå¦‚æœæˆ‘ä»¬æ³¨æ„çš„æ˜¯åˆ«äººçš„éœ€è¦è€Œéä»–å¯¹æˆ‘ä»¬çš„çœ‹æ³•ï¼Œæˆ‘ä»¬å°†å‘ç°åˆ«äººå¹¶ä¸é‚£ä¹ˆå¯æ€•ã€‚æˆ‘ä»¬è¿˜ä¼šå‘ç°ï¼Œä»–ä¸é«˜å…´æ˜¯å› ä¸ºä»–çš„éœ€è¦æ²¡æœ‰å¾—åˆ°æ»¡è¶³ã€‚â€\nï¼ˆwrongï¼‰å¥³ï¼šä½ æ„Ÿåˆ°ä¸é«˜å…´ï¼Œæ˜¯å› ä¸ºä½ è§‰å¾—æˆ‘ä¸ç†è§£ä½ ï¼Ÿ\nå¥³ï¼šä½ ä¸é«˜å…´æ˜¯å› ä¸ºä½ éœ€è¦å¾—åˆ°ç†è§£ï¼Ÿ\nç»™ä»–äººåé¦ˆ åœ¨å€¾å¬ä»–äººçš„è§‚å¯Ÿã€æ„Ÿå—ã€éœ€è¦å’Œè¯·æ±‚ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ä¸»åŠ¨è¡¨è¾¾æˆ‘ä»¬çš„ç†è§£ã€‚å¦‚æœæˆ‘ä»¬å·²ç»å‡†ç¡®é¢†ä¼šäº†ä»–ä»¬çš„æ„æ€ï¼Œæˆ‘ä»¬çš„åé¦ˆå°†å¸®åŠ©ä»–ä»¬æ„è¯†åˆ°è¿™ä¸€ç‚¹ã€‚åä¹‹ï¼Œå¦‚æœæˆ‘ä»¬çš„ç†è§£è¿˜ä¸åˆ°ä½ï¼Œä»–ä»¬ä¹Ÿå°±æœ‰æœºä¼šæ¥çº æ­£æˆ‘ä»¬ã€‚æ­¤å¤–ï¼Œè¿™æ ·åšè¿˜æœ‰åŠ©äºäººä»¬ä½“ä¼šè‡ªå·±çš„çŠ¶å†µï¼Œä»è€Œæ·±å…¥äº†è§£è‡ªå·±ã€‚\nä½¿ç”¨ç–‘é—®å¥ç»™äºˆåé¦ˆ éæš´åŠ›æ²Ÿé€šå»ºè®®æˆ‘ä»¬ä½¿ç”¨ç–‘é—®å¥æ¥ç»™äºˆä»–äººåé¦ˆã€‚è¿™å°†ä¾¿äºä»–äººå¯¹æˆ‘ä»¬çš„ç†è§£ä½œå‡ºå¿…è¦çš„è¡¥å……ã€‚é—®é¢˜å¯ä»¥é›†ä¸­äºä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š\n1.ä»–äººçš„è§‚å¯Ÿï¼šâ€œä¸Šå‘¨æˆ‘æœ‰ä¸‰ä¸ªæ™šä¸Šä¸åœ¨å®¶ï¼Œä½ è¯´çš„æ˜¯è¿™å›äº‹ï¼Ÿâ€\n2.ä»–äººçš„æ„Ÿå—åŠéœ€è¦ï¼šâ€œä½ å¾ˆç°å¿ƒï¼Ÿä½ å¸Œæœ›å¾—åˆ°è‚¯å®šæ˜¯å—ï¼Ÿâ€\n3.ä»–äººçš„è¯·æ±‚ï¼šâ€œä½ æ˜¯ä¸æ˜¯æƒ³è¯·æˆ‘å¸®ä½ é¢„è®¢é…’åº—ï¼Ÿâ€\nä»¥ä¸‹æ²¡æœ‰ç”¨å¿ƒä½“ä¼šä»–äººï¼š\n1.â€œä½ è¯´çš„æ˜¯ä»€ä¹ˆäº‹ï¼Ÿâ€ï¼ˆæˆ‘æœ‰äº›å›°æƒ‘ã€‚æˆ‘æƒ³çŸ¥é“ä½ æ˜¯æŒ‡å“ªä»¶äº‹ã€‚å‘Šè¯‰æˆ‘å¥½å—ï¼Ÿ[æ„Ÿå—+éœ€è¦]ï¼‰\n2.â€œä½ ç°åœ¨å¿ƒæƒ…æ€ä¹ˆæ ·ï¼Ÿâ€â€œä¸ºä»€ä¹ˆä½ ä¼šæœ‰é‚£æ ·çš„æ„Ÿè§‰ï¼Ÿâ€\n3.â€œä½ å¸Œæœ›æˆ‘æ€ä¹ˆåšï¼Ÿâ€\nä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœä¸€ä¸ªäººåœ¨è¯´è¯æ—¶æœ‰æ˜æ˜¾çš„æƒ…ç»ªï¼Œä»–ä¸€èˆ¬ä¼šæœŸå¾…å¾—åˆ°ä»–äººçš„åé¦ˆã€‚\nåªè¦æˆ‘ä»¬ä¸“æ³¨äºä»–äººçš„æ„Ÿå—å’Œéœ€è¦ï¼Œæ‰€æœ‰çš„æ‰¹è¯„ã€æ”»å‡»ã€è¾±éª‚æˆ–å˜²è®½å°±ä¼šæ¶ˆå¤±ã€‚æˆ‘ä»¬è¶Šæ˜¯è¿™æ ·åšï¼Œå°±è¶Šèƒ½ä½“ä¼šåˆ°ä¸€ä¸ªç®€å•çš„äº‹å®ï¼šæœ‰æ—¶ï¼Œæˆ‘ä»¬è®¤ä¸ºè‡ªå·±å—åˆ°äº†æŒ‡è´£ï¼Œå®é™…ä¸Šï¼Œé‚£äº›è¯æ˜¯ä»–äººè¡¨è¾¾éœ€è¦å’Œè¯·æ±‚çš„æ–¹å¼ã€‚å¦‚æœæ„è¯†åˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°±ä¸ä¼šè®¤ä¸ºè‡ªå·±çš„äººæ ¼å—åˆ°äº†ä¼¤å®³ã€‚åä¹‹ï¼Œå¦‚æœä¸€å¿ƒåˆ†æè‡ªå·±æˆ–å¯¹æ–¹çš„è¿‡é”™ï¼Œæˆ‘ä»¬å°±ä¼šè®¤ä¸ºè‡ªå·±è¢«è´¬ä½äº†ã€‚\nåé¦ˆæ˜¯æœ‰ä»·å€¼çš„ wrong:\nå¤ªå¤ªï¼šä½ ä»ä¸å¥½å¥½å¬æˆ‘è®²è¯ã€‚\nä¸ˆå¤«ï¼šæˆ‘å“ªé‡Œæ²¡æœ‰ï¼Ÿ\nå¤ªå¤ªï¼šä½ å°±æ˜¯æ²¡æœ‰ï¼\nright:\nå¤ªå¤ªï¼šä½ ä»ä¸å¥½å¥½å¬æˆ‘è®²è¯ã€‚\nä¸ˆå¤«ï¼šå¬èµ·æ¥ï¼Œä½ å¾ˆå¤±æœ›ã€‚ä½ éœ€è¦ä½“è´´ï¼Œæ˜¯å—ï¼Ÿ\nå¤ªå¤ªï¼šæµä¸‹äº†çœ¼æ³ª\nä¿æŒå…³æ³¨ åœ¨è°ˆè¯åˆšå¼€å§‹æ—¶ï¼Œäººä»¬æ‰€è¡¨è¾¾çš„æ„Ÿå—å¾€å¾€æ˜¯å†°å±±ä¹‹ä¸€è§’ï¼Œæœ‰è®¸å¤šç›¸å…³çš„æ„Ÿå—â€”â€”é€šå¸¸æ˜¯æ›´ä¸ºå¼ºçƒˆçš„æƒ…æ„Ÿï¼Œå¹¶æ²¡æœ‰å¾—åˆ°è¡¨è¾¾ã€‚å€¾å¬å°†ä¸ºä»–ä»¬æ¢ç©¶å’Œè¡¨è¾¾å†…å¿ƒæ·±å¤„çš„æ„Ÿå—åˆ›é€ æ¡ä»¶ã€‚åä¹‹ï¼Œå¦‚æœæ€¥äºäº†è§£ä»–ä»¬çš„è¯·æ±‚æˆ–è¡¨è¾¾è‡ªå·±ï¼Œå°±ä¼šå¦¨ç¢è¿™ä¸ªè¿‡ç¨‹ã€‚\nå®ä¾‹ï¼šæ¯äº²ä¸æˆ‘çš„å¯¹è¯\næ¯äº²ï¼šä¸çŸ¥é“æ€ä¹ˆå›äº‹ï¼Œæˆ‘çš„å­©å­ä¸è®ºæˆ‘å’Œä»–è¯´ä»€ä¹ˆï¼Œä»–éƒ½ä¸å¬ã€‚\næˆ‘ï¼ˆè¡¨è¾¾ç†è§£å’Œå¥¹çš„éœ€è¦ï¼‰ï¼šå¬èµ·æ¥ï¼Œä½ å¾ˆä¼¤å¿ƒï¼Œä½ å¸Œæœ›æ‰¾åˆ°å’Œå­©å­æ²Ÿé€šçš„åŠæ³•ã€‚\næ¯äº²ï¼šä¹Ÿè®¸è¿™æ˜¯æˆ‘çš„é”™ã€‚æˆ‘æ€»æ˜¯å†²ä»–å¤§å–Šå¤§å«ã€‚â€\næˆ‘ï¼ˆç»§ç»­å€¾å¬å¹¶ç»™äºˆåé¦ˆï¼‰ï¼šä½ å¸Œæœ›ä½ èƒ½å¤šä½“è´´å­©å­ï¼Œä»¥å‰æ²¡æœ‰åšåˆ°è¿™ä¸€ç‚¹ï¼Œä½ ç°åœ¨æœ‰äº›å†…ç–šï¼Œæ˜¯å—ï¼Ÿ\næ¯äº²ï¼šæˆ‘æ˜¯ä¸€ä¸ªå¤±è´¥çš„æ¯äº²ã€‚\næˆ‘ï¼ˆç†è§£+åé¦ˆï¼‰ï¼šä½ æœ‰äº›ç°å¿ƒï¼Œä½ æƒ³åŠ æ·±ä¸å­©å­çš„æ„Ÿæƒ…è”ç³»ï¼Œæ˜¯å—ï¼Ÿ\næˆ‘ï¼ˆä¸ç¡®å®šå¯¹æ–¹å·²ç»å……åˆ†è¡¨è¾¾ï¼‰ï¼šä½ è¿˜æœ‰ä»€ä¹ˆè¯è¦å‘Šè¯‰æˆ‘å—ï¼Ÿ\nå½“æˆ‘ä»¬ç—›è‹¦å¾—æ— æ³•å€¾å¬ å½“æˆ‘ä»¬ç—›è‹¦å¾—æ— æ³•å€¾å¬ä»–äººæ—¶ï¼Œæˆ‘ä»¬éœ€è¦\nï¼ˆ1ï¼‰ä½“ä¼šè‡ªå·±çš„æ„Ÿå—å’Œéœ€è¦ï¼›\nï¼ˆ2ï¼‰å¤§å£°åœ°æå‡ºè¯·æ±‚ï¼›\nï¼ˆ3ï¼‰æ¢ä¸€ä¸ªç¯å¢ƒã€‚\nå€¾å¬ä»–äººå¹¶ç»™äºˆåé¦ˆ 1.ç”²ï¼šâ€œæˆ‘åˆè¯¯æœºäº†ï¼Œæˆ‘çœŸæ˜¯ä¸ªæ··è›‹ï¼â€ä¹™ï¼šâ€œæ²¡æœ‰äººæ˜¯åå…¨åç¾çš„ï¼Œä¸è¦å¤ªä¸¥æ ¼è¦æ±‚è‡ªå·±ã€‚â€ ä½ å¾ˆå¤±æœ›ï¼Œæ˜¯å› ä¸ºä½ å¸Œæœ›èƒ½å¤Ÿä¿¡èµ–è‡ªå·±ï¼Œæ˜¯å—ï¼Ÿ\n2.ç”²ï¼šâ€œæˆ‘è®¤ä¸ºæˆ‘ä»¬åº”è¯¥æŠŠè¿™äº›éæ³•ç§»æ°‘é£é€å›å›½ã€‚â€ä¹™ï¼šâ€œè¿™å¯¹æ”¹å–„ç¤¾ä¼šæ²»å®‰æœ‰å¸®åŠ©å—ï¼Ÿâ€ ä½ æœ‰äº›æ‹…å¿ƒï¼Œå› ä¸ºä½ å¾ˆçœ‹é‡ç¤¾ä¼šç§©åºå’Œå®‰å…¨ï¼Ÿ\n3.ç”²ï¼šâ€œä½ ä»¥ä¸ºä½ ä»€ä¹ˆéƒ½çŸ¥é“ï¼Ÿï¼â€ ä¹™ï¼šâ€œå¬èµ·æ¥ï¼Œä½ æœ‰äº›ä¸è€çƒ¦ï¼Œå› ä¸ºä½ å¸Œæœ›æ¯ä¸ªäººçš„æ„è§éƒ½èƒ½å¾—åˆ°å€¾å¬ï¼Ÿâ€\n4.ç”²ï¼šâ€œä½ ä»ä¸æŠŠæˆ‘å½“å›äº‹ã€‚è¦ä¸æ˜¯æˆ‘å¸®ä½ ï¼Œä½ è‡ªå·±ä¸€ä¸ªäººèƒ½å¤„ç†è¿™ä¹ˆå¤šäº‹æƒ…å—ï¼Ÿâ€ä¹™ï¼šâ€œä½ æ€ä¹ˆèƒ½è¿™æ ·æƒ³ï¼æˆ‘ä¸€ç›´éƒ½å¾ˆå°Šé‡ä½ ã€‚â€ ä½ å¥½åƒæœ‰äº›å¤±è½ï¼Œä½ å¸Œæœ›å¾—åˆ°æ¬£èµå’Œè‚¯å®šï¼Ÿ\n5.ç”²ï¼šâ€œä½ æ€ä¹ˆå¯ä»¥é‚£æ ·å’Œæˆ‘è¯´è¯ï¼Ÿâ€ä¹™ï¼šâ€œæˆ‘é‚£æ ·è¯´è¯ï¼Œä½ æ˜¯ä¸æ˜¯å¾ˆä¼¤å¿ƒï¼Ÿâ€ å¬èµ·æ¥ï¼Œä½ å¾ˆä¼¤å¿ƒï¼Œå› ä¸ºä½ éœ€è¦ä½“è´´ï¼Ÿ\n6.ç”²ï¼šâ€œæƒ³åˆ°æˆ‘å…ˆç”Ÿï¼Œæˆ‘å°±æœ‰äº›æ°”æ¼ã€‚æˆ‘éœ€è¦ä»–çš„æ—¶å€™ï¼Œä»–æ€»æ˜¯ä¸åœ¨æˆ‘èº«è¾¹ã€‚â€ä¹™ï¼šâ€œä½ æ˜¯å¸Œæœ›ä»–å¤šé™ªé™ªä½ ï¼Ÿâ€ å¬èµ·æ¥ï¼Œä½ æœ‰äº›å¤±è½ï¼Œå› ä¸ºä½ éœ€è¦æ”¯æŒä¸å…³å¿ƒï¼Ÿï¼ˆåé¦ˆï¼šæ„Ÿå—+éœ€è¦ï¼‰\n7.ç”²ï¼šâ€œæˆ‘çœŸå—ä¸äº†æˆ‘è‡ªå·±ï¼Œæˆ‘ç°åœ¨å˜å¾—è¿™ä¹ˆèƒ–ï¼â€ä¹™ï¼šâ€œæ…¢è·‘ä¹Ÿè®¸ä¼šæœ‰å¸®åŠ©ã€‚â€ ä½ å¯¹è‡ªå·±å¥½åƒæœ‰äº›ä¸è€çƒ¦ï¼Œä½ å¾ˆçœ‹\né©¬æ­‡å°”â€¢å¢æ£®å ¡. éæš´åŠ›æ²Ÿé€š (Kindle ä½ç½® 1178-1179).\n8.ç”²ï¼šâ€œæˆ‘ç´§å¼ åœ°ç­¹å¤‡å¥³å„¿çš„å©šç¤¼ã€‚å¯æ˜¯ï¼Œæˆ‘äº²å®¶è€æ˜¯æœ‰æ–°ä¸»æ„ï¼ŒçœŸçƒ¦ï¼â€ä¹™ï¼šâ€œå¬èµ·æ¥ï¼Œä½ æœ‰äº›ç€æ€¥ï¼Œä½ å¸Œæœ›èƒ½å¾—åˆ°ç†è§£ä¸é…åˆï¼Œæ˜¯å—ï¼Ÿâ€ 9.ç”²ï¼šâ€œå¦‚æœäº²æˆšæ¥ä¹‹å‰ä¸å’Œæˆ‘æ‰“æ‹›å‘¼ï¼Œæˆ‘çœŸçš„ä¸æƒ³æ¥å¾…ä»–ä»¬ã€‚â€ä¹™ï¼šâ€œæˆ‘çŸ¥é“è¿™æ˜¯ä»€ä¹ˆæ„Ÿè§‰ã€‚æˆ‘ä¹Ÿè¿™æ ·ã€‚â€ ä½ æ˜¯ä¸æ˜¯æœ‰äº›åŒçƒ¦ï¼Œä½ å¸Œæœ›ä½ çš„éœ€è¦ä¹Ÿèƒ½å¾—åˆ°å°Šé‡ï¼Œæ˜¯å—ï¼Ÿ\n10.ç”²ï¼šâ€œä½ çš„è¡¨ç°è®©æˆ‘å¾ˆå¤±æœ›ã€‚æˆ‘æœ¬æ¥æŒ‡æœ›ä½ ä»¬éƒ¨é—¨ä¸Šä¸ªæœˆçš„äº§å‡ºèƒ½å¤Ÿç¿»ç•ªã€‚â€ä¹™ï¼šâ€œæˆ‘çŸ¥é“ä½ å¾ˆå¤±æœ›ã€‚ä½†ä¸Šä¸ªæœˆæˆ‘ä»¬éƒ¨é—¨è¯·ç—…å‡çš„äººå¾ˆå¤šã€‚â€ ä½ çœ‹æ¥å¾ˆå¤±æœ›ï¼Œä½ çœ‹é‡å·¥ä½œæ•ˆç‡ï¼Œæ˜¯å—ï¼Ÿ\nç¬¬å…«ç« å€¾å¬çš„åŠ›é‡ å€¾å¬ä½¿èº«å¿ƒç—Šæ„ˆ "
},
{
	"uri": "https://lczen.github.io/en/series/",
	"title": "Series",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/posts/websites/",
	"title": "èµ„æºä¸‹è½½",
	"tags": [""],
	"categories": [],
	"series": [""],
	"description": "",
	"content": "ç½‘ç«™æ ‡ç­¾ http://www.yunpangou.com/2154977354010695\n"
},
{
	"uri": "https://lczen.github.io/en/posts/pythonpractice1/",
	"title": "pythnç»ƒä¹ é¢˜1",
	"tags": ["pythonç»ƒä¹ é¢˜"],
	"categories": [],
	"series": [],
	"description": "",
	"content": "ç®€ç­”é¢˜ è¯·è°ˆè°ˆPythonä¸­is å’Œ == çš„åŒºåˆ« isç”¨äºæ¯”è¾ƒä¸¤ä¸ªå˜é‡æ˜¯å¦å¼•ç”¨äº†åŒä¸€ä¸ªå†…å­˜åœ°å€ is è¡¨ç¤ºçš„æ˜¯å¯¹è±¡æ ‡ç¤ºç¬¦ï¼ˆobject identityï¼‰ï¼Œä½œç”¨æ˜¯ç”¨æ¥æ£€æŸ¥å¯¹è±¡çš„æ ‡ç¤ºç¬¦æ˜¯å¦ä¸€è‡´ï¼Œä¹Ÿå°±æ˜¯æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡åœ¨å†…å­˜ä¸­çš„åœ°å€æ˜¯å¦ä¸€æ ·ã€‚\n==ç”¨äºæ¯”è¾ƒä¸¤ä¸ªå˜é‡çš„å€¼æ˜¯å¦ç›¸ç­‰,== è¡¨ç¤ºçš„æ˜¯ç›¸ç­‰ï¼ˆequalityï¼‰ï¼Œæ˜¯ç”¨æ¥æ£€æŸ¥ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚\nis æ˜¯æ£€æŸ¥ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦æŒ‡å‘åŒä¸€å—å†…å­˜ç©ºé—´ï¼Œè€Œ == æ˜¯æ£€æŸ¥ä»–ä»¬çš„å€¼æ˜¯å¦ç›¸ç­‰ã€‚\nå¯ä»¥çœ‹å‡ºï¼Œis æ˜¯æ¯” == æ›´ä¸¥æ ¼çš„æ£€æŸ¥ï¼Œis è¿”å›Trueè¡¨æ˜è¿™ä¸¤ä¸ªå¯¹è±¡æŒ‡å‘åŒä¸€å—å†…å­˜ï¼Œå€¼ä¹Ÿä¸€å®šç›¸åŒã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  # case 1:å¯¹äºæ•°å€¼å‹å’Œå­—ç¬¦ä¸²å‹å¯¹è±¡, pythonçš„å­˜å‚¨æœºåˆ¶ä½¿å¾—aå’Œbå…¶å®æŒ‡å‘åŒä¸€ä¸ªåœ°å€ï¼Œæ‰€ä»¥iså’Œ==éƒ½æ˜¯True a = 5 b = 5 print(\u0026#39;a is b:\u0026#39;, a is b) print(\u0026#39;a == b:\u0026#39;, a == b) print(\u0026#39;id(a):%s\\nid(b):%s\u0026#39;%(id(a),id(b))) print(\u0026#39;\\n\u0026#39;) # case 2:å¯¹äºlistã€tupleç­‰å®¹å™¨ï¼Œaå’Œbè™½ç„¶å†…å®¹ä¸€æ ·ï¼Œä½†æ˜¯æ˜¯ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡å¼•ç”¨ï¼ŒæŒ‡å‘ä¸¤ä¸ªä¸åŒçš„å†…å­˜åœ°å€ a = [1,2,3] b = [1,2,3] print(\u0026#39;a is b:\u0026#39;, a is b) print(\u0026#39;a == b:\u0026#39;, a == b) print(\u0026#39;id(a):%s\\nid(b):%s\u0026#39;%(id(a),id(b))) print(\u0026#39;\\n\u0026#39;) # case 3ï¼šå®é™…ä¸Šå¯ä»¥é€šè¿‡ä¿®æ”¹å¯¹è±¡çš„__eq__æ–¹æ³•æ”¹å˜==çš„æ¯”è¾ƒæ–¹å¼ class Student(): def __init__(self, name, age): self.name = name self.age = age def __eq__(self, other): # return self.name == other.name return False s1 = Student(\u0026#39;David\u0026#39;,18) s2 = Student(\u0026#39;David\u0026#39;,20) # å› ä¸ºageä¸ç›¸åŒï¼Œå¾ˆæ˜¾ç„¶s1å’Œs2æ˜¯ä¸¤ä¸ªä¸åŒå†…å®¹çš„å¯¹è±¡ï¼Œä½†æ˜¯é€šè¿‡æ”¹å†™__eq__å¯ä»¥åªé€šè¿‡æ¯”è¾ƒåå­—æ¥åˆ¤æ–­æ˜¯å¦== print(\u0026#39;s1 is s2:\u0026#39;, a is b) print(\u0026#39;s1 == s2:\u0026#39;, a == b) print(\u0026#39;id(s1):%s\\nid(s2):%s\u0026#39;%(id(s1),id(s2)))   a is b: True\na == b: True\nid(a):1871024336\nid(b):1871024336\na is b: False\na == b: True\nid(a):3008335707656\nid(b):3008335707848\ns1 is s2: False\ns1 == s2: True\nid(s1):3008335765400\nid(s2):3008335765456\nPythonä¸­çš„é«˜é˜¶å‡½æ•°æ˜¯æŒ‡ä»€ä¹ˆï¼Ÿ æç¤ºï¼šæˆ‘ä»¬æŒ‡çš„æ˜¯mapã€reduceã€filterè¿™ç±»å‡½æ•°\né«˜é˜¶å‡½æ•°å±äºå‡½æ•°å¼ç¼–ç¨‹ä¸­çš„ä¸€ä¸ªæ¦‚å¿µã€‚åœ¨pythonä¸­å‡½æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ„å‘³ç€å¯ä»¥ä½¿ç”¨å…¶ä»–å˜é‡å¼•ç”¨å‡½æ•°ã€‚\npythoné‡Œçš„é«˜é˜¶å‡½æ•°ï¼Œå³æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°çš„å‡½æ•°ã€‚\npythonä¸­çš„å¸¸ç”¨çš„é«˜é˜¶å‡½æ•°æœ‰ï¼š\nmap: å¯ç†è§£ä¸ºå¯¹æ•°æ®çš„åšä¸€å¯¹ä¸€æ˜ å°„\nreduce: å¯ç†è§£ä¸ºå¯¹æ•°æ®åšå¤šå¯¹ä¸€çš„æ˜ å°„\nfilter: å¯¹æ•°æ®è¿›è¡Œé€ä¸ªè¿‡æ»¤ï¼Œä»…ä¿ç•™ç¬¦åˆæ¡ä»¶çš„å…ƒç´ \nPythonç±»ä¸­æœ‰å“ªäº›çš„æˆå‘˜ï¼Œå¦‚ä½•åˆ†ç±»ä»–ä»¬ï¼Œä»–ä»¬å„è‡ªåˆæœ‰å“ªäº›ç”¨é€”ï¼Ÿ æç¤ºï¼šæˆå‘˜å˜é‡ï¼Œæˆå‘˜å‡½æ•°\u0026hellip;\næ•°æ®æˆå‘˜\nç±»å˜é‡ : åœ¨ç±»ä¸­ä¸”å‡½æ•°ä½“ä¹‹å¤–,å®ä¾‹ä¹‹é—´å…±äº«\nå®ä¾‹å˜é‡ : å®šä¹‰åœ¨initæ–¹æ³•ä¸­,ä½œç”¨äºå½“å‰å®ä¾‹çš„ç±»\næ–¹æ³•æˆå‘˜\nç±»æ–¹æ³• : ç”¨@classmethodè£…é¥°å™¨,ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºcls\nå®ä¾‹æ–¹æ³• : ç»‘å®šåˆ°å®ä¾‹çš„æ–¹æ³•, ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºself\né™æ€æ–¹æ³• :\n ç”¨@staticmethodè£…é¥°å™¨\næ²¡æœ‰cls selfå‚æ•°é™åˆ¶\nå¯ä»¥ç±»åè®¿é—®,ä¹Ÿå¯ä»¥å®ä¾‹è®¿é—®\n Pythonä¸­åˆ—è¡¨ï¼Œå…ƒç»„çš„ç›¸åŒä¹‹å¤„åŠåŒºåˆ«éƒ½æœ‰å“ªäº›ï¼Ÿé›†åˆä¸å­—å…¸å‘¢ï¼Ÿ åˆ—è¡¨ä¸å…ƒç»„\nç›¸åŒç‚¹ï¼š\nåˆ—è¡¨ä¸å…ƒç»„éƒ½æ˜¯å®¹å™¨ï¼Œæ˜¯ä¸€ç³»åˆ—çš„å¯¹è±¡\néƒ½å¯ä»¥åŒ…å«ä»»æ„ç±»å‹çš„å…ƒç´ ç”šè‡³å¯ä»¥æ˜¯ä¸€ä¸ªåºåˆ—ï¼Œè¿˜å¯ä»¥åŒ…å«å…ƒç´ çš„é¡ºåº\nä¸åŒç‚¹ï¼š\nåˆ—è¡¨æ˜¯å¯å˜çš„ï¼Œè€Œå…ƒç»„æ˜¯ä¸å¯å˜çš„ï¼Œtuple ä¸å¯è¿½åŠ ï¼Œtupleå¤§å°ä¸å¯å†æ”¹å˜ã€‚\nä¸èƒ½æŠŠåˆ—è¡¨å½“åšå­—å…¸çš„å…³é”®å­—ï¼Œå› ä¸ºåªæœ‰ä¸å¯å˜çš„å€¼æ‰èƒ½è¿›è¡Œå“ˆå¸Œè¿ç®—ï¼Œå› æ­¤åªæœ‰ä¸å¯å˜çš„å€¼æ‰èƒ½ä½œä¸ºå…³é”®å­—ã€‚è¦ä½¿ç”¨åˆ—è¡¨åšå…³é”®å­—ï¼Œä½ éœ€è¦æŠŠå®ƒè½¬åŒ–ä¸ºå…ƒç»„\né›†åˆä¸å­—å…¸\nç›¸åŒç‚¹ï¼š\ndictå’Œsetå½“ä¸­éƒ½æ²¡æœ‰é‡å¤çš„keyå€¼ï¼Œä¸”keyå€¼å¿…é¡»æ˜¯ä¸å¯æ”¹å˜çš„å¯¹è±¡ã€‚\nä¸¤è€…å­˜å‚¨çš„å…ƒç´ éƒ½æ˜¯æ— åºçš„ã€‚\nä¸åŒç‚¹ï¼š\nsetæ˜¯ä¸€ç»„keyçš„é›†åˆï¼Œä½†ä¸å­˜å‚¨valueï¼›\ndictä½¿ç”¨é”®-å€¼ï¼ˆkey-valueï¼‰å­˜å‚¨ï¼Œå…·æœ‰æå¿«çš„æŸ¥æ‰¾é€Ÿåº¦ã€‚\nPythonä¸­çš„æ¨¡å—å’ŒåŒ…æ˜¯ä»€ä¹ˆï¼Œå¦‚ä½•è‡ªå®šä¹‰å¹¶ä½¿ç”¨ï¼Ÿ æ¨¡å—\nä¸€ä¸ªæ¨¡å—å°±æ˜¯ä¸€ä¸ª.pyæ–‡ä»¶ï¼Œé‡Œé¢å®šä¹‰äº†å¯ä»¥å¤ç”¨çš„å‡½æ•°å’Œå˜é‡ï¼Œå½“éœ€è¦å¤ç”¨çš„æ—¶å€™å°±importå¯¼å…¥è¿›æ¥è¿›è¡Œå¤ç”¨\nè‡ªå®šä¹‰ï¼šåˆ›å»ºä¸€ä¸ª.pyæ–‡ä»¶å°±æ˜¯æ–‡ä»¶åå°±æ˜¯æ¨¡å—åç§°\nä½¿ç”¨ï¼šä½¿ç”¨importå¯¼å…¥è¿›æ¥ä½¿ç”¨ï¼Œæœç´¢ç›®å½•æœ‰å½“å‰è·¯å¾„ã€Bifä¸­æŸ¥æ‰¾ã€å®‰è£…è·¯å¾„ã€PYTHONPATHç¯å¢ƒå˜é‡è·¯å¾„ï¼Œæ‰¾åˆ°è¯¥æ¨¡å—åˆ™å¯ä»¥å¯¼å…¥å¹¶ä½¿ç”¨æ¨¡å—å.æ–¹æ³•åçš„æ–¹å¼è°ƒç”¨æ¨¡å—ä¸­çš„æ–¹æ³•\nåŒ…\nå°±æ˜¯å¤šä¸ªæ¨¡å—æˆ–ç€å¤šä¸ªåŒ…çš„é›†åˆï¼ˆæ–‡ä»¶å¤¹ï¼‰ï¼Œé¿å…ç”±äºå¼€å‘è€…å¤šè€Œå¯èƒ½é€ æˆçš„æ¨¡å—å‘½åé‡å¤ï¼Œæ‰€ä»¥ç”¨åŒ…æ¥ç»Ÿä¸€ç®¡ç†æ¨¡å—\nè‡ªå®šä¹‰ï¼šç»™å¤šä¸ªæ¨¡å—åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹å†…å¯ä»¥æœ‰æ¨¡å—ï¼ˆ.pyæ–‡ä»¶ï¼‰æˆ–è€…æ–‡ä»¶å¤¹ï¼ˆå­åŒ…ï¼‰ï¼Œå¹¶ä¸”éœ€è¦åŒ…å«ä¸€ä¸ªinit.pyæ–‡ä»¶ï¼Œç”¨æ¥åšä¸€äº›åˆå§‹åŒ–å·¥ä½œå’Œé¿å…è¢«è§£é‡Šå™¨å½“ä½œæ™®é€šå­—ç¬¦ä¸²\nä½¿ç”¨ï¼š\nåŒæ ·æ˜¯ä½¿ç”¨importçš„æ–¹å¼å¯¼å…¥åˆ°å½“å‰è„šæœ¬ä¸­\nä»£ç é¢˜ åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œåˆ¤æ–­å…¶åšä¸ºPythonæ ‡è¯†ç¬¦æ˜¯å¦åˆæ³•ã€‚ å…·ä½“è¦æ±‚ï¼š\n å¦‚æœåˆæ³•åˆ™è¾“å‡º Trueï¼Œå¦åˆ™è¾“å‡º Falseã€‚ å¦‚æœè¯¥å­—ç¬¦ä¸²ä¸Pythonå†…ç½®çš„å…³é”®å­—ï¼Œæˆ–Bifså†²çªï¼Œåˆ™æ‰“å°'conflict\u0026rsquo; æ³¨:Pythonæ ‡è¯†ç¬¦çš„è§„åˆ™ï¼Œå…³é”®å­—å’ŒBifså¯æœç´¢å¾—åˆ°  1 2 3 4 5 6 7 8 9 10 11 12 13 14  import keyword,string def Identifier(s): kw = keyword.kwlist if s in kw or s in dir(__builtins__): print(\u0026#34;conflict\u0026#34;) elif s.isidentifier(): # isidentifier() å¯ç”¨æ¥åˆ¤æ–­å˜é‡åæ˜¯å¦åˆæ³• print(\u0026#34;True\u0026#34;) else: print(\u0026#34;False\u0026#34;) Identifier(\u0026#34;list\u0026#34;) Identifier(\u0026#34;abc#\u0026#34;) Identifier(\u0026#34;1a\u0026#34;)   ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œèƒ½ç”ŸæˆåŒ…å«20ä¸ªéšæœºæ•´æ•°çš„åˆ—è¡¨ï¼Œç„¶åå°†å‰10ä¸ªå…ƒç´ å‡åºæ’åˆ—ï¼Œå10ä¸ªå…ƒç´ é™åºæ’åˆ—ï¼Œå¹¶åˆ†åˆ«æ‰“å°è¾“å‡º æç¤ºï¼šæœ¬é¢˜è€ƒå¯Ÿå¯¹åˆ—è¡¨çš„åˆ‡ç‰‡å’Œæ’åºæ“ä½œï¼Œæ³¨æ„åˆ‡ç‰‡ä¸‹æ ‡ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  import random def sort2part(): ran_list = [] for i in range(20): ran_list.append(random.randint(0,100)) ran_list_pre_10 = ran_list[0:10] ran_list_pre_10.sort() ran_list_last_10 = ran_list[10::] ran_list_last_10.sort(reverse=True) print(\u0026#34;å‰åä¸ªéšæœºæ•° å‡åº: \u0026#34;+ str(ran_list_pre_10)) print(\u0026#34;ååä¸ªéšæœºæ•° é™åº: \u0026#34; + str(ran_list_last_10)) sort2part()   æœ‰ä¸€åˆ†æ•°åºåˆ—ä¸ºï¼š2/1ï¼Œ3/2ï¼Œ5/3ï¼Œ8/5ï¼Œ13/8ï¼Œ21/13,è¯·ä½¿ç”¨Pythonä»£ç å‡ºç”Ÿæˆå¹¶æ‰“å°è¯¥æ•°åˆ—çš„å‰30é¡¹å¹¶æ±‚å’Œè¿”å› æç¤ºï¼šè§‚å¯Ÿåˆ†æ•°çš„åˆ†å­å’Œåˆ†æ¯ï¼Œæ¯1é¡¹éƒ½å’Œå‰2é¡¹æœ‰å…³ç³»ï¼Œä¹Ÿå¯æ£€ç´¢â€œæ–æ³¢é‚£å¥‘æ•°åˆ—â€\n1 2 3 4 5 6 7 8 9 10 11  def fab(max): n, a, b = 0, 2, 1 result = 0 while n \u0026lt; max: print(\u0026#34;%d/%d\u0026#34;%(a,b)) result += a/b a, b = a + b, a n += 1 return result print(\u0026#34;è¯¥æ•°åˆ—çš„å‰30é¡¹å’Œ: \u0026#34;,fab(30))    2/1\n3/2\n5/3\n8/5\n13/8\n21/13\n34/21\n55/34\n89/55\n144/89\n233/144\n377/233\n610/377\n987/610\n1597/987\n2584/1597\n4181/2584\n6765/4181\n10946/6765\n17711/10946\n28657/17711\n46368/28657\n75025/46368\n121393/75025\n196418/121393\n317811/196418\n514229/317811\n832040/514229\n1346269/832040\n2178309/1346269\nè¯¥æ•°åˆ—çš„å‰30é¡¹å’Œ: 48.84060068717216\n BMIç¼–å†™ èº«ä½“è´¨é‡æŒ‡æ•°ï¼ˆBMIï¼‰æ˜¯æ ¹æ®äººçš„ä½“é‡å’Œèº«é«˜è®¡ç®—å¾—å‡ºçš„ä¸€ä¸ªæ•°å­—ï¼ŒBMIæ˜¯å¯é çš„èº«ä½“è‚¥èƒ–æŒ‡æ ‡ï¼Œå…¶è®¡ç®—å…¬å¼ï¼šBMI=Weight/High2ï¼Œå…¶ä¸­ä½“é‡å•ä½ä¸ºå…¬æ–¤ï¼Œèº«é«˜å•ä½ä¸ºç±³ã€‚\n è®¡ç®—å…¬å¼ä¸ºï¼š$BMI=ä½“é‡ï¼ˆkgï¼‰Ã·èº«é«˜^2ï¼ˆmï¼‰$ æç¤ºç”¨æˆ·è¾“å…¥ä½“é‡ï¼ˆkgï¼‰å’Œèº«é«˜çš„æ•°å­—(m)(æ³¨æ„å•ä½ï¼‰ï¼Œç„¶åè®¡ç®—BMIã€‚ æ ¹æ®BMIæŒ‡æ•°èŒƒå›´ï¼Œå®šä¹‰å½“å‰å¥åº·çŠ¶æ€ã€‚BMIæŒ‡æ•°åœ¨18è‡³25ä¹‹é—´å®šä¹‰ä¸ºå¥åº·çš„æ ‡å‡†ä½“é‡,å°äºè¯¥èŒƒå›´å®šä¹‰ä¸ºåç˜¦ï¼Œè¶…è¿‡è¯¥èŒƒå›´å®šä¹‰ä¸ºåé‡ã€‚ å°†BMIæŒ‡æ•°å’Œå…¶æ‰€ä»£è¡¨çŠ¶æ€è¾“å‡º  1 2 3 4 5 6 7 8 9 10 11  weight = float(input(\u0026#39;è¯·è¾“å…¥æ‚¨çš„ä½“é‡ï¼š\u0026#39;)) high = float(input(\u0026#39;è¯·è¾“å…¥æ‚¨çš„èº«é«˜ï¼š\u0026#39;)) BMI = weight / (high**2) weight_result = \u0026#34;å¥åº·çš„æ ‡å‡†ä½“é‡\u0026#34; if BMI \u0026gt; 25: weight_result = \u0026#34;åé‡\u0026#34; elif BMI \u0026lt; 18: weight_result = \u0026#34;åç˜¦\u0026#34; else: pass print(\u0026#39;æ‚¨çš„BMIæŒ‡æ•°ä¸º%.2fï¼Œæ‚¨çš„ä½“é‡ä¸º%s\u0026#39;%(BMI,weight_result))   å­—ç¬¦ç»Ÿè®¡  åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶å­—ç¬¦ä¸²è¾“å…¥ï¼Œåˆ†åˆ«ç»Ÿè®¡å‡ºå…¶ä¸­è‹±æ–‡å­—æ¯ã€ç©ºæ ¼ã€æ•°å­—å’Œå…¶å®ƒå­—ç¬¦çš„ä¸ªæ•°åæ‰“å°ã€‚ æç¤ºï¼š  ord(\u0026lsquo;a\u0026rsquo;) èƒ½å°†å­—ç¬¦ \u0026lsquo;a\u0026rsquo; è½¬åŒ–ä¸º ASCII ç è¡¨ä¸Šå¯¹åº”çš„æ•°å€¼ï¼Œ ä¾‹å¦‚ï¼Œç©ºæ ¼ä¸º32 æ•°å­— 0-9 å¯¹åº”çš„ç å€¼ä¸º 48-57 å¤§å†™å­—æ¯ A-Z å¯¹åº” 65-90 å°å†™å­—æ¯ a-z å¯¹åº” 97-122 æ¯”122é«˜çš„éƒ½æ˜¯å…¶å®ƒã€‚    1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  def str_count(s): count_a=count_z=count_o=count_s=0 for i in s: if (ord(i)\u0026gt;=97 and ord(i)\u0026lt;=122) or (ord(i)\u0026gt;=65 and ord(i)\u0026lt;=90): count_a=count_a+1 elif ord(i)\u0026gt;=48 and ord(i)\u0026lt;=57: count_z=count_z+1 elif ord(i)==32: count_s=count_s+1 else: count_o=count_o+1 print(\u0026#34;ç©ºæ ¼ä¸ªæ•°ï¼š%dä¸ª\u0026#34;%count_s) print(\u0026#34;æ•°å­—ä¸ªæ•°ï¼š%dä¸ª\u0026#34;%count_z) print(\u0026#34;è‹±æ–‡å­—æ¯ä¸ªæ•°ï¼š%dä¸ª\u0026#34;%count_a) print(\u0026#34;å…¶ä»–å­—ç¬¦ä¸ªæ•°ï¼š%dä¸ª\u0026#34;%count_o) str_count(\u0026#34;æˆ‘æ˜¯wei guo ying,ä»Šå¹´27å²\u0026#34;)   åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥å°†å»é™¤ç»™å®šåˆ—è¡¨ä¸­ä¸­ç›¸é‚»ä¸”é‡å¤çš„å…ƒç´ (åªä¿ç•™ä¸€ä¸ª)åï¼Œæ‰“å°è¾“å‡ºç»“æœã€‚  è¯´æ˜  è¾“å…¥å‚æ•°ä¸º l1=[1,2,3,4,4,4,4,4,4,5,6,6,8,8,12,12,12,12,13] æ“ä½œåï¼Œä¿è¯åŸæœ‰æ•´ä½“æ’åºä¸å˜ï¼Œä»…å¤„ç†ç›¸é‚»ä¸”é‡å¤çš„å…ƒç´  è¯·å‹¿ä½¿ç”¨setï¼Œå¦åˆ™è¯¥é¢˜ä¸è®¡åˆ†ã€‚    1 2 3 4 5 6 7 8 9 10 11 12 13  def remove_same(ll): cur = ll[0] remove_data = [] for i in range(1,len(ll)): if cur == ll[i]: remove_data.append(ll[i]) else: cur = ll[i] for j in range(len(remove_data)): ll.remove(remove_data[j]) return ll lst=[1,2,3,4,4,4,4,4,4,5,6,6,8,8,12,12,12,12,13] print(remove_same(lst))   åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªç”±æ•´æ•°ç»„æˆçš„åˆ—è¡¨ï¼ˆéœ€å¯¹è¾“å…¥åˆ—è¡¨åšæ£€æŸ¥ï¼Œé•¿åº¦æœ€å°‘ä¸º2,æ•°æ®ç±»å‹ä¸ºæ•´å‹ï¼‰ï¼Œå¹¶æ£€éªŒåä¸‹åˆ—æ¡ä»¶åè¾“å‡ºï¼š  å¦‚åˆ—è¡¨æ˜¯å‡åºæ’åˆ—çš„,åˆ™è¾“å‡º\u0026quot;ASC\u0026rdquo;; å¦‚åˆ—è¡¨æ˜¯é™åºæ’åˆ—çš„,åˆ™è¾“å‡º\u0026quot;DESC\u0026rdquo;; å¦‚åˆ—è¡¨æ— åºï¼Œåˆ™è¾“å‡º\u0026quot;WRONG\u0026rdquo;ã€‚  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  def check_data(l): if len(l) \u0026lt; 2: print(\u0026#39;æ‚¨è¾“å…¥çš„åˆ—è¡¨é•¿åº¦å°äº2ï¼Œè¯·é‡æ–°è¾“å…¥\u0026#39;) else: check_list = list(filter(lambda x : True if isinstance(x,int) else False,l)) if len(l) == len(check_list): if l == sorted(l): print(\u0026#39;ASC\u0026#39;) elif l == sorted(l,reverse = True): print(\u0026#39;DESC\u0026#39;) else: print(\u0026#39;WRONG\u0026#39;) else: print(\u0026#34;åˆ—è¡¨ä¸­æ•°æ®ç±»å‹åŒ…å«éæ•´å‹ï¼Œè¯·é‡æ–°è¾“å…¥\u0026#34;) check_data([1]) check_data([1,\u0026#34;2\u0026#34;]) check_data([1,2,3,4]) check_data([4,3,2,1]) check_data([1,3,2,4])   é«˜é˜¶å‡½æ•°ç»¼åˆè¿ç”¨ l1=[1,3,6,8,10,11,17]\nè¯·ä»…ä½¿ç”¨map,reduce,filterå¯¹ä¸Šæ–¹æ•°ç»„ä¾æ¬¡è¿›è¡Œå¦‚ä¸‹ä¸‰æ¬¡æ“ä½œï¼š\n å‰”é™¤æ‰æ‰€æœ‰çš„å¶æ•°åæ‰“å° å¯¹å‰©ä¸‹çš„æ•°å­—æ¯ä¸ªæ•°å­—è¿›è¡Œå¹³æ–¹åæ‰“å° å¯¹æ•°ç»„æ±‚å’Œåæ‰“å°\næ³¨æ„ï¼šæ¯ä¸€é¢˜éƒ½æ˜¯åœ¨ä¸Šä¸€é—®çš„åŸºç¡€ä¸Šæ“ä½œ  1 2 3 4 5 6 7 8 9 10 11 12 13  #å‰”é™¤æ‰æ‰€æœ‰çš„å¶æ•°åæ‰“å° l1 = [1,3,6,8,10,11,17] l2 = list(filter(lambda x:True if x%2 == 1 else False,l1)) print(l2) #å¯¹å‰©ä¸‹çš„æ•°å­—æ¯ä¸ªæ•°å­—è¿›è¡Œå¹³æ–¹åæ‰“å° l3 = list(map(lambda x:pow(x,2),l2)) print(l3) #å¯¹æ•°ç»„æ±‚å’Œåæ‰“å° from functools import reduce l4 = reduce(lambda x,y : x+y,l3) print(l4)   Pythonç±»è®¾è®¡ è®¾è®¡ä¸€ä¸ªå…¬å¸ç±»ï¼Œå®Œæˆä»¥ä¸‹è¦æ±‚ï¼Œå¹¶å®ä¾‹åŒ–ä¸åŒå¯¹è±¡è¿›è¡ŒéªŒè¯\nç±»å˜é‡\n ç±»ä¸‹å…¬å¸çš„æ€»ä¸ªæ•°ï¼Œç±»ä¸‹å…¬å¸å®ä¾‹çš„åç§°åˆ—è¡¨\nç±»æ–¹æ³• è¿”å›å…¬å¸ç±»å…±æœ‰å¤šå°‘ä¸ªå…¬å¸å®ä¾‹ è¿”å›å…¬å¸ç±»çš„å…¬å¸å®ä¾‹æœ‰åç§°åˆ—è¡¨\nå®ä¾‹å˜é‡ å…¬å¸åï¼Œç®€ä»‹ï¼Œåˆ©æ¶¦ï¼Œé”€å”®é¢ï¼Œæ€»æˆæœ¬ï¼Œé›‡å‘˜å§“ååˆ—è¡¨ï¼Œé›‡å‘˜è¯¦ç»†ä¿¡æ¯åˆ—è¡¨(è¿™é‡Œå¯èƒ½ä¼šè€ƒå¯Ÿåˆ°*å·å¯¹å‚æ•°è§£åŒ…)\nå®ä¾‹æ–¹æ³•ï¼š æ‹›è˜äººæ‰ï¼ˆæ¯æ‹›ä¸€ä¸ªäººä¼šæœ‰æˆæœ¬äº§ç”Ÿï¼Œå½±å“è¯¥å®ä¾‹é›‡å‘˜åˆ—è¡¨ã€äººæ•°ã€æ€»æˆæœ¬ï¼Œé»˜è®¤æˆæœ¬cost=10000ï¼‰ è§£é›‡äººå‘˜ï¼ˆæ¯è§£é›‡ä¸€ä¸ªäººä¼šæœ‰æˆæœ¬äº§ç”Ÿï¼Œå½±å“è¯¥å®ä¾‹é›‡å‘˜åˆ—è¡¨ã€äººæ•° ã€æ€»æˆæœ¬ï¼Œé»˜è®¤æˆæœ¬cost=5000ï¼‰ å…¬å¸å¹¿å‘Šæ¨å¹¿(å½±å“è¯¥å®ä¾‹æ€»æˆæœ¬ï¼Œè‡ªå®šä¹‰æˆæœ¬cost) äº¤ç¤¾ä¿(æŒ‰å…¬å¸é›‡å‘˜æ€»äººæ•°è®¡ç®—ï¼Œå½±å“è¯¥å®ä¾‹æ€»æˆæœ¬ï¼Œé»˜è®¤å•äººç¤¾ä¿ç¼´çº³1000) äº¤ç¨(æŒ‰å…¬å¸é›‡å‘˜æ€»äººæ•°è®¡ç®—ï¼Œå½±å“è¯¥å®ä¾‹æ€»æˆæœ¬ï¼Œé»˜è®¤å•äººç¨è´¹ç¼´çº³500) é”€å”®ï¼ˆæŒ‰é”€å”®ä»¶æ•°*ä»·æ ¼è®¡ç®—é”€å”®é¢ï¼Œåˆ©æ¶¦æŒ‰é”€å”®é¢*åˆ©æ¶¦ç‡è¿›è¡Œè®¡ç®—åˆ©æ¶¦ã€‚é»˜è®¤åˆ©æ¶¦ç‡50%ï¼‰ è·å–å…¬å¸é›‡å‘˜åˆ—è¡¨ è·å–å…¬å¸å‡€åˆ©æ¶¦  æç¤ºï¼šå…·ä½“çš„å‡½æ•°æ–¹æ³•ä¸å˜é‡å®šä¹‰ï¼Œè¯·å‚è€ƒä¸‹è¿°å®ä¾‹åŒ–ä»£ç ç¡®å®šã€‚åˆå§‹åŒ–é›‡å‘˜çš„åœ°æ–¹ï¼Œå¤§å®¶çœ‹åˆ°è°ƒç”¨çš„æ—¶å€™ä¼šåŒ…å«å¹´é¾„ç­‰ä¿¡æ¯ï¼Œè¿™é‡Œå¯èƒ½ä¼šç”¨åˆ°ä¸å®šé•¿å‚æ•°è¾“å…¥ï¼Œè¯¦ç»†å¯ä»¥å‚è€ƒpythonå‚æ•°è¯´æ˜\næç¤ºï¼šå†™ä¸å‡ºæ¥çš„åŒå­¦å¯ä»¥çœ‹ä¸€ä¸‹ä¸Šæ–¹çš„è¯´æ˜ï¼Œå®é™…ä¸Šä»£ç çš„ç»“æ„è·Ÿä¸Šæ–¹è¯´æ˜ç»“æ„åŸºæœ¬ä¸€è‡´\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55  class Company(): companyNum = 0 companyList = [] def __init__(self, companyName, profile): self.companyName = companyName self.profile = profile self.profit = 0 self.sales = 0 self.totalCost = 0 self.employeeNames = [] self.employeeList = [] Company.companyNum += 1 Company.companyList.append(companyName) def recruit(self, name, *args, cost=10000): self.employeeNames.append(name) self.employeeList.append((name,*args)) self.totalCost += cost def dismiss(self, name, cost=5000): try: self.employeeNames.remove(name) for index in range(len(self.employeeList)): if self.employeeList[index][0]==name: self.employeeList.pop(index) self.totalCost += cost except ValueError: print(\u0026#39;æ²¡æœ‰name={}çš„å‘˜å·¥ï¼Œè¯·é‡è¯•\u0026#39;.format(name)) def adPromotion(self, cost): self.totalCost += cost def payInsurance(self, costPerPerson=1000): self.totalCost += costPerPerson * len(self.employeeNames) def payTax(self, costPerPerson=500): self.totalCost += costPerPerson * len(self.employeeNames) def sale(self, num, price, profit=0.5): self.sales += num * price self.profit += self.sales * profit def getEmployeeList(self): return self.employeeList def getProfit(self): return self.profit @classmethod def getCompanyNum(cls): return len(cls.companyList) @classmethod def getCompanyList(cls): return cls.companyList   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  #åŠŸèƒ½éªŒè¯ c0 = Company(\u0026#39;å°è±¡å­¦é™¢\u0026#39;,\u0026#39;å¤§æ•°æ®AIåœ¨çº¿æ•™è‚²\u0026#39;) c0.recruit(\u0026#39;HanXiaoyang\u0026#39;,18, cost=20000) c0.recruit(\u0026#39;Eric\u0026#39;,20, cost=10000) print(\u0026#39;{}å…¬å¸å‘˜å·¥è¯¦ç»†ä¿¡æ¯åˆ—è¡¨:{}\u0026#39;.format(c0.companyName,c0.getEmployeeList())) c0.dismiss(\u0026#39;Eric\u0026#39;) c0.adPromotion(5000) c0.payInsurance() c0.payTax() c0.sale(50,100) print(\u0026#39;{}å…¬å¸å‘˜å·¥è¯¦ç»†ä¿¡æ¯åˆ—è¡¨:{}\u0026#39;.format(c0.companyName,c0.getEmployeeList())) print(\u0026#39;{}å…¬å¸å½“å‰åˆ©æ¶¦ï¼š{}\u0026#39;.format(c0.companyName,c0.getProfit())) c1 = Company(\u0026#39;ç™¾åº¦\u0026#39;,\u0026#39;æœç´¢å¼•æ“\u0026#39;) c1.recruit(\u0026#39;liyanhong\u0026#39;,30, cost=50000) c1.recruit(\u0026#39;likaifu\u0026#39;,50, cost=40000) print(\u0026#39;{}å…¬å¸å‘˜å·¥è¯¦ç»†ä¿¡æ¯åˆ—è¡¨:{}\u0026#39;.format(c1.companyName,c1.getEmployeeList())) print(\u0026#39;å…¬å¸ååˆ—è¡¨ï¼š\u0026#39;,Company.companyList) print(\u0026#39;å…¬å¸æ€»ä¸ªæ•°ï¼š\u0026#39;,Company.companyNum)   ç»“åˆPILåº“ï¼Œåˆ¶ä½œä¸€ä¸ªèƒ½ç”Ÿæˆ5ä½éšæœºæ•°éªŒè¯ç å›¾ç‰‡çš„å‡½æ•°ã€‚ ç”Ÿæˆ5ä½éšæœºæ•°éªŒè¯ç å¹¶å­˜å‚¨ä¸ºverify.pngåç§°çš„å›¾ç‰‡ã€‚\næç¤ºï¼šPILåº“çš„ä½¿ç”¨æ–¹æ³•å¯ä»¥å‚è€ƒpythonä¸­PILåº“çš„ä½¿ç”¨å’ŒPILåº“ç®€æ˜“æ•™ç¨‹ä¸éªŒè¯ç ç”Ÿæˆ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45  %matplotlib inline from PIL import Image from PIL import ImageDraw from PIL import ImageFont import random def getRandomColor(): \u0026#39;\u0026#39;\u0026#39;è·å–ä¸€ä¸ªéšæœºé¢œè‰²(r,g,b)æ ¼å¼çš„\u0026#39;\u0026#39;\u0026#39; c1 = random.randint(0,255) c2 = random.randint(0,255) c3 = random.randint(0,255) return (c1,c2,c3) # è·å–ä¸€ä¸ªImageå¯¹è±¡ï¼Œå‚æ•°åˆ†åˆ«æ˜¯RGBæ¨¡å¼ã€‚å®½150ï¼Œé«˜30ï¼Œéšæœºé¢œè‰² image = Image.new(\u0026#39;RGB\u0026#39;,(150,30),getRandomColor()) # è·å–ä¸€ä¸ªç”»ç¬”å¯¹è±¡ï¼Œå°†å›¾ç‰‡å¯¹è±¡ä¼ è¿‡å» draw = ImageDraw.Draw(image) # è·å–ä¸€ä¸ªfontå­—ä½“å¯¹è±¡å‚æ•°æ˜¯ttfçš„å­—ä½“æ–‡ä»¶çš„ç›®å½•ï¼Œä»¥åŠå­—ä½“çš„å¤§å° font = ImageFont.truetype(\u0026#34;arial.ttf\u0026#34;, size=22) for i in range(5): # å¾ªç¯5æ¬¡ï¼Œè·å–5ä¸ªéšæœºå­—ç¬¦ä¸² random_char = str(random.randint(0, 9)) print(random_char) # åœ¨å›¾ç‰‡ä¸Šä¸€æ¬¡å†™å…¥å¾—åˆ°çš„éšæœºå­—ç¬¦ä¸²,å‚æ•°æ˜¯ï¼šå®šä½ï¼Œå­—ç¬¦ä¸²ï¼Œé¢œè‰²ï¼Œå­—ä½“ draw.text((10+i*30, 4),random_char,getRandomColor(),font) # å™ªç‚¹å™ªçº¿ width=180 height=30 # åˆ’çº¿ for i in range(5): x1=random.randint(0,width) x2=random.randint(0,width) y1=random.randint(0,height) y2=random.randint(0,height) draw.line((x1,y1,x2,y2),fill=getRandomColor()) # ç”»ç‚¹ for i in range(30): draw.point([random.randint(0, width), random.randint(0, height)], fill=getRandomColor()) x = random.randint(0, width) y = random.randint(0, height) draw.arc((x, y, x + 5, y + 5), 0, 90, fill=getRandomColor()) # ä¿å­˜åˆ°ç¡¬ç›˜ï¼Œåä¸ºverify.pngæ ¼å¼ä¸ºpngçš„å›¾ç‰‡ image.save(open(\u0026#39;verify.png\u0026#39;, \u0026#39;wb\u0026#39;), \u0026#39;png\u0026#39;)    0\n4\n2\n1\n0\n 1 2 3 4 5 6 7 8  %matplotlib inline import matplotlib.pyplot as plt img = Image.open(\u0026#39;verify.png\u0026#39;) plt.figure(\u0026#39;\u0026#39;) plt.axis(\u0026#39;off\u0026#39;) plt.imshow(img) # %%html # \u0026lt;img src=\u0026#34;verify.png\u0026#34; width=\u0026#34;40%\u0026#34;\u0026gt;   "
},
{
	"uri": "https://lczen.github.io/en/showcase/hugo/",
	"title": "Hugo",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "Hugo theme collection",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/showcase/",
	"title": "Showcase overview",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "My portfolio, repos, works overview page",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/categories/python%E5%9F%BA%E7%A1%80/",
	"title": "pythonåŸºç¡€",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/posts/basicpractice/",
	"title": "pythonå°ç»ƒä¹ ",
	"tags": ["ç»ƒä¹ é¢˜"],
	"categories": [],
	"series": [],
	"description": "",
	"content": "æŒ‡å®šsträ½ç½®ï¼Œå¹¶æ›´æ”¹è¯¥ä½ç½®çš„å€¼ 1.å®ç°ä¸€ä¸ªåŠŸèƒ½ï¼Œç”¨æˆ·è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¿®æ”¹å­—ç¬¦ä¸²ä¸­å“ªä¸ªä½ç½®ï¼Œç¨‹åºå°±ä¼šè¾“å‡ºä¿®æ”¹åçš„ç»“æœã€‚ï¼ˆè¾“å…¥ç”¨inputå‡½æ•°ï¼‰ æ¯”å¦‚è¾“å…¥ï¼š 'fkjava.ipg' 6 - ç¨‹åºè¾“å‡ºï¼š'fkjana-ipg' æˆ‘çš„ç†è§£ï¼šsträ¸èƒ½æ ¹æ®indexæ”¹å˜å¯¹åº”ä½ç½®çš„å€¼ï¼Œè€Œlistå¯ä»¥ã€‚listè½¬æ¢æˆstrç”¨strçš„joinå‡½æ•°ã€‚ 1 2 3 4 5 6 7 8  s = input(\u0026#39;è¯·è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š\u0026#39;) k = input(\u0026#39;è¯·è¾“å…¥è¦ä¿®æ”¹çš„ä½ç½®å’Œè¦ä¿®æ”¹æˆçš„ç¬¦å·ï¼Œç”¨ç©ºæ ¼åˆ†å¼€ï¼š\u0026#39;) num = int(k[0]) # è¦ä¿®æ”¹çš„index sub = k[2] # è¦æ›¿æ¢çš„å­—ç¬¦ list_s = list(s) # å› ä¸ºå­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„æ•°æ®ç±»å‹ï¼Œæˆ‘ä»¬å­—ç¬¦ä¸²å˜æˆåˆ—è¡¨ list_s[num] = sub # æ›¿æ¢å¯¹åº”ä½ç½®çš„å­—ç¬¦ s = \u0026#39;\u0026#39;.join(list_s) print(\u0026#39;ç»“æœæ˜¯ï¼š\u0026#39;, s)   æ‰¾å­ä¸²çš„æ•°é‡ 2.ç”¨æˆ·è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²å’Œä¸€ä¸ªå­ä¸²ï¼Œç¨‹åºä¼šè¾“å‡ºç»™å®šçš„å­ä¸²åœ¨ç›®æ ‡å­—ç¬¦ä¸²ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚å­—ç¬¦ä¸²éå†ä»å·¦åˆ°å³ï¼Œè€Œä¸æ˜¯ä»å³åˆ°å·¦ã€‚ ä¾‹å¦‚ç»™å®š 'ABCDCDC' å’Œ 'CDC' ï¼Œç¨‹åºè¾“å‡º '2' 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  #æ³•ä¸€ï¼Œåˆ©ç”¨strçš„findæ–¹æ³• s = input(\u0026#39;è¾“å…¥å­—ç¬¦ä¸²\u0026#39;) sub_s = input(\u0026#39;è¾“å…¥å­å­—ç¬¦ä¸²\u0026#39;) index = 0 count = 0 for i in range(len(s)+1): if s.find(sub_s,index) != -1: count += 1 index = s.find(sub_s,s.find(sub_s,index)+1) print(count) #æ³•äºŒï¼šå…³é”®ç‚¹ï¼Œs[i:i+len_ss] == ss s = input(\u0026#39;è¯·è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š\u0026#39;) ss = input(\u0026#39;è¯·è¾“å…¥è¦æŸ¥æ‰¾çš„å­—ä¸²ï¼š\u0026#39;) num = 0 # åˆ›å»ºæœ€åè¾“å‡ºç”¨çš„å˜é‡ len_ss = len(ss) # æˆ‘ä»¬çš„æ€è·¯æ˜¯é€šè¿‡åˆ‡ç‰‡æ¥å–å‡º s ä¸­çš„ä¸€éƒ¨åˆ†åˆ¤æ–­æ˜¯å¦å’Œå­ä¸² ss ä¸€è‡´ï¼Œæ‰€ä»¥è¿™é‡Œè¦å…ˆçŸ¥é“ ss çš„é•¿åº¦ for i in range(len(s) - len_ss + 1): # é˜²æ­¢åé¢åšåˆ‡ç‰‡çš„æ—¶å€™ç´¢å¼•è¶…å‡ºä¸Šç•Œï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆå‡æ‰ ss çš„é•¿åº¦ï¼Œæœ€åä¸€ä½æ•°ä¸è¢«åŒ…æ‹¬ï¼Œæ‰€ä»¥ +1 if s[i] == ss[0]: # åˆ¤æ–­æ¯ä¸ªå­—ç¬¦å’Œ ss å¼€å¤´å­—ç¬¦æ˜¯å¦åŒ¹é… if s[i:i+len_ss] == ss: # åˆ¤æ–­æ¥ä¸‹æ¥çš„ len_ss é•¿åº¦çš„å­—ç¬¦æ˜¯å¦ä¸ ss ä¸€è‡´ num += 1 print(num)   æŠŠè¾“å…¥æ•°æ®å°è£…æˆå…ƒç¥– 3.æç¤ºç”¨æˆ·è¾“å…¥Nä¸ªå­—ç¬¦ä¸²ï¼ˆNè‡ªå·±å®šä¹‰ï¼‰ï¼Œå°†ä»–ä»¬å°è£…æˆå…ƒç»„ï¼Œç„¶åè®¡ç®—è¯¥å…ƒç»„ä¹˜ä»¥3å†åŠ ä¸Šï¼ˆ'hello','world'ï¼‰çš„ç»“æœã€‚ keypoint:åˆ—è¡¨å¯ä»¥å¼ºè½¬æ¢æˆå…ƒç»„ï¼Œå…ƒç»„+å…ƒç»„=å…ƒç»„ 1 2 3 4 5  s = input(\u0026#39;è¯·è¾“å…¥ä¸€äº›å­—ç¬¦ä¸²ï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼š\u0026#39;) list_s = s.split(\u0026#39;\u0026#39;) tuple_s = tuple(list_s) result = tuple_s * 3 + (\u0026#39;hello\u0026#39;, \u0026#39;world\u0026#39;) print(result) # ä¸»è¦è§‚å¯Ÿç»“æœçš„å‘ˆç°å½¢å¼ï¼Œé‡ç‚¹ç†è§£ å…ƒç»„ * æ•°å­— çš„å«ä¹‰ä»¥åŠå…ƒç»„ä¹‹é—´åŠ æ³•çš„ç”¨æ³•   è¯·è¾“å…¥ä¸€äº›å­—ç¬¦ä¸²ï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼šw ('w', 'w', 'w', 'hello', 'world') åˆ—è¡¨appendéšæœºæ•° 4.ç”¨æˆ·è¾“å…¥ä¸€ä¸ªæ•´æ•°nï¼Œç”Ÿæˆé•¿åº¦ä¸ºnçš„åˆ—è¡¨ï¼Œå¹¶å°†nä¸ªéšæœºæ•°æ”¾å…¥åˆ—è¡¨ä¸­ã€‚ï¼ˆéšæœºæ•°å¯ä»¥å‚è€ƒrandomåº“ï¼Œç™¾åº¦æœç´¢ python random å³å¯ï¼‰ 1 2 3 4 5  num = int(input(\u0026#39;è¯·ç”¨æˆ·è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼š\u0026#39;))# è¿™é‡Œè¦æ³¨æ„inputå‡½æ•°è¿”å›çš„æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œéœ€è¦è½¬æˆæ•´å‹ l = [] # å®šä¹‰ä¸€ä¸ªç©ºåˆ—è¡¨ï¼Œç”¨æ¥è£…åé¢ç”Ÿæˆçš„éšæœºæ•° for i in range(num): # å¾ªç¯næ¬¡ l.append(r.random()) # è¿™é‡Œæ•°å­—èŒƒå›´ä¸é™ï¼Œå¯ä»¥ç”¨randomåº“é‡Œä¸åŒçš„å‡½æ•°æ¥å®ç° print(l)   å°†nä¸ªéšæœºçš„å¥‡æ•°æ”¾å…¥åˆ—è¡¨ 5.ç”¨æˆ·è¾“å…¥ä¸€ä¸ªæ•´æ•°nï¼Œç”Ÿæˆé•¿åº¦ä¸ºnçš„åˆ—è¡¨ï¼Œå¹¶å°†nä¸ªéšæœºçš„å¥‡æ•°æ”¾å…¥åˆ—è¡¨ä¸­ã€‚ 1 2 3 4 5 6 7 8 9  num = int(input(\u0026#39;è¯·ç”¨æˆ·è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼š\u0026#39;)) l = [0] * num # è¿™é“é¢˜æˆ‘ä»¬æ¢ä¸€ä¸ªæ€è·¯ï¼Œå…ˆç”Ÿæˆåˆ—è¡¨ï¼Œç”¨0ç«™ä½ï¼Œç„¶åæˆ‘ä»¬æ›¿æ¢é‡Œé¢çš„æ•°å­— for i in range(num): # éå†lï¼Œå¯¹æ¯ä¸ª0åšæ›¿æ¢ while True: # while True ä¸ºæ­»å¾ªç¯ï¼Œå½“æ»¡è¶³æ¡ä»¶æ—¶æˆ‘ä»¬ç”¨breakæ‰“ç ´å¾ªç¯ n = r.randint(1, 100) # ç”Ÿæˆ1-100ä¹‹é—´çš„éšæœºæ•´æ•° if n%2 == 1: l[i] = n break print(l)   choice 6.ç”¨æˆ·è¾“å…¥ä¸€ä¸ªæ•´æ•°nï¼Œç”Ÿæˆé•¿åº¦ä¸ºnçš„åˆ—è¡¨ï¼Œå¹¶å°†nä¸ªéšæœºçš„å¤§å†™å­—ç¬¦æ”¾å…¥åˆ—è¡¨ä¸­ã€‚ 1 2 3 4 5  num = int(input(\u0026#39;è¯·ç”¨æˆ·è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼š\u0026#39;)) l = [] for i in range(num): l.append(r.choice(\u0026#39;abcdefghijklmnopqrstuvwxyz\u0026#39;).upper()) # ç”¨upper()å˜æˆå¤§å†™ï¼Œå¯ä»¥æ€è€ƒè¿˜æœ‰å…¶ä»–ç”Ÿæˆéšæœºå­—ç¬¦çš„æ–¹å¼å—ï¼Ÿ print(l)   è¾“å‡ºæ•´æ•°çš„æœ€å¤§å€¼ 7.ç”¨æˆ·è¾“å…¥ä»¥ç©ºæ ¼åˆ†éš”çš„å¤šä¸ªæ•´æ•°ï¼Œè¾“å‡ºè¿™äº›æ•´æ•°çš„æœ€å¤§å€¼ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  #æ³•ä¸€ list.sort åˆ—è¡¨è¡¨è¾¾å¼ nums = input(\u0026#39;è¯·è¾“å…¥ä¸€äº›æ•´æ•°ï¼Œä»¥ç©ºæ ¼åˆ†éš”ï¼š\u0026#39;) list_nums = nums.split(\u0026#39;\u0026#39;) list_int_nums = [int(item) for item in list_nums] list_int_nums.sort() print(list_int_nums[len(list_int_nums)-1]) #æ³•äºŒ nums = input(\u0026#39;è¯·è¾“å…¥ä¸€äº›æ•´æ•°ï¼Œä»¥ç©ºæ ¼åˆ†éš”ï¼š\u0026#39;) list_nums = nums.split(\u0026#39;\u0026#39;) list_int_nums = [] for i in range(len(list_nums)): # ç¬¬ä¸€ä¸ªå¾ªç¯ï¼Œæˆ‘ä»¬æŠŠæ‰€æœ‰æ•°å­—ä»å­—ç¬¦ä¸²å˜æˆæ•´å‹ num = int(list_nums[i]) list_int_nums.append(num) a = -99999999 for i in list_int_nums: # ç¬¬äºŒä¸ªå¾ªç¯ï¼Œaä¸ºç›®å‰æœ€å¤§æ•°ï¼Œéå†åˆ—è¡¨ï¼Œå¦‚æœå½“å‰æ•°å­—æ¯”aå¤§ï¼ŒæŠŠå½“å‰å€¼èµ‹å€¼ç»™a if i \u0026gt; a: a = i print(\u0026#39;æœ€å¤§çš„æ•°ä¸ºï¼š\u0026#39;, a)   ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—æ¯çš„æ¬¡æ•°* 8.ç”¨æˆ·è¾“å…¥Nä¸ªå¤§å†™å­—æ¯ï¼Œä½¿ç”¨dictç»Ÿè®¡ç”¨æˆ·è¾“å…¥çš„æ¯ä¸ªå­—æ¯çš„æ¬¡æ•°ã€‚ 1 2 3 4 5 6 7 8  s = input(\u0026#39;è¯·è¾“å…¥ä¸€äº›å¤§å†™å­—æ¯ï¼š\u0026#39;) d = dict() for i in s: if i in d.keys(): d[i] += 1 else: d[i] = 1 print(d)   è¾“å‡ºç­‰è…°ä¸‰è§’å½¢ 9.ä½¿ç”¨å¾ªç¯è¾“å‡ºç­‰è…°ä¸‰è§’å½¢ï¼Œå±‚æ•°ç”±ç”¨æˆ·è¾“å…¥ï¼ˆinputï¼‰ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼ˆè¾“å…¥3ï¼‰ï¼š * * *** keypoint:ç”¨æ•°å­¦æ–¹å¼å»ç†è§£ï¼Œ*çš„è§„å¾‹æ˜¯2n-1 1 2 3  n = int(input(\u0026#39;è¯·è¾“å…¥ä¸‰è§’å½¢çš„å±‚æ•°ï¼š\u0026#39;)) for i in range(1, n+1): print((n-i)*\u0026#39;\u0026#39; + (2*i-1)*\u0026#39;*\u0026#39; + (n-i)*\u0026#39;\u0026#39;)   è¯·è¾“å…¥ä¸‰è§’å½¢çš„å±‚æ•°ï¼š3 * *** ***** ä¹ä¹ä¹˜æ³•è¡¨ 10.ä½¿ç”¨å¾ªç¯è¾“å‡ºä¹ä¹ä¹˜æ³•è¡¨ã€‚è¾“å…¥ç»“æœå¦‚ä¸‹ï¼š 1 * 1 = 1 1 * 2 = 2 2 * 2 = 4 ....... 1 2 3 4  for i in range(1, 10): for j in range(1, i+1): print(\u0026#39;{}x{}={}\\t\u0026#39;.format(j, i, i*j), end=\u0026#39;\u0026#39;) # \\tä¸ºåˆ¶è¡¨ç¬¦ print()   1x1=1\t1x2=2\t2x2=4\t1x3=3\t2x3=6\t3x3=9\t1x4=4\t2x4=8\t3x4=12\t4x4=16\t1x5=5\t2x5=10\t3x5=15\t4x5=20\t5x5=25\t1x6=6\t2x6=12\t3x6=18\t4x6=24\t5x6=30\t6x6=36\t1x7=7\t2x7=14\t3x7=21\t4x7=28\t5x7=35\t6x7=42\t7x7=49\t1x8=8\t2x8=16\t3x8=24\t4x8=32\t5x8=40\t6x8=48\t7x8=56\t8x8=64\t1x9=9\t2x9=18\t3x9=27\t4x9=36\t5x9=45\t6x9=54\t7x9=63\t8x9=72\t9x9=81\t"
},
{
	"uri": "https://lczen.github.io/en/tags/%E7%BB%83%E4%B9%A0%E9%A2%98/",
	"title": "ç»ƒä¹ é¢˜",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/posts/regular/",
	"title": "Regular",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": "æ­£åˆ™è¡¨è¾¾å¼ reæ¨¡å— å­¦ä¹ ç½‘ç«™ï¼šhttp://regexr.com/\nPythoné€šè¿‡reæ¨¡å—æä¾›å¯¹æ­£åˆ™è¡¨è¾¾å¼çš„æ”¯æŒã€‚\nä½¿ç”¨reçš„ä¸€èˆ¬æ­¥éª¤æ˜¯\n 1.å°†æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²å½¢å¼ç¼–è¯‘ä¸ºPatternå®ä¾‹ 2.ä½¿ç”¨Patternå®ä¾‹å¤„ç†æ–‡æœ¬å¹¶è·å¾—åŒ¹é…ç»“æœï¼ˆä¸€ä¸ªMatchå®ä¾‹ï¼‰ 3.ä½¿ç”¨Matchå®ä¾‹è·å¾—ä¿¡æ¯ï¼Œè¿›è¡Œå…¶ä»–çš„æ“ä½œã€‚  1 2 3 4 5 6 7 8 9 10 11 12  # encoding: UTF-8 import re # å°†æ­£åˆ™è¡¨è¾¾å¼ç¼–è¯‘æˆPatternå¯¹è±¡ pattern = re.compile(r\u0026#39;hello.*\\!\u0026#39;) # ä½¿ç”¨PatternåŒ¹é…æ–‡æœ¬ï¼Œè·å¾—åŒ¹é…ç»“æœï¼Œæ— æ³•åŒ¹é…æ—¶å°†è¿”å›None match = pattern.match(\u0026#39;hello, hanxiaoyang! How are you?\u0026#39;) if match: # ä½¿ç”¨Matchè·å¾—åˆ†ç»„ä¿¡æ¯ print(match.group())   re.compile(strPattern[, flag]):\nè¿™ä¸ªæ–¹æ³•æ˜¯Patternç±»çš„å·¥å‚æ–¹æ³•ï¼Œç”¨äºå°†å­—ç¬¦ä¸²å½¢å¼çš„æ­£åˆ™è¡¨è¾¾å¼ç¼–è¯‘ä¸ºPatternå¯¹è±¡ã€‚\nç¬¬äºŒä¸ªå‚æ•°flagæ˜¯åŒ¹é…æ¨¡å¼ï¼Œå–å€¼å¯ä»¥ä½¿ç”¨æŒ‰ä½æˆ–è¿ç®—ç¬¦'|'è¡¨ç¤ºåŒæ—¶ç”Ÿæ•ˆï¼Œæ¯”å¦‚re.I | re.Mã€‚\nå½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨regexå­—ç¬¦ä¸²ä¸­æŒ‡å®šæ¨¡å¼ï¼Œæ¯”å¦‚re.compile(\u0026lsquo;pattern\u0026rsquo;, re.I | re.M)ç­‰ä»·äºre.compile('(?im)pattern\u0026rsquo;)\nflagå¯é€‰å€¼æœ‰ï¼š\n re.I(re.IGNORECASE): å¿½ç•¥å¤§å°å†™ï¼ˆæ‹¬å·å†…æ˜¯å®Œæ•´å†™æ³•ï¼Œä¸‹åŒï¼‰ re.M(MULTILINE): å¤šè¡Œæ¨¡å¼ï¼Œæ”¹å˜'^'å’Œ'$'çš„è¡Œä¸ºï¼ˆå‚è§ä¸Šå›¾ï¼‰ re.S(DOTALL): ç‚¹ä»»æ„åŒ¹é…æ¨¡å¼ï¼Œæ”¹å˜\u0026rsquo;.\u0026lsquo;çš„è¡Œä¸º re.L(LOCALE): ä½¿é¢„å®šå­—ç¬¦ç±» \\w \\W \\b \\B \\s \\S å–å†³äºå½“å‰åŒºåŸŸè®¾å®š re.U(UNICODE): ä½¿é¢„å®šå­—ç¬¦ç±» \\w \\W \\b \\B \\s \\S \\d \\D å–å†³äºunicodeå®šä¹‰çš„å­—ç¬¦å±æ€§ re.X(VERBOSE): è¯¦ç»†æ¨¡å¼ã€‚è¿™ä¸ªæ¨¡å¼ä¸‹æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥æ˜¯å¤šè¡Œï¼Œå¿½ç•¥ç©ºç™½å­—ç¬¦ï¼Œå¹¶å¯ä»¥åŠ å…¥æ³¨é‡Šã€‚ä»¥ä¸‹ä¸¤ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ˜¯ç­‰ä»·çš„ï¼š  1 2 3 4  regex_1 = re.compile(r\u0026#34;\u0026#34;\u0026#34;\\d + # æ•°å­—éƒ¨åˆ†\\. # å°æ•°ç‚¹éƒ¨åˆ†\\d * # å°æ•°çš„æ•°å­—éƒ¨åˆ†\u0026#34;\u0026#34;\u0026#34;, re.X) regex_2 = re.compile(r\u0026#34;\\d+\\.\\d*\u0026#34;)   Match å°è±¡å­¦é™¢ã€Šæœºå™¨å­¦ä¹ é›†è®­è¥ã€‹è¯¾ç¨‹èµ„æ–™ by @å¯’å°é˜³\nMatchå¯¹è±¡æ˜¯ä¸€æ¬¡åŒ¹é…çš„ç»“æœï¼ŒåŒ…å«äº†å¾ˆå¤šå…³äºæ­¤æ¬¡åŒ¹é…çš„ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨Matchæä¾›çš„å¯è¯»å±æ€§æˆ–æ–¹æ³•æ¥è·å–è¿™äº›ä¿¡æ¯ã€‚\nmatchå±æ€§ï¼š\n string: åŒ¹é…æ—¶ä½¿ç”¨çš„æ–‡æœ¬ã€‚ re: åŒ¹é…æ—¶ä½¿ç”¨çš„Patternå¯¹è±¡ã€‚ pos: æ–‡æœ¬ä¸­æ­£åˆ™è¡¨è¾¾å¼å¼€å§‹æœç´¢çš„ç´¢å¼•ã€‚å€¼ä¸Pattern.match()å’ŒPattern.seach()æ–¹æ³•çš„åŒåå‚æ•°ç›¸åŒã€‚ endpos: æ–‡æœ¬ä¸­æ­£åˆ™è¡¨è¾¾å¼ç»“æŸæœç´¢çš„ç´¢å¼•ã€‚å€¼ä¸Pattern.match()å’ŒPattern.seach()æ–¹æ³•çš„åŒåå‚æ•°ç›¸åŒã€‚ lastindex: æœ€åä¸€ä¸ªè¢«æ•è·çš„åˆ†ç»„åœ¨æ–‡æœ¬ä¸­çš„ç´¢å¼•ã€‚å¦‚æœæ²¡æœ‰è¢«æ•è·çš„åˆ†ç»„ï¼Œå°†ä¸ºNoneã€‚ lastgroup: æœ€åä¸€ä¸ªè¢«æ•è·çš„åˆ†ç»„çš„åˆ«åã€‚å¦‚æœè¿™ä¸ªåˆ†ç»„æ²¡æœ‰åˆ«åæˆ–è€…æ²¡æœ‰è¢«æ•è·çš„åˆ†ç»„ï¼Œå°†ä¸ºNoneã€‚  matchæ–¹æ³•ï¼š\n group([group1, â€¦]): è·å¾—ä¸€ä¸ªæˆ–å¤šä¸ªåˆ†ç»„æˆªè·çš„å­—ç¬¦ä¸²ï¼›æŒ‡å®šå¤šä¸ªå‚æ•°æ—¶å°†ä»¥å…ƒç»„å½¢å¼è¿”å›ã€‚group1å¯ä»¥ä½¿ç”¨ç¼–å·ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ«åï¼›ç¼–å·0ä»£è¡¨æ•´ä¸ªåŒ¹é…çš„å­ä¸²ï¼›ä¸å¡«å†™å‚æ•°æ—¶ï¼Œè¿”å›group(0)ï¼›æ²¡æœ‰æˆªè·å­—ç¬¦ä¸²çš„ç»„è¿”å›Noneï¼›æˆªè·äº†å¤šæ¬¡çš„ç»„è¿”å›æœ€åä¸€æ¬¡æˆªè·çš„å­ä¸²ã€‚ groups([default]): ä»¥å…ƒç»„å½¢å¼è¿”å›å…¨éƒ¨åˆ†ç»„æˆªè·çš„å­—ç¬¦ä¸²ã€‚ç›¸å½“äºè°ƒç”¨group(1,2,â€¦last)ã€‚defaultè¡¨ç¤ºæ²¡æœ‰æˆªè·å­—ç¬¦ä¸²çš„ç»„ä»¥è¿™ä¸ªå€¼æ›¿ä»£ï¼Œé»˜è®¤ä¸ºNoneã€‚ groupdict([default]): è¿”å›ä»¥æœ‰åˆ«åçš„ç»„çš„åˆ«åä¸ºé”®ã€ä»¥è¯¥ç»„æˆªè·çš„å­ä¸²ä¸ºå€¼çš„å­—å…¸ï¼Œæ²¡æœ‰åˆ«åçš„ç»„ä¸åŒ…å«åœ¨å†…ã€‚defaultå«ä¹‰åŒä¸Šã€‚ start([group]): è¿”å›æŒ‡å®šçš„ç»„æˆªè·çš„å­ä¸²åœ¨stringä¸­çš„èµ·å§‹ç´¢å¼•ï¼ˆå­ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ç´¢å¼•ï¼‰ã€‚groupé»˜è®¤å€¼ä¸º0ã€‚ end([group]): è¿”å›æŒ‡å®šçš„ç»„æˆªè·çš„å­ä¸²åœ¨stringä¸­çš„ç»“æŸç´¢å¼•ï¼ˆå­ä¸²æœ€åä¸€ä¸ªå­—ç¬¦çš„ç´¢å¼•+1ï¼‰ã€‚groupé»˜è®¤å€¼ä¸º0ã€‚ span([group]): è¿”å›(start(group), end(group))ã€‚ expand(template): å°†åŒ¹é…åˆ°çš„åˆ†ç»„ä»£å…¥templateä¸­ç„¶åè¿”å›ã€‚templateä¸­å¯ä»¥ä½¿ç”¨\\idæˆ–\\gã€\\gå¼•ç”¨åˆ†ç»„ï¼Œä½†ä¸èƒ½ä½¿ç”¨ç¼–å·0ã€‚\\idä¸\\gæ˜¯ç­‰ä»·çš„ï¼›ä½†\\10å°†è¢«è®¤ä¸ºæ˜¯ç¬¬10ä¸ªåˆ†ç»„ï¼Œå¦‚æœä½ æƒ³è¡¨è¾¾\\1ä¹‹åæ˜¯å­—ç¬¦'0\u0026rsquo;ï¼Œåªèƒ½ä½¿ç”¨\\g\u0026lt;1\u0026gt;0ã€‚  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  import re m = re.match(r\u0026#39;(\\w+) (\\w+)(?P\u0026lt;sign\u0026gt;.*)\u0026#39;, \u0026#39;hello hanxiaoyang!\u0026#39;)#?P\u0026lt;sign\u0026gt;.*æ˜¯æ ‡ç‚¹çš„æ„æ€ print \u0026#34;m.string:\u0026#34;, m.string print \u0026#34;m.re:\u0026#34;, m.re print \u0026#34;m.pos:\u0026#34;, m.pos print \u0026#34;m.endpos:\u0026#34;, m.endpos print \u0026#34;m.lastindex:\u0026#34;, m.lastindex print \u0026#34;m.lastgroup:\u0026#34;, m.lastgroup print \u0026#34;m.group(1,2):\u0026#34;, m.group(1, 2) print \u0026#34;m.groups():\u0026#34;, m.groups() print \u0026#34;m.groupdict():\u0026#34;, m.groupdict() print \u0026#34;m.start(2):\u0026#34;, m.start(2) print \u0026#34;m.end(2):\u0026#34;, m.end(2) print \u0026#34;m.span(2):\u0026#34;, m.span(2) print r\u0026#34;m.expand(r\u0026#39;\\2 \\1\\3\u0026#39;):\u0026#34;, m.expand(r\u0026#39;\\2 \\1\\3\u0026#39;)   m.string: hello hanxiaoyang! m.re: \u0026lt;_sre.SRE_Pattern object at 0x10b111be0\u0026gt; m.pos: 0 m.endpos: 18 m.lastindex: 3 m.lastgroup: sign m.group(1,2): ('hello', 'hanxiaoyang') m.groups(): ('hello', 'hanxiaoyang', '!') m.groupdict(): {'sign': '!'} m.start(2): 6 m.end(2): 17 m.span(2): (6, 17) m.expand(r'\\2 \\1\\3'): hanxiaoyang hello! Patternå¯¹è±¡æ˜¯ä¸€ä¸ªç¼–è¯‘å¥½çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œé€šè¿‡Patternæä¾›çš„ä¸€ç³»åˆ—æ–¹æ³•å¯ä»¥å¯¹æ–‡æœ¬è¿›è¡ŒåŒ¹é…æŸ¥æ‰¾ã€‚ Patternä¸èƒ½ç›´æ¥å®ä¾‹åŒ–ï¼Œå¿…é¡»ä½¿ç”¨re.compile()è¿›è¡Œæ„é€ ã€‚ Patternæä¾›äº†å‡ ä¸ªå¯è¯»å±æ€§ç”¨äºè·å–è¡¨è¾¾å¼çš„ç›¸å…³ä¿¡æ¯ï¼š * pattern: ç¼–è¯‘æ—¶ç”¨çš„è¡¨è¾¾å¼å­—ç¬¦ä¸²ã€‚ * flags: ç¼–è¯‘æ—¶ç”¨çš„åŒ¹é…æ¨¡å¼ã€‚æ•°å­—å½¢å¼ã€‚ * groups: è¡¨è¾¾å¼ä¸­åˆ†ç»„çš„æ•°é‡ã€‚ * groupindex: ä»¥è¡¨è¾¾å¼ä¸­æœ‰åˆ«åçš„ç»„çš„åˆ«åä¸ºé”®ã€ä»¥è¯¥ç»„å¯¹åº”çš„ç¼–å·ä¸ºå€¼çš„å­—å…¸ï¼Œæ²¡æœ‰åˆ«åçš„ç»„ä¸åŒ…å«åœ¨å†…ã€‚ 1 2 3 4 5 6 7  import re p = re.compile(r\u0026#39;(\\w+) (\\w+)(?P\u0026lt;sign\u0026gt;.*)\u0026#39;, re.DOTALL) print \u0026#34;p.pattern:\u0026#34;, p.pattern print \u0026#34;p.flags:\u0026#34;, p.flags print \u0026#34;p.groups:\u0026#34;, p.groups print \u0026#34;p.groupindex:\u0026#34;, p.groupindex   p.pattern: (\\w+) (\\w+)(?P\u0026lt;sign\u0026gt;.*) p.flags: 16 p.groups: 3 p.groupindex: {'sign': 3} patternåŒ¹é…ä¸æ›¿æ¢  match(string[, pos[, endpos]]) | re.match(pattern, string[, flags]): è¿™ä¸ªæ–¹æ³•å°†ä»stringçš„posä¸‹æ ‡å¤„èµ·å°è¯•åŒ¹é…pattern:  å¦‚æœpatternç»“æŸæ—¶ä»å¯åŒ¹é…ï¼Œåˆ™è¿”å›ä¸€ä¸ªMatchå¯¹è±¡ å¦‚æœåŒ¹é…è¿‡ç¨‹ä¸­patternæ— æ³•åŒ¹é…ï¼Œæˆ–è€…åŒ¹é…æœªç»“æŸå°±å·²åˆ°è¾¾endposï¼Œåˆ™è¿”å›Noneã€‚ poså’Œendposçš„é»˜è®¤å€¼åˆ†åˆ«ä¸º0å’Œlen(string)ã€‚ **æ³¨æ„ï¼šè¿™ä¸ªæ–¹æ³•å¹¶ä¸æ˜¯å®Œå…¨åŒ¹é…ã€‚å½“patternç»“æŸæ—¶è‹¥stringè¿˜æœ‰å‰©ä½™å­—ç¬¦ï¼Œä»ç„¶è§†ä¸ºæˆåŠŸã€‚æƒ³è¦å®Œå…¨åŒ¹é…ï¼Œå¯ä»¥åœ¨è¡¨è¾¾å¼æœ«å°¾åŠ ä¸Šè¾¹ç•ŒåŒ¹é…ç¬¦'$\u0026rsquo;ã€‚ **   search(string[, pos[, endpos]]) | re.search(pattern, string[, flags]): è¿™ä¸ªæ–¹æ³•ä»stringçš„posä¸‹æ ‡å¤„èµ·å°è¯•åŒ¹é…pattern  å¦‚æœpatternç»“æŸæ—¶ä»å¯åŒ¹é…ï¼Œåˆ™è¿”å›ä¸€ä¸ªMatchå¯¹è±¡ è‹¥æ— æ³•åŒ¹é…ï¼Œåˆ™å°†posåŠ 1åé‡æ–°å°è¯•åŒ¹é…ï¼Œç›´åˆ°pos=endposæ—¶ä»æ— æ³•åŒ¹é…åˆ™è¿”å›Noneã€‚ poså’Œendposçš„é»˜è®¤å€¼åˆ†åˆ«ä¸º0å’Œlen(string))    1 2 3 4 5 6 7 8 9 10 11 12 13  # encoding: UTF-8  import re # å°†æ­£åˆ™è¡¨è¾¾å¼ç¼–è¯‘æˆPatternå¯¹è±¡  pattern = re.compile(r\u0026#39;H.*g\u0026#39;) # ä½¿ç”¨search()æŸ¥æ‰¾åŒ¹é…çš„å­ä¸²ï¼Œä¸å­˜åœ¨èƒ½åŒ¹é…çš„å­ä¸²æ—¶å°†è¿”å›None  # è¿™ä¸ªä¾‹å­ä¸­ä½¿ç”¨match()æ— æ³•æˆåŠŸåŒ¹é…  match = pattern.search(\u0026#39;hello Hanxiaoyang!\u0026#39;) if match: # ä½¿ç”¨Matchè·å¾—åˆ†ç»„ä¿¡æ¯  print match.group()#Hanxiaoyang    split(string[, maxsplit]) | re.split(pattern, string[, maxsplit]):  æŒ‰ç…§èƒ½å¤ŸåŒ¹é…çš„å­ä¸²å°†stringåˆ†å‰²åè¿”å›åˆ—è¡¨ã€‚ maxsplitç”¨äºæŒ‡å®šæœ€å¤§åˆ†å‰²æ¬¡æ•°ï¼Œä¸æŒ‡å®šå°†å…¨éƒ¨åˆ†å‰²ã€‚    1 2 3 4  import re p = re.compile(r\u0026#39;\\d+\u0026#39;) print p.split(\u0026#39;one12306two2three3four4\u0026#39;)   ['one', 'two', 'three', 'four', '']  findall(string[, pos[, endpos]]) | re.findall(pattern, string[, flags]):  æœç´¢stringï¼Œä»¥åˆ—è¡¨å½¢å¼è¿”å›å…¨éƒ¨èƒ½åŒ¹é…çš„å­ä¸²ã€‚    1 2 3 4  import re p = re.compile(r\u0026#39;\\d+\u0026#39;) print p.findall(\u0026#39;one12306two2three3four4\u0026#39;)   ['12306', '2', '3', '4']  **finditer(string[, pos[, endpos]]) | re.finditer(pattern, string[, flags]): **  æœç´¢stringï¼Œè¿”å›ä¸€ä¸ªé¡ºåºè®¿é—®æ¯ä¸€ä¸ªåŒ¹é…ç»“æœï¼ˆMatchå¯¹è±¡ï¼‰çš„è¿­ä»£å™¨ã€‚    1 2 3 4 5  import re p = re.compile(r\u0026#39;\\d+\u0026#39;) for m in p.finditer(\u0026#39;one1two2three3four4\u0026#39;): print m.group()   1 2 3 4  **sub(repl, string[, count]) | re.sub(pattern, repl, string[, count]): **  ä½¿ç”¨replæ›¿æ¢stringä¸­æ¯ä¸€ä¸ªåŒ¹é…çš„å­ä¸²åè¿”å›æ›¿æ¢åçš„å­—ç¬¦ä¸²ã€‚  å½“replæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œå¯ä»¥ä½¿ç”¨\\idæˆ–\\gã€\\gå¼•ç”¨åˆ†ç»„ï¼Œä½†ä¸èƒ½ä½¿ç”¨ç¼–å·0ã€‚ å½“replæ˜¯ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•åº”å½“åªæ¥å—ä¸€ä¸ªå‚æ•°ï¼ˆMatchå¯¹è±¡ï¼‰ï¼Œå¹¶è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ç”¨äºæ›¿æ¢ï¼ˆè¿”å›çš„å­—ç¬¦ä¸²ä¸­ä¸èƒ½å†å¼•ç”¨åˆ†ç»„ï¼‰ã€‚\ncountç”¨äºæŒ‡å®šæœ€å¤šæ›¿æ¢æ¬¡æ•°ï¼Œä¸æŒ‡å®šæ—¶å…¨éƒ¨æ›¿æ¢ã€‚      1 2 3 4 5 6 7 8 9 10 11  import re p = re.compile(r\u0026#39;(\\w+) (\\w+)\u0026#39;) s = \u0026#39;i say, hello hanxiaoyang!\u0026#39; print p.sub(r\u0026#39;\\2 \\1\u0026#39;, s) def func(m): return m.group(1).title() + \u0026#39;\u0026#39; + m.group(2).title() print p.sub(func, s)   say i, hanxiaoyang hello! I Say, Hello Hanxiaoyang!  **subn(repl, string[, count]) |re.sub(pattern, repl, string[, count]): **  è¿”å› (sub(repl, string[, count]), æ›¿æ¢æ¬¡æ•°)ã€‚    import re p = re.compile(r'(\\w+) (\\w+)') s = 'i say, hello hanxiaoyang!' print p.subn(r'\\2 \\1', s) def func(m): return m.group(1).title() + ' ' + m.group(2).title() print p.subn(func, s) ('say i, hanxiaoyang hello!', 2) ('I Say, Hello Hanxiaoyang!', 2) "
},
{
	"uri": "https://lczen.github.io/en/posts/python/",
	"title": "Pythonå­¦ä¹ ",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": "PythonåŸºç¡€ Pythonè¿è¡Œæ–¹å¼ è§£é‡Šè¿è¡Œ æ–°å»ºpyæ–‡ä»¶ï¼Œç›´æ¥è¿è¡Œ\n1 2  %%writefile print_str.py print(\u0026#34;æ¬¢è¿å¤§å®¶å­¦ä¹ è¯¾ç¨‹å†…å®¹ï¼\u0026#34;)   äº¤äº’è¿è¡Œ ipython, notebook\nPythonæ ‡è¯†ç¬¦ 1 2 3 4  #å¦‚ä»¥ä¸‹æ ‡è¯†ç¬¦å–åé”™è¯¯ for=\u0026#39;chinahadoop.cn\u0026#39; 7a=8 str=\u0026#39;å°è±¡å­¦é™¢\u0026#39;   å¥½çš„å‘½åä¹ æƒ¯   å˜é‡ï¼Œå‡½æ•°æˆ–æ–¹æ³•:salary,houseworker,booksname å¸¸é‡ï¼šINTEREST_RATES ç±»ï¼šBankAccount,Employee,Company,OrderedDict #éª†å³°å‘½åæ³•   æ“ä½œç¬¦ä¼˜å…ˆçº§ ç¬¬1å - å‡½æ•°è°ƒç”¨ã€å¯»å€ã€ä¸‹æ ‡ ç¬¬2å - å¹‚è¿ç®— ** ç¬¬3å - ç¿»è½¬è¿ç®—ç¬¦ ~ ç¬¬4å - æ­£è´Ÿå· ç¬¬5å - *ã€/ã€% ç¬¬6å - +ã€- å–å•†è¿ç®—å’Œå¼€æ–¹ a//b #å–å•†\na**0.5 #å¼€æ–¹\n7.inå’Œnot inæ“ä½œé€‚ç”¨äºstr 1 2 3  websiteUrl=\u0026#39;chinahadoop.cn\u0026#39; if \u0026#39;.net\u0026#39; not in websiteUrl: print (\u0026#39;.net not in it\u0026#39;)   8.èµ‹å€¼æ“ä½œ 1 2 3  a=b=100 a,b,c=100,200,200 a,b=b,a#äº¤æ¢èµ‹å€¼   åŸºæœ¬æ•°æ®ç±»å‹ä¸æ•°æ®ç»“æ„ åŸºæœ¬æ•°æ®ç±»å‹ ç±»å‹ï¼š\nnumberï¼š\nint,float,complex\nboolean,String,List,Tuple,Dictionary\nç±»å‹è½¬æ¢ï¼š\nint(a),str(a),eval(x),tuple(x),list(x),chr(x) # æ•´æ•°è½¬æ¢ä¸ºå­—ç¬¦\næ•°å€¼å‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  #è¿›åˆ¶è½¬æ¢ a=0b0101001#bin() b=0o4#oct() c=0x28#hex() #æµ®ç‚¹å‹ pi=3.1415 #ç§‘å­¦è®¡ç®—æ³• c=5e13 print(c) #æ•°å­—çš„æ­£è´Ÿæ— ç©· #float(\u0026#39;inf\u0026#39;)æ­£æ— ç©· #float(\u0026#39;-inf\u0026#39;)è´Ÿæ— ç©· if 99999999999999999\u0026lt;float(\u0026#39;inf\u0026#39;): print(\u0026#39;you win!\u0026#39;) #å¤æ•° a=4.3+22j type(a) #æ•°å€¼ç±»å‹è½¬æ¢ a=4.48 b=8 int(a) # ä¿ç•™nä½å°æ•°å››èˆäº”å…¥ round(pi,3)   å­—ç¬¦ä¸²å‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  str2=\u0026#39;chinahadoop.cn\u0026#39; #str2[startğŸ”šstride] #åˆ‡ç‰‡è®¿é—®çš„ç‰¹ç‚¹ï¼šå·¦é—­å³å¼€[) str2[0::2] #ä»indexä¸º0åˆ°ç»“å°¾ï¼Œæ¯éš”2-1=1ä¸ªå­—ç¬¦å–ä¸€æ¬¡ #æ ¼å¼åŒ–è®¿é—®1 companyName=\u0026#39;chinahadoop\u0026#39; str3=\u0026#39;http://{}.cn\u0026#39; print(str3.format(companyName)) #æ ¼å¼åŒ–è®¿é—®2 print(\u0026#34;Company name is %s\u0026#34; %companyName) #æ ¼å¼åŒ–è®¿é—®3 _=\u0026#39;Python 3.6\u0026#39;#fstring only can be used under version 3.6 str4=f\u0026#34;fstring is new feature of {_}\u0026#34; str4 #æŸ¥æ‰¾ä¸æ›¿æ¢ str3.find(\u0026#39;o\u0026#39;) str3.replace(\u0026#39;.cn\u0026#39;,\u0026#39;.net\u0026#39;) #ç»Ÿè®¡ str3.count(\u0026#39;cn\u0026#39;)   æ•°æ®ç»“æ„ åˆ—è¡¨list åˆ—è¡¨[]:ä»»æ„å…ƒç´ ç±»å‹å¯¹è±¡çš„åºåˆ—\n1 2 3 4 5 6 7 8 9  #appendå’Œextend # åˆ—è¡¨è¿½åŠ  l2.append([\u0026#39;last\u0026#39;, \u0026#39;elem\u0026#39;]) #è¿½åŠ 1ä¸ªå…ƒç´ ï¼Œè¿™ä¸ªå…ƒç´ æ˜¯åˆ—è¡¨ l2.extend([\u0026#39;new\u0026#39;, \u0026#39;item\u0026#39;]) #è¿½åŠ åˆ—è¡¨ l2 + l1 #è¿½åŠ åˆ—è¡¨ # åˆ—è¡¨åˆ é™¤å…ƒç´  l2.pop() #è¿”å›æœ€å°¾éƒ¨å…ƒç´ ï¼Œå¹¶åˆ é™¤è¯¥å…ƒç´  l2.remove(\u0026#39;china\u0026#39;) #ç§»é™¤åˆ—è¡¨ä¸­çš„æŸä¸ªå€¼çš„ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ï¼Œæ²¡æœ‰è¿”å›å€¼   1 2 3 4 5  # å­—ç¬¦ä¸²åˆ—è¡¨çš„æ‹¼æ¥ä¸åˆ†å‰² l3 = [\u0026#39;I\u0026#39;, \u0026#39;love\u0026#39;, \u0026#39;China\u0026#39;] \u0026#34;_\u0026#34;.join(l3) #ç”¨ä¸‹åˆ’çº¿æ‹¼æ¥åˆ—è¡¨å…ƒç´ (éœ€è¦æ˜¯å­—ç¬¦ä¸²) a = \u0026#34;#\u0026#34;.join(l3) a.split(\u0026#34;#\u0026#34;) #ç”¨äº•å·åˆ‡åˆ†å­—ç¬¦ä¸²ç”Ÿæˆåˆ—è¡¨   1 2 3 4 5 6 7 8 9 10 11 12 13  # åˆ—è¡¨æ’åº my_list = [5,1,2,4,3] my_list.sort() #å¯¹my_listæ’åºï¼Œç›´æ¥æ”¹å˜my_list new_list = [5,1,2,4,3] sorted(new_list) #å¯¹new_listæ’åºï¼Œä»¥è¿”å›å€¼è¿”å›æ’åºç»“æœï¼Œå¹¶ä¸æ”¹å˜new_list # sortedé«˜çº§ç”¨æ³• tmp_strs = [\u0026#39;aa\u0026#39;, \u0026#39;BBc\u0026#39;, \u0026#39;CCdd\u0026#39;, \u0026#39;zzmm\u0026#39;] sorted(tmp_strs) #æŒ‰ç…§å­—æ¯åºæ’åº sorted(tmp_strs, reverse=True) #æŒ‰ç…§å­—æ¯åºé™åºæ’åº sorted(tmp_strs, key=len) #æ ¹æ®keyå¯¹å…ƒç´ åšå¤„ç†åçš„ç»“æœå¯¹åŸåºåˆ—æ’åºï¼Œè¿™é‡Œçš„lenæ˜¯å‡½æ•°ï¼Œè¿”å›å­—ç¬¦ä¸²é•¿åº¦ sorted(tmp_strs, key=str.lower) #æ ¹æ®å°å†™åçš„ç»“æœå­—æ¯åºæ’åº sorted(word_dic.items(), key=lambda d: d[1], reverse=True)#å­—å…¸æŒ‰ç…§valueæ’åº   å…ƒç»„tuple 1 2 3 4 5 6 7 8 9  #å…ƒç»„()tuple,åªè¯»åˆ—è¡¨ t1=(1,2,3,4) #åªè¯»åˆ—è¡¨æ˜¯çœŸçš„åªè¯»å—ï¼Ÿ t2=(1,2,3,[4,5,6]) t2[0]=11#æŠ¥é”™ tup = (\u0026#39;physics\u0026#39;, \u0026#39;chemistry\u0026#39;, 1997, 2000) tup1 = (50,) #å…ƒç»„ä¸­åªåŒ…å«ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œéœ€è¦åœ¨å…ƒç´ åé¢æ·»åŠ é€—å· tup[1:] #å…ƒç»„çš„åˆ‡ç‰‡æ‹¼æ¥å’Œlistä¸€æ ·   é›†åˆset(å»é‡éå¸¸å¥½ç”¨) 1 2 3 4  #é›†åˆ{}setï¼šæ— åºçš„ä¸é‡å¤å…ƒç´ ,é›†åˆä¸­çš„å¯¹è±¡ï¼Œé€šå¸¸å«key s1={1,1,1,2,3,4,5,2,4,234} l2=[1,1,1,2,3,4,5,2,4,234] set(l2)   å­—å…¸ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  # å­—å…¸æ˜¯å¦ä¸€ç§å¯å˜å®¹å™¨æ¨¡å‹ï¼Œä¸”å¯å­˜å‚¨ä»»æ„ç±»å‹å¯¹è±¡ã€‚ # å­—å…¸çš„æ¯ä¸ªé”®å€¼ key=\u0026gt;value å¯¹ç”¨å†’å· : åˆ†å‰²ï¼Œæ¯ä¸ªé”®å€¼å¯¹ä¹‹é—´ç”¨é€—å· , åˆ†å‰²ï¼Œæ•´ä¸ªå­—å…¸åŒ…æ‹¬åœ¨èŠ±æ‹¬å· {} ä¸­ my_dict = {\u0026#39;HanXiaoyang\u0026#39;: 1234, \u0026#39;Jason\u0026#39;: 4567, \u0026#39;David\u0026#39;: 6789} #å®šä¹‰å­—å…¸ ks = my_dict.keys() #å–å‡ºæ‰€æœ‰çš„key vs = my_dict.values() #å–å‡ºæ‰€æœ‰çš„values Hv = my_dict[\u0026#39;HanXiaoyang\u0026#39;] #æ ¹æ®keyå–å¯¹åº”çš„value Dv = my_dict.get(\u0026#39;XiaoMing\u0026#39;, 2345) #æ ¹æ®keyå»å–valueï¼Œå¦‚æœkeyä¸å­˜åœ¨è¿”å›é»˜è®¤å€¼ my_dict[\u0026#39;HanXiaoyang\u0026#39;] = 7890 #æ”¹å˜å­—å…¸ä¸­keyå¯¹åº”çš„valueå€¼ flag = \u0026#39;DaDa\u0026#39; in my_dict #åˆ¤æ–­æ˜¯å¦æœ‰æŸä¸ªkey # éå†å­—å…¸å…ƒç´  for key in my_dict: print(key,my_dict[key]) from collections import OrderedDict # æ³¨æ„ï¼Œå­—å…¸æ˜¯ä¸€ç§é”®å€¼å¯¹æ•°æ®ç»“æ„ï¼Œæœ¬èº«æ˜¯æ— åºçš„ï¼Œå¦‚æœéœ€è¦é¡ºåºï¼Œå¯ä»¥ç”¨OrderedDict od1=OrderedDict()#æŒ‰ä¸»é”®é¦–æ¬¡æ’å…¥é¡ºåºè¿›è¡Œæ’åº od1[\u0026#39;a\u0026#39;]=7 od1[\u0026#39;z\u0026#39;]=8 od1[\u0026#39;b\u0026#39;]=9   å£°æ˜Statementä¸Expressionè¡¨è¾¾å¼ 1 2 3 4 5 6 7 8 9 10 11  #statementå£°æ˜ a=\u0026#39;å°è±¡å­¦é™¢\u0026#39;#statementé€šå¸¸ä¸ºèµ‹å€¼è¯­å¥ b=100 c=a #Expressionè¡¨è¾¾å¼ #å€¼ã€å˜é‡å’Œè¿ç®—ç¬¦å…±åŒç»„æˆçš„æ•´ä½“æˆ‘ä»¬å°†å…¶ç§°ä¸ºè¡¨è¾¾å¼ã€‚é€šå¸¸æœ‰å€¼è¡¨è¾¾å¼ã€å˜é‡è¡¨è¾¾å¼ã€è®¡ç®—è¡¨è¾¾å¼ã€å­—ç¬¦ä¸²è¡¨è¾¾å¼, b,b+100,a+\u0026#39;is amazing\u0026#39;,__builtins__ #execæ‰§è¡Œå£°æ˜è¯­å¥,evalæ‰§è¡Œè¡¨è¾¾å¼ exec(\u0026#39;a=5\u0026#39;) b=3 eval(\u0026#39;a+b+5\u0026#39;)   åˆ¤æ–­ï¼šifï¼Œ if else ,if elif elifä¸ä¸‰å…ƒè¡¨è¾¾å¼ 1  \u0026#39;a\u0026#39; if age\u0026gt;50 else \u0026#39;b\u0026#39;   åˆ—è¡¨æ¨å¯¼å¼List Comprehensionsï¼Œå¯è¿­ä»£å¯¹è±¡Iterableä¸è¿­ä»£å™¨iterator,ç”Ÿæˆå™¨generator 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39  #åˆ—è¡¨æ¨å¯¼å¼ï¼šä»ä¸€ä¸ªåˆ—è¡¨ä¸­ç”Ÿæˆä¸€ä¸ªæ–°çš„åˆ—è¡¨ï¼Œç®€åŒ–äº†å¾ªç¯çš„å†™æ³• l1= [x+1 for x in range(30) if x%3==0] #æ–°çš„listä¸­çš„å…ƒç´ ï¼Œæ¥æºäºä»0-29è¿™ä¸ªlistä¸­æ‰€æœ‰æ•´é™¤3çš„å…ƒç´ +1 l1=[0, 3, 6, 9, 12, 15, 18, 21, 24, 27] l2=iter(l1) l2.__next__() #å¯è¿­ä»£å¯¹è±¡Iterableï¼šå¯ä»¥è¢«forå¾ªç¯çš„å¯¹è±¡ç»Ÿç§°ä¸ºå¯è¿­ä»£å¯¹è±¡Iterable,list,str,dictè¿™äº›éƒ½æ˜¯å¯è¿­ä»£ç±»å‹ #è¿­ä»£å™¨Iteratorï¼šå¯ä»¥è¢«nextè°ƒç”¨çš„è¿­ä»£å™¨ã€‚ #next(l1) #TypeError: \u0026#39;list\u0026#39; object is not an iterator #ä½¿ç”¨iterå°†ä¸€æ¥ä¸ªå¯è¿­ä»£å¯¹è±¡å˜ä¸ºè¿­ä»£å™¨ l1=iter(l1) next(l1),next(l1) #ç”Ÿæˆå™¨Generatorï¼šé¦–å…ˆæ˜¯ä¸€ä¸ªè¿­ä»£å™¨ï¼Œç„¶åå…¶å†…å®¹æ˜¯æŒ‰éœ€ç”Ÿæˆ #åˆ—è¡¨æ˜¯ä¸€æ¬¡æ€§ç”Ÿæˆï¼Œç¼ºç‚¹æ˜¯å½“å†…å®¹è¿‡å¤§æ—¶ä¼šå ç”¨å¤§é‡å†…å®¹ï¼Œé‚£èƒ½ä¸èƒ½ç”¨åˆ°å¤šå°‘ç”Ÿæˆå¤šå°‘å‘¢ï¼Ÿ #Pythoné‡Œä¸€è¾¹å¾ªç¯ä¸€è¾¹è®¡ç®—(æƒ°æ€§è®¡ç®—)çš„è¿­ä»£å™¨ç§°ä¸ºç”Ÿæˆå™¨ï¼ˆGeneratorï¼‰ #1.ç›´æ¥ä»åˆ—è¡¨è¡¨è¾¾å¼ç”Ÿæˆ g1= (x**2 for x in range(30) if x%2==0) type(g1) #\u0026lt;class \u0026#39;generator\u0026#39;\u0026gt; next(g1),next(g1),next(g1),next(g1),g1.__next__(),g1.__next__() #2.å‡½æ•°ç”Ÿæˆï¼Œä¸yieldå…³é”®å­— def g2_func(n): for i in range(n): yield i**2 g2=g2_func(7) next(g2),next(g2),g2.__next__(),g2.__next__(),g2.__next__(),g2.__next__() #yield from/å­è¿­ä»£å™¨ï¼Œåé¢ç›´æ¥æ˜¯å¯è¿­ä»£å¯¹è±¡ã€‚ def yield_from_iter(iter_object): yield from iter_object y1=yield_from_iter(\u0026#39;China\u0026#39;) y1.__next__(),next(y1)   å¤„ç†å¼‚å¸¸ 1 2 3 4 5 6 7 8 9 10 11 12  #try-finally æ— æ³•æ˜¯å¦æ•è·äº†å¼‚å¸¸ï¼Œéƒ½ä¼šæ‰§è¡Œfinallyåçš„è¯­å¥ x = 5 #y = 2 y = 0 try: result = x / y except ZeroDivisionError: print(\u0026#34;division by zero!\u0026#34;) else: print(\u0026#34;result is\u0026#34;, result) finally: print(\u0026#34;executing finally clause\u0026#34;)   å‡½æ•°å®šä¹‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32  # å®šä¹‰æ–æ³¢é‚£å¥‘æ•°åˆ— def fib(n): a, b =1, 1 for i in range(n): print(a, end=\u0026#34;\u0026#34;) a,b = b,a+b print() # å‡½æ•°é»˜è®¤å‚æ•° def printinfo(name, age = 35): print(\u0026#34;å§“å:\u0026#34;, name) print(\u0026#34;å¹´é¾„:\u0026#34;, age) return #è°ƒç”¨printinfoå‡½æ•° printinfo(age=50, name=\u0026#34;éš”å£è€ç‹\u0026#34;); printinfo(name=\u0026#34;éš”å£è€ç‹\u0026#34;); def printinfo(arg1, *vartuple): \u0026#34;æ‰“å°ä»»ä½•ä¼ å…¥çš„å‚æ•°\u0026#34; print(\u0026#34;è¾“å‡º:\u0026#34;) print(arg1) print(vartuple) return # è°ƒç”¨printinfo å‡½æ•° printinfo(10) printinfo(70, 60, 50) # python ä½¿ç”¨ lambda æ¥åˆ›å»ºåŒ¿åå‡½æ•°ã€‚lambda [arg1,arg2,.....argn]:expression sum = lambda arg1, arg2: arg1 + arg2; # è°ƒç”¨sumå‡½æ•° print(\u0026#34;ç›¸åŠ åçš„å€¼ä¸º:\u0026#34;, sum( 10, 20 )) print(\u0026#34;ç›¸åŠ åçš„å€¼ä¸º:\u0026#34;, sum( 20, 30 ))   filterå’Œmapå’Œreduce 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  #filter()å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‡½æ•° f å’Œä¸€ä¸ªlistï¼Œè¿™ä¸ªå‡½æ•° f çš„ä½œç”¨æ˜¯å¯¹æ¯ä¸ªå…ƒç´ è¿›è¡Œåˆ¤æ–­ï¼Œè¿”å› Trueæˆ– Falseï¼Œfilter()æ ¹æ®åˆ¤æ–­ç»“æœè‡ªåŠ¨è¿‡æ»¤æ‰ä¸ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œè¿”å›ç”±ç¬¦åˆæ¡ä»¶å…ƒç´ ç»„æˆçš„æ–°listã€‚ #åˆ¤æ–­æ˜¯å¦ä¸ºæ­£æ•° def is_positive(x): return x \u0026gt; 0 result = filter(is_positive,[1,3,5,-1,-10,0]) list(result) #map()æ˜¯ Python å†…ç½®çš„é«˜é˜¶å‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå‡½æ•° f å’Œä¸€ä¸ª listï¼Œå¹¶é€šè¿‡æŠŠå‡½æ•° f ä¾æ¬¡ä½œç”¨åœ¨ list çš„æ¯ä¸ªå…ƒç´ ä¸Šï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„ list å¹¶è¿”å›ã€‚ ## æ¯ä¸ªå…ƒç´ æ±‚å¹³æ–¹ def f(x): return x * x result = map(f,[1,3,5,-1,-10,0]) list(result) #reduce()å‡½æ•°ä¹Ÿæ˜¯Pythonå†…ç½®çš„ä¸€ä¸ªé«˜é˜¶å‡½æ•°ã€‚reduce()å‡½æ•°æ¥æ”¶çš„å‚æ•°å’Œ map()ç±»ä¼¼ï¼Œä¸€ä¸ªå‡½æ•° fï¼Œä¸€ä¸ªlistï¼Œä½†è¡Œä¸ºå’Œ map()ä¸åŒï¼Œreduce()ä¼ å…¥çš„å‡½æ•° f å¿…é¡»æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œreduce()å¯¹listçš„æ¯ä¸ªå…ƒç´ åå¤è°ƒç”¨å‡½æ•°fï¼Œå¹¶è¿”å›æœ€ç»ˆç»“æœå€¼ã€‚ from functools import reduce ## æ±‚å’Œ def add(x,y): return x + y result = reduce(add,[1,3,5,-1,-10,0])   counterå‡½æ•° 1  word_dic = dict(collections.Counter(words_box))#ç»Ÿè®¡åˆ—è¡¨words_boxä¸­è¯é¢‘å¹¶è½¬æˆå­—å…¸   æ–‡ä»¶æ“ä½œ æ–‡ä»¶è¯» 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  # è¦ä»¥è¯»æ–‡ä»¶çš„æ¨¡å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶å¯¹è±¡ï¼Œä½¿ç”¨Pythonå†…ç½®çš„`open()`å‡½æ•°ï¼Œä¼ å…¥æ–‡ä»¶åå’Œæ ‡ç¤ºç¬¦ï¼š f = open(\u0026#39;print_str.py\u0026#39;, \u0026#39;r\u0026#39;) # å¦‚æœæ–‡ä»¶æ‰“å¼€æˆåŠŸï¼Œæ¥ä¸‹æ¥ï¼Œè°ƒç”¨read()æ–¹æ³•å¯ä»¥ä¸€æ¬¡è¯»å–æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹ï¼ŒPythonæŠŠå†…å®¹è¯»åˆ°å†…å­˜ï¼Œç”¨ä¸€ä¸ªstrå¯¹è±¡è¡¨ç¤ºï¼š f.read() # æœ€åä¸€æ­¥æ˜¯è°ƒç”¨close()æ–¹æ³•å…³é—­æ–‡ä»¶ã€‚æ–‡ä»¶ä½¿ç”¨å®Œæ¯•åå¿…é¡»å…³é—­ï¼Œå› ä¸ºæ–‡ä»¶å¯¹è±¡ä¼šå ç”¨æ“ä½œç³»ç»Ÿçš„èµ„æº f.close() # å¼‚å¸¸å¤„ç†æ¨¡å¼ try: f = open(\u0026#39;/path/to/file\u0026#39;, \u0026#39;r\u0026#39;) print(f.read()) except Exception as e: print e finally: if f: f.close() # é€è¡Œè¯»å– with open(\u0026#39;test.py\u0026#39;, \u0026#39;r\u0026#39;) as f: for line in f.readlines(): print(line.strip())   æ–‡ä»¶å†™ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  with open(\u0026#39;test.txt\u0026#39;, \u0026#39;w\u0026#39;) as f: f.write(\u0026#39;Hello, world!\\n\u0026#39;) f.write(\u0026#39;new line\u0026#39;) lines = [\u0026#39;Hello, python!\\n\u0026#39;, \u0026#39;New text!\u0026#39;] with open(\u0026#39;new.txt\u0026#39;, \u0026#39;w\u0026#39;) as f: f.writelines(lines) # éœ€è¦ç”¨åˆ°oså†…ç½®æ¨¡å— import os # åˆ—ä¸¾å½“å‰ç»å¯¹è·¯å¾„ os.path.abspath(\u0026#39;.\u0026#39;) # æ–°å»ºæ–‡ä»¶å¤¹ os.mkdir(\u0026#39;./testdir\u0026#39;) # æ–‡ä»¶é‡å‘½å os.rename(\u0026#39;test.txt\u0026#39;, \u0026#39;test2.txt\u0026#39;) # åˆ—å‡ºå½“å‰è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤¹ [x for x in os.listdir(\u0026#39;.\u0026#39;) if os.path.isdir(x)] # åˆ—å‡ºå½“å‰è·¯å¾„ä¸‹çš„æ‰€æœ‰pythonè„šæœ¬æ–‡ä»¶ [x for x in os.listdir(\u0026#39;.\u0026#39;) if os.path.isfile(x) and os.path.splitext(x)[1]==\u0026#39;.py\u0026#39;]   é¢å‘å¯¹è±¡ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33  # ç±»çš„è®¾è®¡ä¸åˆ›å»º # ä½¿ç”¨ class è¯­å¥æ¥åˆ›å»ºä¸€ä¸ªæ–°ç±»ï¼Œclass ä¹‹åä¸ºç±»çš„åç§°å¹¶ä»¥å†’å·ç»“å°¾ï¼Œç±»çš„ä¸»ä½“ç”±ç±»æˆå‘˜ï¼Œæ–¹æ³•ï¼Œæ•°æ®å±æ€§ç»„æˆ class Employee: \u0026#34;æ‰€æœ‰å‘˜å·¥çš„åŸºç±»\u0026#34; empCount = 0 def __init__(self, name, salary): self.name = name self.salary = salary Employee.empCount += 1 def displayCount(self): print(\u0026#34;æ€»å…±é›‡å‘˜æ•°é‡ %d\u0026#34; % Employee.empCount) def displayEmployee(self): print(\u0026#34;å§“å: \u0026#34;, self.name, \u0026#34;, å·¥èµ„: \u0026#34;, self.salary) # empCount å˜é‡æ˜¯ä¸€ä¸ªç±»å˜é‡ï¼Œå®ƒçš„å€¼å°†åœ¨è¿™ä¸ªç±»çš„æ‰€æœ‰å®ä¾‹ä¹‹é—´å…±äº«ã€‚ä½ å¯ä»¥åœ¨å†…éƒ¨ç±»æˆ–å¤–éƒ¨ç±»ä½¿ç”¨ Employee.empCount è®¿é—®ã€‚ # ç¬¬ä¸€ç§æ–¹æ³•__init__()æ–¹æ³•æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–¹æ³•ï¼Œè¢«ç§°ä¸ºç±»çš„æ„é€ å‡½æ•°æˆ–åˆå§‹åŒ–æ–¹æ³•ï¼Œå½“åˆ›å»ºäº†è¿™ä¸ªç±»çš„å®ä¾‹æ—¶å°±ä¼šè°ƒç”¨è¯¥æ–¹æ³• # self ä»£è¡¨ç±»çš„å®ä¾‹ï¼Œself åœ¨å®šä¹‰ç±»çš„æ–¹æ³•æ—¶æ˜¯å¿…é¡»æœ‰çš„ï¼Œè™½ç„¶åœ¨è°ƒç”¨æ—¶ä¸å¿…ä¼ å…¥ç›¸åº”çš„å‚æ•°ã€‚ # åˆ›å»ºå¯¹è±¡ \u0026#34;åˆ›å»º Employee ç±»çš„ç¬¬ä¸€ä¸ªå¯¹è±¡\u0026#34; emp1 = Employee(\u0026#34;å¼ ä¸‰\u0026#34;, 2000) \u0026#34;åˆ›å»º Employee ç±»çš„ç¬¬äºŒä¸ªå¯¹è±¡\u0026#34; emp2 = Employee(\u0026#34;æå››\u0026#34;, 5000) # è°ƒç”¨æˆå‘˜å‡½æ•° emp1.displayEmployee() emp2.displayEmployee() print(\u0026#34;æ€»å…±é›‡å‘˜æ•°%d\u0026#34; % Employee.empCount)   "
},
{
	"uri": "https://lczen.github.io/en/posts/jupyter%E6%93%8D%E4%BD%9C%E6%8A%80%E5%B7%A7/",
	"title": "jupyterå°æŠ€å·§",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": "1.jupyterå®‰è£… 1 2 3 4  conda install jupyter notebook # å®‰è£…anacondaä¹‹åï¼Œä¸‹è½½jupyter notebook conda install -c conda-forge jupyter_contrib_nbextensions # jupyter notebookæ‰©å±•å®‰è£… pip install -i https://pypi.tuna.tsinghua.edu.cn/simple autopep8 # ä»£ç è‡ªåŠ¨è§„èŒƒåŒ–åŒ…   2.jupyter magicå…³é”®å­— %quickref %lsmagic #æŸ¥çœ‹magicæœ‰å“ªäº›magicå‘½ä»¤ #line magic %config ZMQInteractiveShell.ast_node_interactivity='all'#è¿™é‡Œæ˜¯æ‰“å°å¤šè¡Œçš„å¼€å…³ offæ‰“å°å¤šè¡Œ %pprint #cell magic %%writefile test.py #æŠŠä»£ç å†™è¿›pyæ–‡ä»¶ for item in range(100): print(item) %%timeit 100 #100,000æ‰§è¡Œçš„æ—¶é—´ !python -m pip install jupyter_contrib_nbextensions --user !jupyter contrib nbextension install --user --skip-running-check #è¿™é‡ŒæŠ¥é”™ï¼Œä½¿ç”¨condaå®‰è£…å³å¯ !conda install -c conda-forge jupyter_contrib_nbextensions !pip install --user jupyter_nbextensions_configuratorÂ !jupyter nbextensions_configurator enable --user #jupyter æ‰©å±•ä¸‹è½½ï¼Œæ”¯æŒç›®å½• "
},
{
	"uri": "https://lczen.github.io/en/categories/hugo%E5%AE%89%E8%A3%85/",
	"title": "hugoå®‰è£…",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://lczen.github.io/en/posts/hugo%E5%AE%89%E8%A3%85%E7%BD%91%E7%AB%99%E6%8C%87%E4%BB%A4/",
	"title": "hugoå®‰è£…æŒ‡ä»¤",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": "hugoå®‰è£…æŒ‡ä»¤ rootç›®å½•ä¸‹config.tomlä¸­çš„å¤´éƒ¨è¦æ”¹æˆï¼š baseURL = \u0026quot;/\u0026quot; themesDir = \u0026quot;themes\u0026quot; languageCode = \u0026quot;en-us\u0026quot; title = \u0026quot;Zen LU\u0026quot; theme = \u0026quot;m10c\u0026quot; brew install hugo hugo new site zenblog cd zenblog git clone https://github.com/vaga/hugo-theme-m10c.git themes/m10c cd themes ls cd .. hugo server -t m10c --buildDrafts hugo new post/blog.md hugo --theme=m10c --baseUrl=\u0026quot;https://lczen.github.io/\u0026quot; --buildDrafts cd public git init git add . git commit -m \u0026quot;æˆ‘çš„hugoæ–‡ä»¶ç¬¬ä¸€æ¬¡æäº¤\u0026quot; git remote add origin https://github.com/lczen/lczen.github.io.git git pull origin master --allow-unrelated-histories(æˆ‘ç¬¬äºŒæ¬¡æ¢ä¸»é¢˜çš„æ—¶å€™ç”¨äº†è¿™ä¸ª) git push -u origin master #åé¢æ¯æ¬¡æ›´æ–°ç›´æ¥ç”¨ä¸‹é¢ä»£ç ï¼š ä¿®æ”¹ä»¥åï¼š cd /users/zen/xiaolou hugo --theme=zzo --baseUrl=\u0026quot;https://lczen.github.io/\u0026quot; --buildDrafts cd public git init git add . git remote add origin https://github.com/lczen/lczen.github.io.git git commit -m â€œjustmacâ€ git pull origin master --allow-unrelated-histories git push -u origin master markdownæ˜¾ç¤ºå›¾ç‰‡ "
},
{
	"uri": "https://lczen.github.io/en/archive/",
	"title": "Archive",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "Archive Page",
	"content": "archive page\n"
},
{
	"uri": "https://lczen.github.io/en/about/",
	"title": "About",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "Hugo, the worldâ€™s fastest framework for building websites",
	"content": "Written in Go, Hugo is an open source static site generator available under the Apache Licence 2.0. Hugo supports TOML, YAML and JSON data file types, Markdown and HTML content files and uses shortcodes to add rich content. Other notable features are taxonomies, multilingual mode, image processing, custom output formats, HTML/CSS/JS minification and support for Sass SCSS workflows.\nHugo makes use of a variety of open source projects including:\n https://github.com/russross/blackfriday https://github.com/alecthomas/chroma https://github.com/muesli/smartcrop https://github.com/spf13/cobra https://github.com/spf13/viper  Hugo is ideal for blogs, corporate websites, creative portfolios, online magazines, single page applications or even a website with thousands of pages.\nHugo is for people who want to hand code their own website without worrying about setting up complicated runtimes, dependencies and databases.\nWebsites built with Hugo are extremelly fast, secure and can be deployed anywhere including, AWS, GitHub Pages, Heroku, Netlify and any other hosting provider.\nLearn more and contribute on GitHub.\n"
},
{
	"uri": "https://lczen.github.io/en/pt/",
	"title": "Presentations",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "Presentation list with reveal.js",
	"content": ""
}]